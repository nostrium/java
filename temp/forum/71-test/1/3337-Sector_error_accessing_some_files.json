{
  "id": "3337",
  "title": "Sector error accessing some files",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "23277",
      "timestamp": "2007-10-19T16:21:15+00:00",
      "author": "ktp",
      "content": "I have a 8GB key formatted FAT32 that boots well using grub4dos. It boots BartPE, VistaPE, Linux, DOS, DOS diskette image etc...  \nBut in one of my test, I boot to DOS and try some commands, changing directory and got \"Sector error\" message! Very strange.  \nSo I did check with chkdsk command line, check also with XP GUI with error sectors check, no problem so far, but still \"sector not found\"  \nwhen booting DOS (error on config.sys accessing a directory \\\\dos\\\\himem.sys).  \n\nAfter some investigation, I found out the problem: the partition table is set with 0x0b (FAT32) instead of 0x0c (FAT32X).  \nApparently DOS is sensible to this, while this does not cause any problem with BartPE, VistaPE, Knoppix etc...  \nSo by just changing 0x0b to 0x0c and nothing else, no more problem of \"sector error\" booting DOS !  \n\nMaybe jaclaz can give his advice on this problem ?   \n"
    },
    {
      "id": "23314",
      "timestamp": "2007-10-20T07:35:31+00:00",
      "author": "was_jaclaz",
      "content": "To clarify for other users, ktp is obviously referring to DOS 7.1, i.e. the one that comes with Win95 OSR2+and/or Win98 or DOS 8.0 which comes with Me and in the XP DOS bootdisk.  \nEarlier versions of DOS, up to 6.22 and including the first 7.0 version shipped with original Windows 95 have NO SUPPORT at all for FAT32.  \n\n@ktp  \nIt is possible, but it is of course just a ***guess*** on my part, that DOS 7.1 is more \"orthodox\" then later filesystems, and \"believes\" the byte in Partition Table, whilst later ones may simply \"ignore\" the Partition Type and access filesystems through LBA data anyway.  \n\nWe must remember that the \"general\" transition from CHS to LBA happened when the 8Gb barrier was hit, thus DOS 6.22, and NT 4.00 had this limit, whilst Win95, if I am not mistaken, was the first one to have LBA int13h extensions in the OS, in original edition just for FAT16 and from OSR 2 onwards also for FAT32.  \n\nWindows 2K comes almost 4 years after, and XP another couple years later, when ALL motherboards had LBA support in Bios and drives bigger than 8 Gb were already rather common.  \n\nAn interesting experiment you can carry on is to verify whether the same problem happens with DOS 8.0 files, as that is more or less of the same period of Win2K.  \n\nHere is how to extract files from XP:  \n[http://www.911cd.net...showtopic\u003d16745](http://www.911cd.net/forums//index.php?showtopic\u003d16745 \"External link\")  \n\n\u003cbr /\u003e\n\njaclaz   \n"
    },
    {
      "id": "23325",
      "timestamp": "2007-10-20T12:55:13+00:00",
      "author": "ktp",
      "content": "\u003e An interesting experiment you can carry on is to verify whether the same problem happens with DOS 8.0 files, as that is more or less of the same period of Win2K.\n\nI tried with DOS 8.0 (WinME in fact, when you type \"ver\" command), and same problem as with DOS 7.1 (Win98) : partition type on my 8 GB key  \nmust be set 0x0C (\u003dFAT32X), otherwise (if set to 0x0B\u003d(FAT32)) \"sector error\" under Win98, or no such message but lot of garbage characters on \"dir\" command under DOS 8.0, and for example hang on running an EXE (I guess that it loads incorrect sectors).   \n"
    }
  ]
}