{
  "id": "17436",
  "title": "Windows 7 Standard Embedded - slow operation from USB clones",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "159659",
      "timestamp": "2012-08-28T16:11:21+00:00",
      "author": "gegonut",
      "content": "I am running Windows 7 Standard Embedded from a USB drive for an interactive kiosk. The OS boots, launches a custom shell, the shell launches a program, and that\u0027s basically it. Everything is working quite well on my master drive, which I created with karyonix\u0027s method (USB prep and clone7.bat).  \n\nHowever, when I clone a drive, the OS is painfully slow from the new drive. With my master, from the time I power on until I see my application run is almost exactly two minutes. With my copied drive (via Casper), it takes about ten minutes, and at some point I am asked to restart to apply changes. After the reboot, I see slightly slower speeds (about two-and-a-half minutes versus two).  \n\nI am wondering why the cloned drive does not behave exactly as the master drive, and what I can do to get around this. We have Windows XPe masters that function perfectly as soon as we dupe them. I am also wondering why I would be asked to apply changes on a cloned drive -- shouldn\u0027t everything be identical? Thanks for any help you can provide.   \n\n**Edited by gegonut, 28 August 2012 - 04:25 PM.**\n"
    },
    {
      "id": "159662",
      "timestamp": "2012-08-28T16:37:56+00:00",
      "author": "MedEvil",
      "content": "When you are asked to apply changes, then there is a mismatch betwen the drivers required on the build machine and the target one.  \nThis error obviously gets fixed on first run, hence it works later ok.  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "159663",
      "timestamp": "2012-08-28T16:40:12+00:00",
      "author": "gegonut",
      "content": "I\u0027m confused as to why there should be any mismatch in the first place, though. I take the master from my test rig, clone it, and insert the copied drive into the test rig -- shouldn\u0027t everything be identical at that point?   \n\n**Edited by gegonut, 28 August 2012 - 04:49 PM.**\n"
    },
    {
      "id": "159667",
      "timestamp": "2012-08-28T16:57:47+00:00",
      "author": "MedEvil",
      "content": "Yes it should. Except for the disk signature, of course.  \n\nCould be a problem with the new authentication process. ![:confused1:](http://reboot.pro/public/style_emoticons/default/confused1.gif)  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "159669",
      "timestamp": "2012-08-28T17:23:38+00:00",
      "author": "gegonut",
      "content": "Any clues for a workaround, if that is the case?   \n"
    },
    {
      "id": "159670",
      "timestamp": "2012-08-28T18:02:29+00:00",
      "author": "steve6375",
      "content": "Compare the cloned drive with the master one. You can use a Disk Hex ediitor or RMPrepUSB Drive Info button or RMPrepUSB Disk Doctor to examine the disks and make changes if required.  \nRMPrepUSB can also change the disk signature.   \n"
    },
    {
      "id": "159672",
      "timestamp": "2012-08-28T19:16:55+00:00",
      "author": "gegonut",
      "content": "Thanks for the info, Steve -- your tool is one I use quite frequently for booting multiple ISOs from USB via GRUB4DOS, so thanks for that as well!  \n\nLooking through Drive Info, every bit of sector data and information looks identical aside from the type on partition 1: one says NTFS, the other FAT32LBA, which is interesting, as they are both formatted NTFS. Using Ctrl+T in RMPrepUSB, I checked the disk signatures, and they are (surprisingly) the same. Any other ideas?   \n"
    },
    {
      "id": "159677",
      "timestamp": "2012-08-28T20:38:32+00:00",
      "author": "steve6375",
      "content": "You could use a Disk Editor (e.g. RMPrepUSB - Disk Doctor Ctrl-D) to change the ptn type to 7.  \nDid you compare the PBR (use P0 in Disk Info to view)?  \n\nP.S. what are the two types of disk (model) and how big are the partitions on each?   \n"
    },
    {
      "id": "159707",
      "timestamp": "2012-08-29T15:21:56+00:00",
      "author": "gegonut",
      "content": "I took about twenty different drives that we use and inserted them into each USB port on the test board, allowing Windows to create lots of entries for them to (hopefully) automatically attach. Then I made about twenty copies on our duplicator with several different drives. I have checked a few with Drive Info and they are identical -- sector data, disk signature, partition info, size, serial, firmware, everything. Booting a few of them, my time is more in line with what the master is; about two-and-a-half to three minutes on first boot.  \n\nThe disks are Super Talent 8GB Pico-C, and each has a single partition that spans the entire disk (7647.969 MB). I know from looking at them via USBDeview that they have a few different model names, probably due to outsourced manufacturing, so I\u0027m hoping that allowing Windows to install enough of them on several ports has remedied the issue for at least the vast majority of time.  \n\nSo is it fair to assume that if Drive Info shows identical information, that Windows cannot tell the disks apart?   \n"
    },
    {
      "id": "159710",
      "timestamp": "2012-08-29T16:32:28+00:00",
      "author": "MedEvil",
      "content": "Nope sorry. Windows might not be able to tell the partitions apart, but it should still be able to tell the sticks apart. Especialy if they don\u0027t all contain the same hardware.   \nLexar is most famous for pulling stunts like that.  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "159712",
      "timestamp": "2012-08-29T17:06:57+00:00",
      "author": "steve6375",
      "content": "Windows will probably read the USB serial number of each device, this is listed at the very bottom of the RMPrepUSb Disk Info output.  \n\nYou could try using RMPrepUSB Drive--\\\u003eFile and File--\\\u003eDrive to duplicate the sticks?  \nAlso Passmark have a free USB duplicator app which lets you duplicate many sticks in one go. [http://osforensics.c...usb-images.html](http://osforensics.com/tools/write-usb-images.html \"External link\")   \n"
    },
    {
      "id": "159760",
      "timestamp": "2012-08-30T18:10:28+00:00",
      "author": "gegonut",
      "content": "Our drives all show the same serial and firmware. I\u0027m very interested in how Windows can even tell them apart. Everything on the drives that I\u0027ve tested so far is identical. I\u0027m trying to find one that\u0027s a little bit different to see if the port-training has done its job sufficiently.  \n\nI\u0027m giving ImageUSB a spin right now, and I\u0027m going to try RMPrepUSB\u0027s function as well -- I can\u0027t believe all of the functionality you\u0027ve squeezed into that app. Thanks for all your help, Steve.   \n"
    }
  ]
}