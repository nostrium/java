{
  "id": "22557",
  "title": "Use \u0027AIO-Boot\u0027 as a secondary menu \u003d Load \u0027AIO Boot\u0027 from other boot loader (e.g. \u0027Windows boot manager...",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "219396",
      "timestamp": "2021-09-16T18:58:11+00:00",
      "author": "sara - pmedia",
      "content": "Hello Friends â˜º  \nI tried to ask in the author\u0027s (AIO-Boot) forum But there is no answer  \nIs it possible to use AIO-Boot menu As a secondary menu?  \ni.e  \nI really like it Mainly due to the file manager and boot directly from .wim/.vhd/.iso files Without menu editing  \nIt\u0027s nice and useful  \nBut with all due respect  \nI can not say goodbye to My private old and perfect multiboot menu  \nI have several reasons to prefer My menu as main bootloader  \nAnd I want to load AIO-Boot as a secondary menu  \nHow is this possible?\n\n"
    },
    {
      "id": "219399",
      "timestamp": "2021-09-16T22:59:03+00:00",
      "author": "alacran",
      "content": "Only valid on MBR/CSM:\n\nIf main loader is Win bootmanager, extract AIO creator to the root of a partition (FAT-32 or NTFS), but DO NOT select to make any changes to the MBR, and run it from there to add your files, using [BootIce](http://reboot.pro/index.php?app\u003ddownloads\u0026showfile\u003d592 \"\") create an entry pointing to the location of \\\\AIO\\\\grub\\\\grub2win, this will let you start the Grub2 config file of AIO. Please see attached pictures.\n\nOr if using grub4dos (for MBR) copy grldr.mbr and grld, and create your menu.lst next to win bootmanager, and add following commands in your menu.lst:\n\n\u003e title AIO Grub4dos Menu - /AIO/Menu/Grub4dos.lst  \n\u003e find --set-root /AIO/Menu/Grub4dos.lst  \n\u003e configfile /AIO/Menu/Grub4dos.lst  \n\u003e\n\u003e title AIO Grub2 Menu - /AIO/grub/i386-pc/core.img  \n\u003e find --set-root /AIO/grub/i386-pc/core.img  \n\u003e kernel /AIO/grub/i386-pc/core.img  \n\nDownload link: [grub4dos-0.4.6a-2021-08-13.7z](http://dl.grub4dos.chenall.net/grub4dos-0.4.6a-2021-08-13.7z \"External link\") 520K\n\nOr if main loader is grub2 you can use following commands:\n\n\u003e if \\[ -e \"/AIO/grub/grub.cfg\" \\]; then  \n\u003e menuentry \"AIO Menu - /AIO/grub/grub.cfg\" {  \n\u003e set prefix\u003d($root)/AIO/grub  \n\u003e configfile /AIO/grub/grub.cfg  \n\u003e }  \n\u003e fi\n\nalacran  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![AIO.png](http://reboot.pro/uploads/monthly_09_2021/post-26560-0-93467600-1631836058_thumb.png)](http://reboot.pro/uploads/monthly_09_2021/post-26560-0-93467600-1631836058.png \"AIO.png - Size: 73.93KB\"){#ipb-attach-url-18144-0-30202500-1676066378}\n* [![grub4dos.png](http://reboot.pro/uploads/monthly_09_2021/post-26560-0-44822000-1631835043_thumb.png)](http://reboot.pro/uploads/monthly_09_2021/post-26560-0-44822000-1631835043.png \"grub4dos.png - Size: 70.79KB\"){#ipb-attach-url-18143-0-30212400-1676066378}\n\n"
    },
    {
      "id": "219400",
      "timestamp": "2021-09-16T23:18:20+00:00",
      "author": "alacran",
      "content": "But I recommend to better use [Grub2 File Manager](https://github.com/a1ive/grub2-filemanager \"External link\") of **a1ive,** no need to extract the files from the ISOyou want to boot,and it\u0027s also good for booting WinPE WIM and VHD files:\n\nDownload [grubfm.iso](https://github.com/a1ive/grub2-filemanager/releases/tag/v7.4.0 \"External link\") in your prefered language, locate it next to menu.lst or on the root of any partition of same HD, and add to your grub4dos for MBR menu.lst following commands:\n\n\u003e title Grub2 File Manager of a1ive - /grubfm.iso  \n\u003e find --set-root /grubfm.iso  \n\u003e map --mem /grubfm.iso (0xff)  \n\u003e map --hook  \n\u003e chainloader (0xff)\n\n**NOTE:** on [Grub2 File Manager](https://github.com/a1ive/grub2-filemanager \"External link\") page you can find other commands for chainloading it from other loaders.\n\nalacran\n\n"
    },
    {
      "id": "219402",
      "timestamp": "2021-09-17T04:37:04+00:00",
      "author": "sara - pmedia",
      "content": "thanks!! :tongue:\n\n(aioboot File Manager also no need to extract the files)\n\n1. \u0027Grub2 File Manager of a1ive\u0027 can be use in uefi ?\n\n"
    },
    {
      "id": "219403",
      "timestamp": "2021-09-17T04:52:43+00:00",
      "author": "wimb",
      "content": "In my Manual [VHD_WIMBOOT PDF](https://github.com/wimbrts/VHD_WIMBOOT/releases \"External link\") there is info on How to use AIO in Multi-Boot menu:\n\n\u003e How to Boot from USB with AIO Boot - AIO Boot - AIO Info\n\u003e\n\u003e - Download AIOBoot-v0.9.9.18.7z - Unpack and Copy content of folder AIOBoot-v0.9.9.18 to USB FAT32 and overwrite existing UEFI Boot files\n\u003e\n\u003e - On USB run AIOCreator.exe - Select Integration Linux OS and your Linux ISO - Linux Mint - Knoppix Live - Ubuntu - Kali Linux 64-bit Live\n\u003e\n\u003e - UEFI_MULTI Super Grub2 keeps AIO UEFI files and Add a1ive Grub2 File Manager to AIO\\\\grubfm and Add Boot entry \\\\AIO\\\\grub\\\\grub2win\n\nUEFI_MULTI has also integrated a1ive Grub2 and a1ive Grub2 File Manager\n\n[UEFI_MULTI](https://github.com/wimbrts/UEFI_MULTI/releases \"External link\") auto creates the AIO integration menuentry for UEFI and MBR Grub2 in \\\\grub\\\\grub.cfg and creates the MBR Grub4dos entry in menu.lst according to\n\n**UEFI booting with Grub2 using \\\\grub\\\\grub.cfg**\n\n```\nif [ -e \"/efi/boot/grubfmx64.efi\" ]; then\nmenuentry \"Grub2 x64 EFI File Manager of a1ive - /efi/boot/grubfmx64.efi\" {\n  chainloader /efi/boot/grubfmx64.efi\n}\nfi\n\nif [ -e \"/AIO/grub/grub.cfg\" ]; then\nmenuentry \"AIO Menu - /AIO/grub/grub.cfg\" {\n  set prefix\u003d($root)/AIO/grub\n  configfile /AIO/grub/grub.cfg\n}\nfi\n\n```\n\n-\n\n**MBR booting Grub4dos menu.lst Or chainload Grub2 with \\\\grub\\\\grub.cfg as given above**\n\n```\niftitle [if exist (hd0,0)/grubfm.iso] Grub2 File Manager of a1ive - (hd0,0)/grubfm.iso\nmap --mem (hd0,0)/grubfm.iso (0xff)\nmap --hook\nchainloader (0xff)\n\niftitle [if exist (hd0,0)/grubfm_multiarch.iso] Grub2 File Manager of a1ive - (hd0,0)/grubfm_multiarch.iso\nmap --mem (hd0,0)/grubfm_multiarch.iso (0xff)\nmap --hook\nchainloader (0xff)\n\niftitle [if exist (hd0,0)/grub/core.img] Grub2 Menu of a1ive - (hd0,0)/grub/core.img\nkernel /grub/core.img\n\niftitle [if exist %iso_drive%/AIO/Menu/Grub4dos.lst] AIO Grub4dos Menu - %iso_drive%/AIO/Menu/Grub4dos.lst\nconfigfile %iso_drive%/AIO/Menu/Grub4dos.lst\n\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "219404",
      "timestamp": "2021-09-17T05:09:36+00:00",
      "author": "sara - pmedia",
      "content": "Amazing  \nFile Manager of a1ive  \nI\u0027ve never seen it  \nThanks  \nit\u0027s better  \nNow I have no need for aioboot  \nThanks\n\n"
    },
    {
      "id": "219405",
      "timestamp": "2021-09-17T05:12:18+00:00",
      "author": "sara - pmedia",
      "content": "@WIMB\n\nTHANK YOU\n\nI WILL USE IT\n\n"
    },
    {
      "id": "219678",
      "timestamp": "2021-10-25T11:07:15+00:00",
      "author": "someoneinthedark",
      "content": "\u003e Only valid on MBR/CSM:\n\u003e\n\u003e If main loader is Win bootmanager, extract AIO creator to the root of a partition (FAT-32 or NTFS), but DO NOT select to make any changes to the MBR, and run it from there to add your files, using [BootIce](http://reboot.pro/index.php?app\u003ddownloads\u0026showfile\u003d592 \"\") create an entry pointing to the location of \\\\AIO\\\\grub\\\\grub2win, this will let you start the Grub2 config file of AIO.\n\ni\u0027m trying to boot ventoy on a vhd from the win bootmgr, but the boot partition doesn\u0027t have a grub2win file in it, i tried going through the grub2win project if i could find any default grub2win file.. i guess i\u0027ll have to compile from the source.. the problem with aio boot is the hardcoded path \"\\\\AIO\", is there any other known source?\n\n**Edited by someoneinthedark, 25 October 2021 - 11:08 AM.**\n"
    },
    {
      "id": "219679",
      "timestamp": "2021-10-25T11:55:55+00:00",
      "author": "alacran",
      "content": "\u003e i\u0027m trying to boot ventoy on a vhd from the win bootmgr, but the boot partition doesn\u0027t have a grub2win file in it, i tried going through the grub2win project if i could find any default grub2win file.. i guess i\u0027ll have to compile from the source.. the problem with aio boot is the hardcoded path \"\\\\AIO\", is there any other known source?\n\nIt is not clear to me if you are trying to boot Ventoy or AIO. Or if you are trying to use the precompiled version of **grub2win** fromAIO to boot Ventoy.\n\n**Ventoy:**\n\nThe author DOES NOT allow to boot it from Win bootmgr or grub4dos since some time ago, the program is internally coded to refuse booting this way. The author only allows it to boot from an EFI partition on a USB device (the USB device is created by his own tool). Only option remaining is compile Ventoy yourself from the source code.\n\nAlso the precompiled version of **grub2win** fromAIO DOES NOT work to boot Ventoy.\n\n**AIO:**\n\nAIO has its own precompiled version of **grub2win** ready to be used. The location of grub2win is this: **\\\\AIO\\\\grub\\\\grub2win** , you can follow the instructions on post [No. 2](http://reboot.pro/index.php?showtopic\u003d22557#entry219399 \"\"), use pictures attached in that post as a guide to create the entry in your BCD using BootIce.\n\nalacran\n\n"
    },
    {
      "id": "219682",
      "timestamp": "2021-10-25T14:09:10+00:00",
      "author": "someoneinthedark",
      "content": "\u003e It is not clear to me if you are trying to boot Ventoy or AIO. Or if you are trying to use the precompiled version of **grub2win** fromAIO to boot Ventoy.\n\nYes i did use the precompiled version, as expected it didn\u0027t work because of a different hard-coded path it used. And i was thinking of compiling my own **grub2win** file.\n\n\u003e **Ventoy:**\n\u003e\n\u003e The author DOES NOT allow to boot it from Win bootmgr or grub4dos since some time ago, the program is internally coded to refuse booting this way. The author only allows it to boot from an EFI partition on a USB device (the USB device is created by his own tool). Only option remaining is compile Ventoy yourself from the source code.\n\u003e\n\u003e Also the precompiled version of **grub2win** fromAIO DOES NOT work to boot Ventoy.\n\nI see, didn\u0027t know about that, thanks. Will go through it\u0027s source at a later point.\n\nAnd the VHD i created works when tested in a VM (qemu), but fails to boot on a real machine and enters into rescue mode. What i followed was created an entry for VHD with EasyBCD and changed the application path to **\\\\AIO\\\\grub\\\\grub2win**using BootICE\n\n"
    },
    {
      "id": "219701",
      "timestamp": "2021-10-26T10:14:12+00:00",
      "author": "alacran",
      "content": "Maybe you would like to read my topic [Testing UEFI booting on a only Bios PC](http://reboot.pro/index.php?showtopic\u003d22467\u0026hl\u003d \"\")\n\n**You will find there several experiments related to boot AIO in different ways.**\n\nTo be able to achive the goal of let AIO load its precompiled (MBR) version of Clover.\n\nalacran\n\n"
    },
    {
      "id": "219722",
      "timestamp": "2021-10-26T17:50:33+00:00",
      "author": "someoneinthedark",
      "content": "I didn\u0027t mention actually what the error was, it was about normal.mod \\\u0026 some aioboot.html being missing; they\u0027re present but due to some reason they aren\u0027t being detected, so the reason is trying to boot UEFI on a BIOS only PC? I believe my PC supports UEFI but i\u0027ve my drive partitioned as MBR layout. And any idea of what parts of ventoy code i can patch to unblock the restrictions? Sorry i\u0027m quite new. I tried using 1.0.27 which according to E2B is the last unblocked version but unfortunately it doesn\u0027t work on drives other than USBs unlike the latest versions..   \n"
    },
    {
      "id": "219723",
      "timestamp": "2021-10-26T17:54:32+00:00",
      "author": "someoneinthedark",
      "content": "EDIT: I might actually dump the idea of booting from a VHD   \n"
    },
    {
      "id": "219724",
      "timestamp": "2021-10-26T18:09:14+00:00",
      "author": "alacran",
      "content": "I also prefer to install on MBR mode in all my PCs, almost all are CSM/MBR and UEFI capables, with only a single exception of an old PC that is only MBR capable, I made those experiments in that topic only for testing and learning, In fact I hate UEFI restrictions.\n\nI have no idea of what parts of Ventoy code you can patch to unblock the restriction.\n\nI suggest you to forget about Ventoy and use better **a1ive** \u0027s [Grub2 File Manager](https://github.com/a1ive/grub2-filemanager \"External link\"), it works very fine.\n\ngrub4dos (MBR) menu.lst entry:\n\n```\ntitle Grub2 File Manager of a1ive\nmap --mem /grubfm.iso (0xff)\nmap --hook\nchainloader (0xff)\n\n```\n\nalacran\n\n"
    },
    {
      "id": "219728",
      "timestamp": "2021-10-27T12:50:36+00:00",
      "author": "someoneinthedark",
      "content": "I found that RMPrepUSB has a tutorial on patching ventoy here:\n\n[https://rmprepusb.co...compile-ventoy/](https://rmprepusb.com/tutorials/147-how-to-patch-and-compile-ventoy/ \"External link\")\n\n\u003e **Ventoy:**\n\u003e\n\u003e The author DOES NOT allow to boot it from Win bootmgr or grub4dos since some time ago, the program is internally coded to refuse booting this way. The author only allows it to boot from an EFI partition on a USB device (the USB device is created by his own tool). Only option remaining is compile Ventoy yourself from the source code.\n\nOk, so a week ago, i mounted the Ventoy\u0027s EFI boot partition to make some changes to grub.cfg - one of which was trying to remove the website that is displayed at the bottom, stored inside the **VTOY_TEXT_MENU_VER** variable. Even after modifying - it didn\u0027t go away, for a while i was thinking because of the same reason you\u0027d mentioned, the author might have internally coded to prevent that.\n\nBut on going through the above article it is mentioned that this would only work for the text menu \\\u0026 not for a gfxmenu/theme menu. Why is it that so? Any idea of why is it in this way?\n\nAlso as a tip for gfxmenu it was suggested to make this text invisible by changing it\u0027s color to match that of the background image.\n\n"
    }
  ]
}