{
  "id": "22485",
  "title": "Which tool to enlarge Windows system drive (C:)?",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "218529",
      "timestamp": "2021-06-29T22:45:28+00:00",
      "author": "Al Gorithm",
      "content": "So, I received and installed a new Samsung 970 EVO Plus 1TB M.2 NVMe SSD on a Gigabyte GA-H170M-D3H-GSM mainboard, which currently has a Samsung 850 EVO 500GB SSD, containing system (C:), data (D:), and G4D (E:) partitions. Formatted, and copied all data from the old data partition to the new drive. The original drive layout:\n\n500GB:\n\n\\| C: System (Primary) \\| Recovery (Primary) \\| D: Data (Logical) \\| E: G4D (Logical) \\|\n\nThe old data partition is now drive L:, to allow the new data drive to be D:. The new layout:\n\n500GB\n\n\\| C: System (Primary) \\| Recovery (Primary) \\| L: Data (Logical) \\| E: G4D (Logical) \\|\n\n1TB\n\n\\| D: Data (Primary) \\|\n\nThe intention is to delete drive L: (old data partition) and to use that space to increase the size of both the C: and E: drives. At the same time, why not change the E: drive from Logical to Primary? So the target layout:\n\n500GB\n\n\\| C: System (Primary) \\| Recovery (Primary) \\| E: G4D (Primary) \\|\n\n1TB\n\n\\| D: Data (Primary) \\|\n\nTo delete the L: drive is pretty easy. But the real question here is: what tool to use to extend the C: system partition, which will also involve moving the Recovery partition towards the end of the drive? An additional question would be: should the E: partition be converted from Logical to Primary?\n\nThe recommended tool will likely be a Linux tool (GParted?), which could be installed in the E: G4D partition--but since that partition will also be modified (extended), it would likely be safer to run the tool from a USB stick, yes?\n\nThanks for any assistance.\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "218530",
      "timestamp": "2021-06-29T22:55:28+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "I personally have always used GParted to manage my disks\u0027 partitions.  \n\nAlthough i sometimes will just use diskpart/Disk Management in Windows if i just need to create a single primary partition on a disk. I dont trust Microsoft\u0027s tools to do anything more complex than that. If you have advanced partitioning needs, dont use Microsoft\u0027s tools.   \n"
    },
    {
      "id": "218531",
      "timestamp": "2021-06-30T00:22:41+00:00",
      "author": "antonino61",
      "content": "hard disk genius portable\n\n"
    },
    {
      "id": "218532",
      "timestamp": "2021-06-30T05:14:20+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "\u003e hard disk genius portable\nNo thanks, i generally dont trust Windows partitioning tools. Linux tools are far superior.  \n\nBut if i had to use a Windows based tool, then it would be either MiniTool or EaseUS. They\u0027re both very similar and have a nearly identical GUI. In terms of which is better, I\u0027d rate them as being equal.  \n\nMy preferred way to partition disks is to boot a Linux VM, then attach the physical (not virtual) disk to the VM. VMware Workstation does physical disk attachment very well.  \n\nThe exception is when i need to partition all internal drives at once, for that i boot into a Linux live disc image (non-VM).   \n"
    },
    {
      "id": "218533",
      "timestamp": "2021-06-30T06:10:21+00:00",
      "author": "antonino61",
      "content": "Attaboy!!!\n\n"
    },
    {
      "id": "218537",
      "timestamp": "2021-06-30T17:14:28+00:00",
      "author": "Al Gorithm",
      "content": "\u003e hard disk genius portable\n\nDid you mean [https://www.portable...dex.php?id\u003d3021](https://www.portablefreeware.com/index.php?id\u003d3021 \"External link\")? And is that software from [https://www.diskgenius.com/](https://www.diskgenius.com/ \"External link\"), which on its site makes no mention of a free version?\n\n"
    },
    {
      "id": "218538",
      "timestamp": "2021-06-30T17:19:34+00:00",
      "author": "Al Gorithm",
      "content": "\u003e No thanks, i generally dont trust Windows partitioning tools. Linux tools are far superior.  \n\u003e\n\u003e But if i had to use a Windows based tool, then it would be either MiniTool or EaseUS. They\u0027re both very similar and have a nearly identical GUI. In terms of which is better, I\u0027d rate them as being equal.  \n\u003e\n\u003e My preferred way to partition disks is to boot a Linux VM, then attach the physical (not virtual) disk to the VM. VMware Workstation does physical disk attachment very well.  \n\u003e\n\u003e The exception is when i need to partition all internal drives at once, for that i boot into a Linux live disc image (non-VM).\n\nIn the past, I have used both MiniTool and EaseUS. I liked MiniTool, and in fact it is still installed on my number two system, where it was used some years ago. But it seems that the current versions of most of these tools have become more restrictive, and that many things now require the paid version. This is true specifically of MiniTool to expand the system partition.\n\nIn any case, like you I am uneasy with using a Windows tool to modify the Windows system partition. I would prefer to use something like GParted, but am not sure whether it can resize a Windows NTFS system partition?\n\n"
    },
    {
      "id": "218539",
      "timestamp": "2021-06-30T18:48:06+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "\u003e In the past, I have used both MiniTool and EaseUS. I liked MiniTool, and in fact it is still installed on my number two system, where it was used some years ago. But it seems that the current versions of most of these tools have become more restrictive, and that many things now require the paid version. This is true specifically of MiniTool to expand the system partition.  \n\u003e\n\u003e In any case, like you I am uneasy with using a Windows tool to modify the Windows system partition. I would prefer to use something like GParted, but am not sure whether it can resize a Windows NTFS system partition?\n\nWell, you can always obtain the paid version from an \"unofficial source\". It depends on your level of comfort with that kind of thing. My morals/ethics are quite ambiguous, so it doesnt bother me.  \n\nAnd yes, GParted can resize a Windows NTFS system partition, no problem. If that partition is heavily fragmented, then it will take much longer.   \n"
    },
    {
      "id": "218540",
      "timestamp": "2021-06-30T20:11:07+00:00",
      "author": "antonino61",
      "content": "\u003e Did you mean [https://www.portable...dex.php?id\u003d3021](https://www.portablefreeware.com/index.php?id\u003d3021 \"External link\")? And is that software from [https://www.diskgenius.com/](https://www.diskgenius.com/ \"External link\"), which on its site makes no mention of a free version?\n\nthe portable version, no such thing as a free version.\n\n"
    },
    {
      "id": "218542",
      "timestamp": "2021-06-30T23:47:36+00:00",
      "author": "Al Gorithm",
      "content": "\u003e And yes, GParted can resize a Windows NTFS system partition, no problem. If that partition is heavily fragmented, then it will take much longer.\n\nOkay, so I\u0027ve got my GRUB4DOS USB stick with the latest versions of three images: Clonezilla, GParted, and Memtest86+. Clonezilla and Memtest86+ run fine.\n\nGParted goes through the usual quick screens of Linux booting, and then clears the screen and shows:\n\nDebian login: user (automatic login)\n\nA few lines here about Debian GParted being without warranty, etc.\n\nAnd then it just stops. At that point, anything I type is echoed to the screen, as though I were in a terminal, but no matter what is typed, nothing else happens. Eventually I need to reboot.\n\nMy menu entry is:\n\ntitle GParted Live\\\\nGParted Live 1.3.0-1 manual mode.\\\\n\\\\n\\\\nPress arrows to highlight; ENTER or b to boot; e to edit; c for command-line.  \nfind --set-root /images/gparted-live-1.3.0-1-amd64.iso  \nmap /images/gparted-live-1.3.0-1-amd64.iso (0xff)  \nmap --hook  \nroot (0xff)  \nkernel /live/vmlinuz initrd\u003d/live/initrd.img boot\u003dlive union\u003doverlay config components quiet noswap noprompt nomodeset ip\u003dfrommedia nosplash keyboard-layouts\u003dNONE locales\u003den_US.UTF-8 vga\u003d789 screen\u003d1024x768 xmode\u003d1024x768 xvideomode\u003d1024x768 video\u003duvesafb:mode_option\u003d1024x768-24 utc\u003dno gl_batch username\u003duser findiso\u003d/images/gparted-live-1.3.0-1-amd64.iso toram\u003dfilesystem.squashfs  \ninitrd /live/initrd.img  \n\nThis pretty much parallels the menu entry for Clonezilla, apart from the parameters of the kernel line being quite different. Does anyone see any errors there?  \n\n"
    },
    {
      "id": "218543",
      "timestamp": "2021-07-01T00:40:55+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "Definitely sounds like a graphical issue. Or xwindows/Wayland are failing to load you into the desktop, so it just drops you into a terminal instead.  \n\nWhat happens if you use the \"startx\" command (no quotes, just type it and hit enter)?  \n\nI cant tell you what kernel command line options to use, it depends on your hardware. I would have recommended nomodeset or nosplash, but it looks like you\u0027re using those already. I know that most Linux distros i use load fine on my hardware, no need to mess with the parameters most of the time.  \n\nWhat\u0027s your hardware setup, like:  \n\nDesktop?  \nNotebook?  \nDedicated GPU (NVidia or AMD)?  \nIntegrated/shared GPU (Intel)?  \n\nInstead of a Grub4dos USB, try making an Easy2Boot USB drive. Drop the ISO files into the /_ISO/Linux folder. Then boot the USB and try to load them. Once you\u0027ve gotten past E2B and into the main bootloader menu of the ISOs, try using all available options that are there. You might get different results.  \n\nYou can also try making a Ventoy USB, but i have no experience with that.  \n\nIf all this doesnt work, then you might want to try loading a live ISO of a different distro, like Ubuntu/Linux Mint/Fedora. I personally use a Parted Magic live CD. It\u0027s paid software, but i obtained it from an \"unofficial source\". PM is the slimmest live CD i\u0027ve ever used, and its\u0027 packed with tools. Its\u0027 main use is to be used in live CD mode, as a repair/diagnostics tool. It\u0027s not meant to be installed to disk as an everyday OS, like a \"normal\" distro.   \n"
    },
    {
      "id": "218550",
      "timestamp": "2021-07-01T07:52:38+00:00",
      "author": "alacran",
      "content": "**@ AnonVendetta**\n\nHi, even if I don\u0027t share your preference for using Linux tools for easy things that can be made using Windows tools as a WinPE + [DiskGenius Portable free](https://www.diskgenius.com/download.php \"External link\"), or [MiniTool Partition Wizard Free](https://www.partitionwizard.com/free-partition-manager.html \"External link\"), **It is good to see you helping other people, I\u0027m glad you finally got the spirit of this forum.**\n\nBy the way, I have also used since long time ago [Parted Magic](https://partedmagic.com/ \"External link\") (paid software $11 US) it\u0027s a very good tool, it boots fine from [Ventoy](https://www.ventoy.net/en/index.html \"External link\"), but there is also this old Topic here: [Boot Parted-Magic.iso from usb with grub4dos \\\u0026 grub2](http://reboot.pro/index.php?showtopic\u003d22125\u0026hl\u003d%2Bparted+%2Bmagic \"\")\n\n**@ Al Gorithm**\n\nHope this info could be useful for you.\n\nalacran\n\n"
    },
    {
      "id": "218553",
      "timestamp": "2021-07-01T08:47:34+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "\u003e **@ AnonVendetta**   \n\u003e\n\u003e It is good to see you helping other people, I\u0027m glad you finally got the spirit of this forum.  \n\u003e\nIt\u0027s weird that you say this, because I actually could give 2 fucks about helping anyone here. I dont have a helping spirit. I mainly post to burn time, and when I\u0027m having issues. If I post to help someone, it\u0027s not my intent, it just means that my day has been better than usual. You clearly dont know me that well.  \n\nMy main reasons for not buying Parted Magic are:  \n\n1. They\u0027ve assembled a great distro...but the issue is that they take free and open source tools, bundle them into a convenient package, then charge for them. The devs are hypocrites. Linux is about free as in freedom, and free as in \"monetarily free\". And of course, freely sharing, which I could care less about.  \n\n2. I fly the pirate flag, preferring to reap the benefits and not pay, when feasible.   \n"
    },
    {
      "id": "218558",
      "timestamp": "2021-07-01T14:41:04+00:00",
      "author": "karyonix",
      "content": "Recovery partition is not really necessary. You may delete the recovery partition.\n\nIf you run Windows Setup \"upgrade\" later, it may re-create a new recovery partition.\n\nDisk Management (diskmgmt.msc) can be used to extend a partition to the following empty space.\n\nThe command line utility diskpart can be used to extend a partition as well.\n\nDisk Management may not allow to delete recovery partition though.\n\nMy favorite tool to copy or move partitions is \"gparted\" in ubuntu desktop live system. Current ubuntu release is 21.04.\n\nI usually use \"Rufus\" when I write ubuntu to USB flash drive from iso.\n\nBefore you shutdown Windows to boot to ubuntu, or another OS, or another instance of Windows, make sure you disable the \"Turn on fast startup (recommenced)\" option in Control Panel - Power Options - Choose what the power buttons do.\n\nWhen recovery partition on MBR disk is moved, its reference in the BCD is broken.\n\nAfter move, the broken value in BCD can be fixed with bcdedit.\n\nAssign a drive letter for the recovery partition.\n\nIn Administrator Command Prompt\n\ndiskpart\n\nlist disk\n\nselect disk *0* ---- The drive number can change. Make sure you choose the correct drive.\n\nlist partition\n\nselect partition *2* ---- Your recovery partition number. Make sure you choose the correct partition.\n\nassign letter\u003d*R*\n\nIn another Administrator Command Prompt window:\n\nbcdedit /enum {default}\n\nThere is recoverysequence *{guid1}* . Copy the guid *{guid1}*.\n\nbcdedit /enum *{guid1}*\n\nIts description should be \"Windows Recovery Environment\".\n\nLook for value device and osdevice. They are supposed to be like \"ramdisk\u003d\\[...\\]\\\\Recovery\\\\WindowsRE\\\\Winre.win,*{guid2}* \". Copy the guid *{guid2}*.\n\nbcdedit /enum *{guid2}*\n\nIts description should be \"Windows Recovery\".\n\nLook for value ramdisksdidevice. It is supposed to be like \"partition\u003d...\" .\n\nIf the new recovery partition is assigned *R:*,\n\nbcdedit /set *{guid2}* ramdisksdidevice partition\u003d*R:*\n\nEDIT : The file C:\\\\Windows\\\\system32\\\\Recovery\\\\ReAgent.xml and its copy *R*:\\\\Recovery\\\\WindowsRE\\\\ReAgent.xml contain offset of the recovery partition. You may also have to update the offset.\n\nBack to diskpart window.\n\nremove ---- Remove drive letter\n\nexit\n\nI think this should be enough to make Windows Recovery work. I am not sure if there is any thing else in the recovery partition.\n\nAlternatively \"BootICE\" 1.3.3.2 can be used to view/edit BCD with a GUI. Edit BCD in Professional Mode, Look in BcdStore\\\\Device objects\\\\Windows Recovery. Set SdiDevice value to the new recovery partition after moving.\n\n**Edited by karyonix, 02 July 2021 - 12:38 PM.**\n"
    },
    {
      "id": "218560",
      "timestamp": "2021-07-01T18:08:10+00:00",
      "author": "Al Gorithm",
      "content": "This is a desktop with a Gigabyte GA-H170M-D3H-GSM mainboard using integrated graphics, i7-6700 (Skylake), 8GB RAM, Samsung 850 EVO 500GB main drive, and now Samsung 970 EVO Plus 1TB M.2 NVMe data drive.\n\nTyping \u0027startx \\\u003creturn\\\u003e\u0027 did nothing, just like typing \u0027ls\u0027, or \u0027pwd\u0027, or anything else. Although typing is echoed as in a terminal, there are no prompts, and it may not actually be a terminal.\n\nHow is Parted Magic better than GParted? I have no problem with spending $11, if it will solve the issue at hand, but I would still like to solve the issue, rather than leaving it unresolved.\n\nWill now try some of the other suggestions. Thanks for help.\n\n@karyonix, thanks for help with fixing BCD after moving Recovery partition, which I will try once I\u0027ve done the move.\n\n"
    },
    {
      "id": "218561",
      "timestamp": "2021-07-01T19:55:03+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "I dont see anything wrong with your setup, other than the integrated gfx. Linux used to have alot of issues with iGPUs, and to a much lesser extent it still does. Dedicated GPUs like mine have always been more reliable when booting Linux, regardless of distro.  \n\nI\u0027m not saying that you should use a different GPU though, only that you will need to do more testing. If you dont play games or use other software that can make use of a dedicated GPU\u0027s graphics acceleration capabilities, then integrated is fine for your needs.  \n\nIt\u0027s weird that you say that other basic commands like ls dont return output either (other than echoing back to the screen), so yeah, you\u0027re probably not in a terminal/shell. Because under normal cirmcumstances, ls should give a list of files/directories in the current working directory.  \n\nThe startx command merely tries to start the xwindows GUI subsystem. Or more simply, what most people would call the desktop. The point of making this suggestion was to see if it would return an error. If so, then it\u0027s probably a graphics issue.  \n\nBut even still, i think it\u0027s a graphics issue, since it apparently didnt drop you into the desktop or a functional terminal. That most likely means that something failed to load.  \n\nParted Magic includes a recent version of GParted, as well as a ton of other diagnostics/recovery tools. It\u0027s quite frankly the best Linux based recovery CD i\u0027ve ever used. I do believe that it also includes MemTest86, so no need to keep a separate ISO for that. I know there is also a dedicated GParted distro, but i think GParted is its\u0027 main attraction and it doesnt include much else.  \n\nIt looks like PM doesnt have a trial/shareware download, you have to pay to access it at all (legitimately). And i think i remember that it used to be one payment for a lifetime membership that got you access to all future updates. It looks like it is $11 to buy access to the current version, but future versions will require paying again. Or you could get the one year sub for $39, which would get you access to all the updates released within a year. There are typically 3-4 updates released within a 1 year period.  \n\nHowever, all this means you cant legitimately try without buying. So...i will suggest that you pirate the most recent version of PM from an \"unofficial source\". If it works and you like it, then do the \"right thing\" (in your mind) and pay. If it doesnt work, then delete it. I\u0027m basically saying to pirate it as a way of \"try before you buy\". Which i sonetimes do, although i usually just not pay, ever.  \n\nHowever, if you ONLY need access to GParted, then you can just boot some other regular/common live CD distro that already has it built in.  \n\nI know you\u0027re trying to solve the issue, that\u0027s why i\u0027ve suggested different things, like creating other bootable USBs, trying other distros and all the available options in the bootloader menus, etc.  \n\nOnce you get this working some other way, then you can go back to trying to get Debian booting (or whatever else, if you change your mind) on a Grub4Dos USB. I would honestly suggest trying to boot the ISOs via Easy2Boot, as it is powered by G4D anyway.   \n"
    },
    {
      "id": "218562",
      "timestamp": "2021-07-01T20:29:36+00:00",
      "author": "Al Gorithm",
      "content": "Okay, I\u0027m going to try some of those suggestions. Just an update here on what I\u0027ve been trying.\n\nIn the Gparted forum, in a thread about boot problems, someone described a problem similar to mine (hanging after the warranty disclaimer), and the response was, Do other live distros boot; if so, try to find one that has GParted in it, or try systemrescuecd.\n\nSo I downloaded the latest systemrescuecd, and found a couple of G4D menu entries for it, which I tried. The first menu entry was similar to ones above which I have for Clonezilla and GParted; that one simply returned immediately to the G4D menu. The second menu entry uses chainload, and that one actually booted the systemrescuecd menu, where one can choose graphics options, etc. But after selecting any of those, it timed out and gave the error:\n\n\u0027/dev/disk/by-label/RESCUE803\u0027 device did not show up after 30 seconds...\n\nFalling back to interactive prompt\n\nsh: can\u0027t access tty; job control turned off\n\n\\[rootfs \\]#\n\nAt that point, not knowing what else to try, I reboot back to G4D menu. Then, I tried using the chainload method with GParted, and like systemrescuecd, this brought me to the GParted menu. But again, selecting a graphics mode and continuing, results in an error:\n\n\u0027Unable to find a medium containing a live file system\u0027\n\nafter which it drops into BusyBox (this time, an actual shell), and then I reboot.\n\nThis is very odd, because I know that in the past, I have run several other live instances off USB stick on these computers. As far as I know, nothing has changed with these systems to cause these current problems--perhaps the only difference being that I am now trying the now current versions of the live distros, rather than the versions that were current back then.\n\nPerhaps I\u0027ll try just making a GParted live USB, without G4D. I can always recreate my G4D USB stick after that. But it\u0027s interesting that when using \u0027USB Image Tool (Alexander Beug)\u0027 to save my USB stick images, and then after restoring an image, Windows says \u0027There is a problem with this drive.\u0027?\n\n"
    },
    {
      "id": "218563",
      "timestamp": "2021-07-01T20:31:46+00:00",
      "author": "relynx",
      "content": "You could try *[Puppy Linux](https://puppylinux.com/download.html \"External link\")* (fossapup64-9.5.iso 409 MB).  \nIt is my main on the go Linux distro.\n\nMake sure that the downloaded isos have the correct checksums or check in VirtualBox,  \nif they can be properly booted as CD-ROMs.\n\n```\n$ sha256sum fossapup64-9.5.iso\n9f30d1c86f7e905833377b411c57866b30e59fe4535161002005bb938e8b38f5  fossapup64-9.5.iso\n\n$ sha256sum gparted-live-1.3.0-1-amd64.iso\n471f77652bf2ec7c7534622ffbab406e26a0317a189206f1630db9d2a884a762  gparted-live-1.3.0-1-amd64.iso\n```\n\n.\n\n\u003e ...  \n\u003e\n\u003e This is very odd, because I know that in the past, I have run several other live instances off USB stick on these computers.  \n\n\u003cbr /\u003e\n\nAnother suggestion for a boot stick: [*Ventoy*](https://www.ventoy.net/en/doc_start.html \"External link\").\n\nIt is as easy as:\n\n1. Create boot stick with Ventoy installer.\n2. Drop ISO into first partition.\n3. Boot.\n\n\u003cbr /\u003e\n\n**Edited by relynx, 01 July 2021 - 08:55 PM.**\n"
    },
    {
      "id": "218564",
      "timestamp": "2021-07-01T20:52:33+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "Do you only have 1 flash drive? If so, i\u0027d definitely suggest having more than 1, just in case. Just buy a pack of multi-sizes variety flash drives from Amazon or whereever. Different sizes for different things. Or just a pack of same-sized USB drives. Awhile back i bought a 10 pack of 32GB drives, just for booting only, in case i ran into something that didnt boot with E2B.  \n\nYou may also want to consider an iODD/Zalman drive. It\u0027s basically an external shell that holds a drive, but it has booting capabilities for ISOs, disk images, etc, all built right into the firmware. Quite a nifty hardware tool, and there\u0027s not much else like them out there.  \n\nI will again suggest E2B, since you can boot multiple ISOs, disk images, etc from the same flash drive/disk, without having to create multiple USBs for each. Another reason i like E2B is that i can install it onto the disk inside my iODD. They complement each other\u0027s capabilities very well.  \n\nIf you have the time and will, check out PM. Even though you may not immediately need it, i\u0027m sure you\u0027ll find a use for it once you boot it up. I\u0027m sure they\u0027ll let you refund it if it doesnt work. For many, it\u0027s worth the price.   \n"
    },
    {
      "id": "218566",
      "timestamp": "2021-07-01T22:55:48+00:00",
      "author": "Al Gorithm",
      "content": "@relynx, thanks, yes the SHA256 sums are correct for GParted and for Puppy Linux, which I downloaded and tried with G4D, and it gave the error:\n\n\u0027Finding puppy main sfs file. failed\u0027\n\nThen it dumped the last few lines from /tmp/bootinit.log:\n\n6: ONE_PART\u003dsdb6 ONE_TRY_FN\u003d/puppy_fossapup64_9.5.sfs PDRV\u003d\n\nand kernel log:\n\n\\*\\*\\* sdb6 /puppy_fossapup64_9.5.sfs not found.\n\nBUT... it would appear that these problems are somehow related to running these .iso files under GRUB4DOS, because... see next post...\n\n"
    },
    {
      "id": "218567",
      "timestamp": "2021-07-01T22:56:01+00:00",
      "author": "Al Gorithm",
      "content": "So I used rufus to write the Puppy Linux .iso to USB, and... it ran successfully.\n\nThen I used rufus to write the GParted .iso to USB, and received the message:\n\nThis image uses Syslinux 6.03/20171017 but this application only includes the installation files for Syslinux 6.03/2014-10-06.\n\nNew versions are not compatible... blah blah... two additional files must be downloaded from the Internet (\u0027ldlinux.sys\u0027 and \u0027ldlinux.bss\u0027)...\n\nClicked \u0027Yes\u0027 to download, but errored that the files could not be found.\n\nProceeded with install to USB stick anyway.\n\nGParted started successfully (it did present the warranty disclaimer stuff, but after a few seconds proceeded). The graphics were not particularly good (plain grey background, MAX, MIN and CLOSE buttons just solid colour with no symbol, etc.), but GParted ran and showed all partitions.\n\nNext, I used rufus to write the systemrescuecd .iso to USB. Again, the message about needing newer file, but they could not be found. This time, rufus would not let me proceed to write to the USB stick. So I downloaded the newest version of rufus and tried again. This version obviously includes the newest files, since no message about downloading, and it proceeded to write the image. And, systemrescucd ran successfully.\n\nYes, I can also try Easy2Boot and Ventoy. But, why do the .iso files run successfully standalone, but not with GRUB4DOS? (Recall that Clonezilla *does* run successfully with G4D.)\n\n"
    },
    {
      "id": "218568",
      "timestamp": "2021-07-01T23:20:53+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "If you\u0027re writing the ISO files to USB with Rufus or whatever, then you\u0027re not actually booting the ISO file. You\u0027re just booting the \"burned\" written contents that are on the USB.  \n\nWhereas, when you just copy the ISO files to E2B/Ventoy/G4D USB, you\u0027re booting the ISO file itself. Of course, you have to create the USB first. These programs boot from USB, then chainload the ISOs.  \n\nI have mostly had success with E2B in regards to booting Windows/Linux ISOs, although it did fail with a few. E2B also doesnt seem to boot FreeBSD ISOs very well, it\u0027s an OS that\u0027s similar to Linux, but more like the original Unix OSes that preceded Linux. I would say that I\u0027ve had a 90 to 95% success rate with E2B. But if the distro you\u0027re using still needs certain kernel parameters, then E2B wont help with that. You\u0027ll have to figure out what you need to use, then enter them manually.  \n\nMy iODD has nearly a 100% success rate when booting ISOs or disk images. Just plug it in, \"mount\" the ISO via the device\u0027s hardware buttons, then select the relevant option in the boot options menu. The device presents the ISO to the PC as a physical disc, as if it were in a real disc drive, the OS cant tell the difference. There is some emulation going on in the background, managed by the firmware. Money well spent, I\u0027d say, and it\u0027s the most effective solution i have for all in one booting. I rarely have a need to create standalone USBs.  \n\nIf you have trouble with Rufus, try Win32DiskImager or Etcher by Balena.   \n"
    },
    {
      "id": "218569",
      "timestamp": "2021-07-01T23:39:04+00:00",
      "author": "Al Gorithm",
      "content": "Just to be clear, so as not to mislead anyone, Rufus did work great. I just needed to update to the latest version of Rufus to handle the newest .iso\u0027s.\n\nSo, do you think the issue then might be just to find the right kernel parameters to use with these .iso\u0027s under G4D? If so, I *might* spend a little more time looking for the solution, because I do have a small G4D partition on each of my three desktop systems, that I would like to have work with these tools. (But *especially* with Clonezilla, which *does* work.)\n\nBut then, on to try E2B and Ventoy. Can either of those be used with a local SSD partition?\n\n"
    },
    {
      "id": "218570",
      "timestamp": "2021-07-02T00:07:37+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "Yes, i do think it\u0027s probably kernel parameters that will solve your issue. I\u0027m kind of going on the assumption that your iGPU is partly to blame in regards to booting certain distros.  \n\nAs for the errors about not finding sfs/SquashFS/rootfs, i think that\u0027s something to do with your chosen booting solution not passing some info along. Exactly what info, not sure. The booting solution creates mappings of its\u0027 own that work for itself, but those may be lost once control is handed over, the distro has to rediscover some things on its\u0027 own. The booting solution boots in \"real mode\", whereas the distro/OS will generally have to boot in \"protected mode\". It\u0027s also possible that the booting solution is passing along incorrect kernel parameters that dont work on your setup, causing these things to not be found.  \n\nI will again suggest to create an E2B flash drive, then copy the ISOs onto that. Boot E2B, select the ISO in the menu, boot it with default options. Once the ISO\u0027s menu options appear, try them all to see what works. Once you\u0027ve found what works, repeat this process, but stop at the boot options screen (for the ISO once it\u0027s booted that far, not E2B\u0027s menu). Once you can see what the parameters are for the option(s) that worked, write them down or take a pic. You should then be able to use these options with your G4D USB.  \n\nE2B works better with removable media (flash drive), but you can also use it with regular HDDs/SSDs. Possible, but not suggested, since you\u0027ll need to let E2B format the entire drive. And, last time i read, there were some downsides to running E2B from fixed media. Maybe that\u0027s changed not sure. I have E2B installed on the HDD that\u0027s inside my iODD, so far all functions seem to work. But i\u0027m also using this drive as removable, not fixed/internal. It\u0027s been over a year since i last updated it. Why change what works fine?   \n"
    },
    {
      "id": "218573",
      "timestamp": "2021-07-02T08:13:13+00:00",
      "author": "Wonko the Sane",
      "content": "In other news, tools change over time.\n\nVery often these bootable .iso\u0027s, and particularly Linux distro\u0027s, may radically change some approaches, including kernel parameters or \"cheat codes\"\\[1\\], so that a set of them that worked just fine with (say) version 8 of something won\u0027t work with version 9.\n\nBUT, and this is \"general advice\" (not specific), it is not that the latest-latest is necessarily \"better\" that an older version, as long as the feature/capability that you need exists in an older version, you can use that one instead.\n\nWhat you want/need to do is among the \"basic\" chores of a partition manager, these features exist since several years, and as a matter of fact an older version is more likely to have been tested in more scenarios than latest-latest.\n\nSpecifically gparted comes in a iso-hybrid format, if I recall correctly, and these, in some cases, can create some issues with booting (because the file is at the same time a CD image and a hard disk image).\n\nAnd about Parted Magic, the latest free version is December 2012:\n\n[https://archive.org/...agic_2012_12_25](https://archive.org/details/partedmagic_2012_12_25 \"External link\")\n\nI mean, not before the war :wink:, i.e. it comes from a time when Windows 7 was already around since a few years, and should be more than able to do what you need.\n\nSame goes for Gparted, if you cannot boot latest-latest, try an earlier version.\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n\\[1\\] and different distro\u0027s have a knack for using different parameter names, like findiso\u003d vs. fromiso\u003d vs. live-media-path\u003d, etc. , and - still only for the record - both gparted and parted magic are re-known for providing very little or confusing or plainly wrong information about these cheat codes and changing them from release to release, see as examples:\n\n[http://reboot.pro/to...ed-in-grub4dos/](http://reboot.pro/topic/14644-gparted-in-grub4dos/ \"\")\n\n[http://reboot.pro/to...arted-magic-41/](http://reboot.pro/topic/7954-parted-magic-41/ \"\")\n\n"
    },
    {
      "id": "218529",
      "timestamp": "2021-06-29T22:45:28+00:00",
      "author": "Al Gorithm",
      "content": "So, I received and installed a new Samsung 970 EVO Plus 1TB M.2 NVMe SSD on a Gigabyte GA-H170M-D3H-GSM mainboard, which currently has a Samsung 850 EVO 500GB SSD, containing system (C:), data (D:), and G4D (E:) partitions. Formatted, and copied all data from the old data partition to the new drive. The original drive layout:\n\n500GB:\n\n\\| C: System (Primary) \\| Recovery (Primary) \\| D: Data (Logical) \\| E: G4D (Logical) \\|\n\nThe old data partition is now drive L:, to allow the new data drive to be D:. The new layout:\n\n500GB\n\n\\| C: System (Primary) \\| Recovery (Primary) \\| L: Data (Logical) \\| E: G4D (Logical) \\|\n\n1TB\n\n\\| D: Data (Primary) \\|\n\nThe intention is to delete drive L: (old data partition) and to use that space to increase the size of both the C: and E: drives. At the same time, why not change the E: drive from Logical to Primary? So the target layout:\n\n500GB\n\n\\| C: System (Primary) \\| Recovery (Primary) \\| E: G4D (Primary) \\|\n\n1TB\n\n\\| D: Data (Primary) \\|\n\nTo delete the L: drive is pretty easy. But the real question here is: what tool to use to extend the C: system partition, which will also involve moving the Recovery partition towards the end of the drive? An additional question would be: should the E: partition be converted from Logical to Primary?\n\nThe recommended tool will likely be a Linux tool (GParted?), which could be installed in the E: G4D partition--but since that partition will also be modified (extended), it would likely be safer to run the tool from a USB stick, yes?\n\nThanks for any assistance.\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "218530",
      "timestamp": "2021-06-29T22:55:28+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "I personally have always used GParted to manage my disks\u0027 partitions.  \n\nAlthough i sometimes will just use diskpart/Disk Management in Windows if i just need to create a single primary partition on a disk. I dont trust Microsoft\u0027s tools to do anything more complex than that. If you have advanced partitioning needs, dont use Microsoft\u0027s tools.   \n"
    },
    {
      "id": "218531",
      "timestamp": "2021-06-30T00:22:41+00:00",
      "author": "antonino61",
      "content": "hard disk genius portable\n\n"
    },
    {
      "id": "218532",
      "timestamp": "2021-06-30T05:14:20+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "\u003e hard disk genius portable\nNo thanks, i generally dont trust Windows partitioning tools. Linux tools are far superior.  \n\nBut if i had to use a Windows based tool, then it would be either MiniTool or EaseUS. They\u0027re both very similar and have a nearly identical GUI. In terms of which is better, I\u0027d rate them as being equal.  \n\nMy preferred way to partition disks is to boot a Linux VM, then attach the physical (not virtual) disk to the VM. VMware Workstation does physical disk attachment very well.  \n\nThe exception is when i need to partition all internal drives at once, for that i boot into a Linux live disc image (non-VM).   \n"
    },
    {
      "id": "218533",
      "timestamp": "2021-06-30T06:10:21+00:00",
      "author": "antonino61",
      "content": "Attaboy!!!\n\n"
    },
    {
      "id": "218537",
      "timestamp": "2021-06-30T17:14:28+00:00",
      "author": "Al Gorithm",
      "content": "\u003e hard disk genius portable\n\nDid you mean [https://www.portable...dex.php?id\u003d3021](https://www.portablefreeware.com/index.php?id\u003d3021 \"External link\")? And is that software from [https://www.diskgenius.com/](https://www.diskgenius.com/ \"External link\"), which on its site makes no mention of a free version?\n\n"
    },
    {
      "id": "218538",
      "timestamp": "2021-06-30T17:19:34+00:00",
      "author": "Al Gorithm",
      "content": "\u003e No thanks, i generally dont trust Windows partitioning tools. Linux tools are far superior.  \n\u003e\n\u003e But if i had to use a Windows based tool, then it would be either MiniTool or EaseUS. They\u0027re both very similar and have a nearly identical GUI. In terms of which is better, I\u0027d rate them as being equal.  \n\u003e\n\u003e My preferred way to partition disks is to boot a Linux VM, then attach the physical (not virtual) disk to the VM. VMware Workstation does physical disk attachment very well.  \n\u003e\n\u003e The exception is when i need to partition all internal drives at once, for that i boot into a Linux live disc image (non-VM).\n\nIn the past, I have used both MiniTool and EaseUS. I liked MiniTool, and in fact it is still installed on my number two system, where it was used some years ago. But it seems that the current versions of most of these tools have become more restrictive, and that many things now require the paid version. This is true specifically of MiniTool to expand the system partition.\n\nIn any case, like you I am uneasy with using a Windows tool to modify the Windows system partition. I would prefer to use something like GParted, but am not sure whether it can resize a Windows NTFS system partition?\n\n"
    },
    {
      "id": "218539",
      "timestamp": "2021-06-30T18:48:06+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "\u003e In the past, I have used both MiniTool and EaseUS. I liked MiniTool, and in fact it is still installed on my number two system, where it was used some years ago. But it seems that the current versions of most of these tools have become more restrictive, and that many things now require the paid version. This is true specifically of MiniTool to expand the system partition.  \n\u003e\n\u003e In any case, like you I am uneasy with using a Windows tool to modify the Windows system partition. I would prefer to use something like GParted, but am not sure whether it can resize a Windows NTFS system partition?\n\nWell, you can always obtain the paid version from an \"unofficial source\". It depends on your level of comfort with that kind of thing. My morals/ethics are quite ambiguous, so it doesnt bother me.  \n\nAnd yes, GParted can resize a Windows NTFS system partition, no problem. If that partition is heavily fragmented, then it will take much longer.   \n"
    },
    {
      "id": "218540",
      "timestamp": "2021-06-30T20:11:07+00:00",
      "author": "antonino61",
      "content": "\u003e Did you mean [https://www.portable...dex.php?id\u003d3021](https://www.portablefreeware.com/index.php?id\u003d3021 \"External link\")? And is that software from [https://www.diskgenius.com/](https://www.diskgenius.com/ \"External link\"), which on its site makes no mention of a free version?\n\nthe portable version, no such thing as a free version.\n\n"
    },
    {
      "id": "218542",
      "timestamp": "2021-06-30T23:47:36+00:00",
      "author": "Al Gorithm",
      "content": "\u003e And yes, GParted can resize a Windows NTFS system partition, no problem. If that partition is heavily fragmented, then it will take much longer.\n\nOkay, so I\u0027ve got my GRUB4DOS USB stick with the latest versions of three images: Clonezilla, GParted, and Memtest86+. Clonezilla and Memtest86+ run fine.\n\nGParted goes through the usual quick screens of Linux booting, and then clears the screen and shows:\n\nDebian login: user (automatic login)\n\nA few lines here about Debian GParted being without warranty, etc.\n\nAnd then it just stops. At that point, anything I type is echoed to the screen, as though I were in a terminal, but no matter what is typed, nothing else happens. Eventually I need to reboot.\n\nMy menu entry is:\n\ntitle GParted Live\\\\nGParted Live 1.3.0-1 manual mode.\\\\n\\\\n\\\\nPress arrows to highlight; ENTER or b to boot; e to edit; c for command-line.  \nfind --set-root /images/gparted-live-1.3.0-1-amd64.iso  \nmap /images/gparted-live-1.3.0-1-amd64.iso (0xff)  \nmap --hook  \nroot (0xff)  \nkernel /live/vmlinuz initrd\u003d/live/initrd.img boot\u003dlive union\u003doverlay config components quiet noswap noprompt nomodeset ip\u003dfrommedia nosplash keyboard-layouts\u003dNONE locales\u003den_US.UTF-8 vga\u003d789 screen\u003d1024x768 xmode\u003d1024x768 xvideomode\u003d1024x768 video\u003duvesafb:mode_option\u003d1024x768-24 utc\u003dno gl_batch username\u003duser findiso\u003d/images/gparted-live-1.3.0-1-amd64.iso toram\u003dfilesystem.squashfs  \ninitrd /live/initrd.img  \n\nThis pretty much parallels the menu entry for Clonezilla, apart from the parameters of the kernel line being quite different. Does anyone see any errors there?  \n\n"
    },
    {
      "id": "218543",
      "timestamp": "2021-07-01T00:40:55+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "Definitely sounds like a graphical issue. Or xwindows/Wayland are failing to load you into the desktop, so it just drops you into a terminal instead.  \n\nWhat happens if you use the \"startx\" command (no quotes, just type it and hit enter)?  \n\nI cant tell you what kernel command line options to use, it depends on your hardware. I would have recommended nomodeset or nosplash, but it looks like you\u0027re using those already. I know that most Linux distros i use load fine on my hardware, no need to mess with the parameters most of the time.  \n\nWhat\u0027s your hardware setup, like:  \n\nDesktop?  \nNotebook?  \nDedicated GPU (NVidia or AMD)?  \nIntegrated/shared GPU (Intel)?  \n\nInstead of a Grub4dos USB, try making an Easy2Boot USB drive. Drop the ISO files into the /_ISO/Linux folder. Then boot the USB and try to load them. Once you\u0027ve gotten past E2B and into the main bootloader menu of the ISOs, try using all available options that are there. You might get different results.  \n\nYou can also try making a Ventoy USB, but i have no experience with that.  \n\nIf all this doesnt work, then you might want to try loading a live ISO of a different distro, like Ubuntu/Linux Mint/Fedora. I personally use a Parted Magic live CD. It\u0027s paid software, but i obtained it from an \"unofficial source\". PM is the slimmest live CD i\u0027ve ever used, and its\u0027 packed with tools. Its\u0027 main use is to be used in live CD mode, as a repair/diagnostics tool. It\u0027s not meant to be installed to disk as an everyday OS, like a \"normal\" distro.   \n"
    },
    {
      "id": "218550",
      "timestamp": "2021-07-01T07:52:38+00:00",
      "author": "alacran",
      "content": "**@ AnonVendetta**\n\nHi, even if I don\u0027t share your preference for using Linux tools for easy things that can be made using Windows tools as a WinPE + [DiskGenius Portable free](https://www.diskgenius.com/download.php \"External link\"), or [MiniTool Partition Wizard Free](https://www.partitionwizard.com/free-partition-manager.html \"External link\"), **It is good to see you helping other people, I\u0027m glad you finally got the spirit of this forum.**\n\nBy the way, I have also used since long time ago [Parted Magic](https://partedmagic.com/ \"External link\") (paid software $11 US) it\u0027s a very good tool, it boots fine from [Ventoy](https://www.ventoy.net/en/index.html \"External link\"), but there is also this old Topic here: [Boot Parted-Magic.iso from usb with grub4dos \\\u0026 grub2](http://reboot.pro/index.php?showtopic\u003d22125\u0026hl\u003d%2Bparted+%2Bmagic \"\")\n\n**@ Al Gorithm**\n\nHope this info could be useful for you.\n\nalacran\n\n"
    },
    {
      "id": "218553",
      "timestamp": "2021-07-01T08:47:34+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "\u003e **@ AnonVendetta**   \n\u003e\n\u003e It is good to see you helping other people, I\u0027m glad you finally got the spirit of this forum.  \n\u003e\nIt\u0027s weird that you say this, because I actually could give 2 fucks about helping anyone here. I dont have a helping spirit. I mainly post to burn time, and when I\u0027m having issues. If I post to help someone, it\u0027s not my intent, it just means that my day has been better than usual. You clearly dont know me that well.  \n\nMy main reasons for not buying Parted Magic are:  \n\n1. They\u0027ve assembled a great distro...but the issue is that they take free and open source tools, bundle them into a convenient package, then charge for them. The devs are hypocrites. Linux is about free as in freedom, and free as in \"monetarily free\". And of course, freely sharing, which I could care less about.  \n\n2. I fly the pirate flag, preferring to reap the benefits and not pay, when feasible.   \n"
    },
    {
      "id": "218558",
      "timestamp": "2021-07-01T14:41:04+00:00",
      "author": "karyonix",
      "content": "Recovery partition is not really necessary. You may delete the recovery partition.\n\nIf you run Windows Setup \"upgrade\" later, it may re-create a new recovery partition.\n\nDisk Management (diskmgmt.msc) can be used to extend a partition to the following empty space.\n\nThe command line utility diskpart can be used to extend a partition as well.\n\nDisk Management may not allow to delete recovery partition though.\n\nMy favorite tool to copy or move partitions is \"gparted\" in ubuntu desktop live system. Current ubuntu release is 21.04.\n\nI usually use \"Rufus\" when I write ubuntu to USB flash drive from iso.\n\nBefore you shutdown Windows to boot to ubuntu, or another OS, or another instance of Windows, make sure you disable the \"Turn on fast startup (recommenced)\" option in Control Panel - Power Options - Choose what the power buttons do.\n\nWhen recovery partition on MBR disk is moved, its reference in the BCD is broken.\n\nAfter move, the broken value in BCD can be fixed with bcdedit.\n\nAssign a drive letter for the recovery partition.\n\nIn Administrator Command Prompt\n\ndiskpart\n\nlist disk\n\nselect disk *0* ---- The drive number can change. Make sure you choose the correct drive.\n\nlist partition\n\nselect partition *2* ---- Your recovery partition number. Make sure you choose the correct partition.\n\nassign letter\u003d*R*\n\nIn another Administrator Command Prompt window:\n\nbcdedit /enum {default}\n\nThere is recoverysequence *{guid1}* . Copy the guid *{guid1}*.\n\nbcdedit /enum *{guid1}*\n\nIts description should be \"Windows Recovery Environment\".\n\nLook for value device and osdevice. They are supposed to be like \"ramdisk\u003d\\[...\\]\\\\Recovery\\\\WindowsRE\\\\Winre.win,*{guid2}* \". Copy the guid *{guid2}*.\n\nbcdedit /enum *{guid2}*\n\nIts description should be \"Windows Recovery\".\n\nLook for value ramdisksdidevice. It is supposed to be like \"partition\u003d...\" .\n\nIf the new recovery partition is assigned *R:*,\n\nbcdedit /set *{guid2}* ramdisksdidevice partition\u003d*R:*\n\nEDIT : The file C:\\\\Windows\\\\system32\\\\Recovery\\\\ReAgent.xml and its copy *R*:\\\\Recovery\\\\WindowsRE\\\\ReAgent.xml contain offset of the recovery partition. You may also have to update the offset.\n\nBack to diskpart window.\n\nremove ---- Remove drive letter\n\nexit\n\nI think this should be enough to make Windows Recovery work. I am not sure if there is any thing else in the recovery partition.\n\nAlternatively \"BootICE\" 1.3.3.2 can be used to view/edit BCD with a GUI. Edit BCD in Professional Mode, Look in BcdStore\\\\Device objects\\\\Windows Recovery. Set SdiDevice value to the new recovery partition after moving.\n\n**Edited by karyonix, 02 July 2021 - 12:38 PM.**\n"
    },
    {
      "id": "218560",
      "timestamp": "2021-07-01T18:08:10+00:00",
      "author": "Al Gorithm",
      "content": "This is a desktop with a Gigabyte GA-H170M-D3H-GSM mainboard using integrated graphics, i7-6700 (Skylake), 8GB RAM, Samsung 850 EVO 500GB main drive, and now Samsung 970 EVO Plus 1TB M.2 NVMe data drive.\n\nTyping \u0027startx \\\u003creturn\\\u003e\u0027 did nothing, just like typing \u0027ls\u0027, or \u0027pwd\u0027, or anything else. Although typing is echoed as in a terminal, there are no prompts, and it may not actually be a terminal.\n\nHow is Parted Magic better than GParted? I have no problem with spending $11, if it will solve the issue at hand, but I would still like to solve the issue, rather than leaving it unresolved.\n\nWill now try some of the other suggestions. Thanks for help.\n\n@karyonix, thanks for help with fixing BCD after moving Recovery partition, which I will try once I\u0027ve done the move.\n\n"
    },
    {
      "id": "218561",
      "timestamp": "2021-07-01T19:55:03+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "I dont see anything wrong with your setup, other than the integrated gfx. Linux used to have alot of issues with iGPUs, and to a much lesser extent it still does. Dedicated GPUs like mine have always been more reliable when booting Linux, regardless of distro.  \n\nI\u0027m not saying that you should use a different GPU though, only that you will need to do more testing. If you dont play games or use other software that can make use of a dedicated GPU\u0027s graphics acceleration capabilities, then integrated is fine for your needs.  \n\nIt\u0027s weird that you say that other basic commands like ls dont return output either (other than echoing back to the screen), so yeah, you\u0027re probably not in a terminal/shell. Because under normal cirmcumstances, ls should give a list of files/directories in the current working directory.  \n\nThe startx command merely tries to start the xwindows GUI subsystem. Or more simply, what most people would call the desktop. The point of making this suggestion was to see if it would return an error. If so, then it\u0027s probably a graphics issue.  \n\nBut even still, i think it\u0027s a graphics issue, since it apparently didnt drop you into the desktop or a functional terminal. That most likely means that something failed to load.  \n\nParted Magic includes a recent version of GParted, as well as a ton of other diagnostics/recovery tools. It\u0027s quite frankly the best Linux based recovery CD i\u0027ve ever used. I do believe that it also includes MemTest86, so no need to keep a separate ISO for that. I know there is also a dedicated GParted distro, but i think GParted is its\u0027 main attraction and it doesnt include much else.  \n\nIt looks like PM doesnt have a trial/shareware download, you have to pay to access it at all (legitimately). And i think i remember that it used to be one payment for a lifetime membership that got you access to all future updates. It looks like it is $11 to buy access to the current version, but future versions will require paying again. Or you could get the one year sub for $39, which would get you access to all the updates released within a year. There are typically 3-4 updates released within a 1 year period.  \n\nHowever, all this means you cant legitimately try without buying. So...i will suggest that you pirate the most recent version of PM from an \"unofficial source\". If it works and you like it, then do the \"right thing\" (in your mind) and pay. If it doesnt work, then delete it. I\u0027m basically saying to pirate it as a way of \"try before you buy\". Which i sonetimes do, although i usually just not pay, ever.  \n\nHowever, if you ONLY need access to GParted, then you can just boot some other regular/common live CD distro that already has it built in.  \n\nI know you\u0027re trying to solve the issue, that\u0027s why i\u0027ve suggested different things, like creating other bootable USBs, trying other distros and all the available options in the bootloader menus, etc.  \n\nOnce you get this working some other way, then you can go back to trying to get Debian booting (or whatever else, if you change your mind) on a Grub4Dos USB. I would honestly suggest trying to boot the ISOs via Easy2Boot, as it is powered by G4D anyway.   \n"
    },
    {
      "id": "218562",
      "timestamp": "2021-07-01T20:29:36+00:00",
      "author": "Al Gorithm",
      "content": "Okay, I\u0027m going to try some of those suggestions. Just an update here on what I\u0027ve been trying.\n\nIn the Gparted forum, in a thread about boot problems, someone described a problem similar to mine (hanging after the warranty disclaimer), and the response was, Do other live distros boot; if so, try to find one that has GParted in it, or try systemrescuecd.\n\nSo I downloaded the latest systemrescuecd, and found a couple of G4D menu entries for it, which I tried. The first menu entry was similar to ones above which I have for Clonezilla and GParted; that one simply returned immediately to the G4D menu. The second menu entry uses chainload, and that one actually booted the systemrescuecd menu, where one can choose graphics options, etc. But after selecting any of those, it timed out and gave the error:\n\n\u0027/dev/disk/by-label/RESCUE803\u0027 device did not show up after 30 seconds...\n\nFalling back to interactive prompt\n\nsh: can\u0027t access tty; job control turned off\n\n\\[rootfs \\]#\n\nAt that point, not knowing what else to try, I reboot back to G4D menu. Then, I tried using the chainload method with GParted, and like systemrescuecd, this brought me to the GParted menu. But again, selecting a graphics mode and continuing, results in an error:\n\n\u0027Unable to find a medium containing a live file system\u0027\n\nafter which it drops into BusyBox (this time, an actual shell), and then I reboot.\n\nThis is very odd, because I know that in the past, I have run several other live instances off USB stick on these computers. As far as I know, nothing has changed with these systems to cause these current problems--perhaps the only difference being that I am now trying the now current versions of the live distros, rather than the versions that were current back then.\n\nPerhaps I\u0027ll try just making a GParted live USB, without G4D. I can always recreate my G4D USB stick after that. But it\u0027s interesting that when using \u0027USB Image Tool (Alexander Beug)\u0027 to save my USB stick images, and then after restoring an image, Windows says \u0027There is a problem with this drive.\u0027?\n\n"
    },
    {
      "id": "218563",
      "timestamp": "2021-07-01T20:31:46+00:00",
      "author": "relynx",
      "content": "You could try *[Puppy Linux](https://puppylinux.com/download.html \"External link\")* (fossapup64-9.5.iso 409 MB).  \nIt is my main on the go Linux distro.\n\nMake sure that the downloaded isos have the correct checksums or check in VirtualBox,  \nif they can be properly booted as CD-ROMs.\n\n```\n$ sha256sum fossapup64-9.5.iso\n9f30d1c86f7e905833377b411c57866b30e59fe4535161002005bb938e8b38f5  fossapup64-9.5.iso\n\n$ sha256sum gparted-live-1.3.0-1-amd64.iso\n471f77652bf2ec7c7534622ffbab406e26a0317a189206f1630db9d2a884a762  gparted-live-1.3.0-1-amd64.iso\n```\n\n.\n\n\u003e ...  \n\u003e\n\u003e This is very odd, because I know that in the past, I have run several other live instances off USB stick on these computers.  \n\n\u003cbr /\u003e\n\nAnother suggestion for a boot stick: [*Ventoy*](https://www.ventoy.net/en/doc_start.html \"External link\").\n\nIt is as easy as:\n\n1. Create boot stick with Ventoy installer.\n2. Drop ISO into first partition.\n3. Boot.\n\n\u003cbr /\u003e\n\n**Edited by relynx, 01 July 2021 - 08:55 PM.**\n"
    },
    {
      "id": "218564",
      "timestamp": "2021-07-01T20:52:33+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "Do you only have 1 flash drive? If so, i\u0027d definitely suggest having more than 1, just in case. Just buy a pack of multi-sizes variety flash drives from Amazon or whereever. Different sizes for different things. Or just a pack of same-sized USB drives. Awhile back i bought a 10 pack of 32GB drives, just for booting only, in case i ran into something that didnt boot with E2B.  \n\nYou may also want to consider an iODD/Zalman drive. It\u0027s basically an external shell that holds a drive, but it has booting capabilities for ISOs, disk images, etc, all built right into the firmware. Quite a nifty hardware tool, and there\u0027s not much else like them out there.  \n\nI will again suggest E2B, since you can boot multiple ISOs, disk images, etc from the same flash drive/disk, without having to create multiple USBs for each. Another reason i like E2B is that i can install it onto the disk inside my iODD. They complement each other\u0027s capabilities very well.  \n\nIf you have the time and will, check out PM. Even though you may not immediately need it, i\u0027m sure you\u0027ll find a use for it once you boot it up. I\u0027m sure they\u0027ll let you refund it if it doesnt work. For many, it\u0027s worth the price.   \n"
    },
    {
      "id": "218566",
      "timestamp": "2021-07-01T22:55:48+00:00",
      "author": "Al Gorithm",
      "content": "@relynx, thanks, yes the SHA256 sums are correct for GParted and for Puppy Linux, which I downloaded and tried with G4D, and it gave the error:\n\n\u0027Finding puppy main sfs file. failed\u0027\n\nThen it dumped the last few lines from /tmp/bootinit.log:\n\n6: ONE_PART\u003dsdb6 ONE_TRY_FN\u003d/puppy_fossapup64_9.5.sfs PDRV\u003d\n\nand kernel log:\n\n\\*\\*\\* sdb6 /puppy_fossapup64_9.5.sfs not found.\n\nBUT... it would appear that these problems are somehow related to running these .iso files under GRUB4DOS, because... see next post...\n\n"
    },
    {
      "id": "218567",
      "timestamp": "2021-07-01T22:56:01+00:00",
      "author": "Al Gorithm",
      "content": "So I used rufus to write the Puppy Linux .iso to USB, and... it ran successfully.\n\nThen I used rufus to write the GParted .iso to USB, and received the message:\n\nThis image uses Syslinux 6.03/20171017 but this application only includes the installation files for Syslinux 6.03/2014-10-06.\n\nNew versions are not compatible... blah blah... two additional files must be downloaded from the Internet (\u0027ldlinux.sys\u0027 and \u0027ldlinux.bss\u0027)...\n\nClicked \u0027Yes\u0027 to download, but errored that the files could not be found.\n\nProceeded with install to USB stick anyway.\n\nGParted started successfully (it did present the warranty disclaimer stuff, but after a few seconds proceeded). The graphics were not particularly good (plain grey background, MAX, MIN and CLOSE buttons just solid colour with no symbol, etc.), but GParted ran and showed all partitions.\n\nNext, I used rufus to write the systemrescuecd .iso to USB. Again, the message about needing newer file, but they could not be found. This time, rufus would not let me proceed to write to the USB stick. So I downloaded the newest version of rufus and tried again. This version obviously includes the newest files, since no message about downloading, and it proceeded to write the image. And, systemrescucd ran successfully.\n\nYes, I can also try Easy2Boot and Ventoy. But, why do the .iso files run successfully standalone, but not with GRUB4DOS? (Recall that Clonezilla *does* run successfully with G4D.)\n\n"
    },
    {
      "id": "218568",
      "timestamp": "2021-07-01T23:20:53+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "If you\u0027re writing the ISO files to USB with Rufus or whatever, then you\u0027re not actually booting the ISO file. You\u0027re just booting the \"burned\" written contents that are on the USB.  \n\nWhereas, when you just copy the ISO files to E2B/Ventoy/G4D USB, you\u0027re booting the ISO file itself. Of course, you have to create the USB first. These programs boot from USB, then chainload the ISOs.  \n\nI have mostly had success with E2B in regards to booting Windows/Linux ISOs, although it did fail with a few. E2B also doesnt seem to boot FreeBSD ISOs very well, it\u0027s an OS that\u0027s similar to Linux, but more like the original Unix OSes that preceded Linux. I would say that I\u0027ve had a 90 to 95% success rate with E2B. But if the distro you\u0027re using still needs certain kernel parameters, then E2B wont help with that. You\u0027ll have to figure out what you need to use, then enter them manually.  \n\nMy iODD has nearly a 100% success rate when booting ISOs or disk images. Just plug it in, \"mount\" the ISO via the device\u0027s hardware buttons, then select the relevant option in the boot options menu. The device presents the ISO to the PC as a physical disc, as if it were in a real disc drive, the OS cant tell the difference. There is some emulation going on in the background, managed by the firmware. Money well spent, I\u0027d say, and it\u0027s the most effective solution i have for all in one booting. I rarely have a need to create standalone USBs.  \n\nIf you have trouble with Rufus, try Win32DiskImager or Etcher by Balena.   \n"
    },
    {
      "id": "218569",
      "timestamp": "2021-07-01T23:39:04+00:00",
      "author": "Al Gorithm",
      "content": "Just to be clear, so as not to mislead anyone, Rufus did work great. I just needed to update to the latest version of Rufus to handle the newest .iso\u0027s.\n\nSo, do you think the issue then might be just to find the right kernel parameters to use with these .iso\u0027s under G4D? If so, I *might* spend a little more time looking for the solution, because I do have a small G4D partition on each of my three desktop systems, that I would like to have work with these tools. (But *especially* with Clonezilla, which *does* work.)\n\nBut then, on to try E2B and Ventoy. Can either of those be used with a local SSD partition?\n\n"
    },
    {
      "id": "218570",
      "timestamp": "2021-07-02T00:07:37+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "Yes, i do think it\u0027s probably kernel parameters that will solve your issue. I\u0027m kind of going on the assumption that your iGPU is partly to blame in regards to booting certain distros.  \n\nAs for the errors about not finding sfs/SquashFS/rootfs, i think that\u0027s something to do with your chosen booting solution not passing some info along. Exactly what info, not sure. The booting solution creates mappings of its\u0027 own that work for itself, but those may be lost once control is handed over, the distro has to rediscover some things on its\u0027 own. The booting solution boots in \"real mode\", whereas the distro/OS will generally have to boot in \"protected mode\". It\u0027s also possible that the booting solution is passing along incorrect kernel parameters that dont work on your setup, causing these things to not be found.  \n\nI will again suggest to create an E2B flash drive, then copy the ISOs onto that. Boot E2B, select the ISO in the menu, boot it with default options. Once the ISO\u0027s menu options appear, try them all to see what works. Once you\u0027ve found what works, repeat this process, but stop at the boot options screen (for the ISO once it\u0027s booted that far, not E2B\u0027s menu). Once you can see what the parameters are for the option(s) that worked, write them down or take a pic. You should then be able to use these options with your G4D USB.  \n\nE2B works better with removable media (flash drive), but you can also use it with regular HDDs/SSDs. Possible, but not suggested, since you\u0027ll need to let E2B format the entire drive. And, last time i read, there were some downsides to running E2B from fixed media. Maybe that\u0027s changed not sure. I have E2B installed on the HDD that\u0027s inside my iODD, so far all functions seem to work. But i\u0027m also using this drive as removable, not fixed/internal. It\u0027s been over a year since i last updated it. Why change what works fine?   \n"
    },
    {
      "id": "218573",
      "timestamp": "2021-07-02T08:13:13+00:00",
      "author": "Wonko the Sane",
      "content": "In other news, tools change over time.\n\nVery often these bootable .iso\u0027s, and particularly Linux distro\u0027s, may radically change some approaches, including kernel parameters or \"cheat codes\"\\[1\\], so that a set of them that worked just fine with (say) version 8 of something won\u0027t work with version 9.\n\nBUT, and this is \"general advice\" (not specific), it is not that the latest-latest is necessarily \"better\" that an older version, as long as the feature/capability that you need exists in an older version, you can use that one instead.\n\nWhat you want/need to do is among the \"basic\" chores of a partition manager, these features exist since several years, and as a matter of fact an older version is more likely to have been tested in more scenarios than latest-latest.\n\nSpecifically gparted comes in a iso-hybrid format, if I recall correctly, and these, in some cases, can create some issues with booting (because the file is at the same time a CD image and a hard disk image).\n\nAnd about Parted Magic, the latest free version is December 2012:\n\n[https://archive.org/...agic_2012_12_25](https://archive.org/details/partedmagic_2012_12_25 \"External link\")\n\nI mean, not before the war :wink:, i.e. it comes from a time when Windows 7 was already around since a few years, and should be more than able to do what you need.\n\nSame goes for Gparted, if you cannot boot latest-latest, try an earlier version.\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n\\[1\\] and different distro\u0027s have a knack for using different parameter names, like findiso\u003d vs. fromiso\u003d vs. live-media-path\u003d, etc. , and - still only for the record - both gparted and parted magic are re-known for providing very little or confusing or plainly wrong information about these cheat codes and changing them from release to release, see as examples:\n\n[http://reboot.pro/to...ed-in-grub4dos/](http://reboot.pro/topic/14644-gparted-in-grub4dos/ \"\")\n\n[http://reboot.pro/to...arted-magic-41/](http://reboot.pro/topic/7954-parted-magic-41/ \"\")\n\n"
    },
    {
      "id": "218574",
      "timestamp": "2021-07-02T08:41:48+00:00",
      "author": "relynx",
      "content": "\u003e ...\n\u003e\n\u003e \u0027Finding puppy main sfs file. failed\u0027\n\u003e\n\u003e ...\n\nBeen there while playing with Grub4DOS awhile ago.  \nSince I discovered Ventoy, I now stick to it to boot all sort of ISOs.  \nNo more fiddling with correct menu entries to boot.  \nVentoy does all the hard work for you (-\\\u003e [supported ISO list](https://www.ventoy.net/en/isolist.html \"External link\")).  \n\nI\u0027m not sure if Ventoy can boot from a logical partition, but since I  \nlike it so much, I\u0027m using it as my primary bootloader for new setups  \n(internal hard drive, USB stick, VirtualBox VMs, ...).  \n\nIn your use case, maybe you would like to look at [grubfm by a1ive](https://github.com/a1ive/grub2-filemanager \"External link\").  \nYou can chainload grubfm from your Grub4DOS setup.  \n\n\u003cbr /\u003e\n\nAs of how to boot Puppy ISO, try this one to fix your problem:  \n[reboot.pro: Puppy Linux ISO boot from PXE](http://reboot.pro/topic/16306-read/ \"\")\n\n```\ntitle Puppy Live CD\nfind --set-root /images/fossapup64-9.5.iso\nmap /images/fossapup64-9.5.iso (0xff)\nmap --hook\nroot (0xff)\nkernel /vmlinuz iso-scan/filename\u003d/images/fossapup64-9.5.iso\ninitrd /initrd.gz\n```\n\n.  \n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "218575",
      "timestamp": "2021-07-02T10:37:47+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "@Wonko: i highly doubt that such an old 2012 version of Parted Magic would properly recognize his NVMe SSD. NVMe support wasnt added to GParted until v0.24.0 (2015). But it\u0027s up to him to find out.   \n"
    },
    {
      "id": "218576",
      "timestamp": "2021-07-02T12:44:20+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e @Wonko: i highly doubt that such an old 2012 version of Parted Magic would properly recognize his NVMe SSD. NVMe support wasnt added to GParted until v0.24.0 (2015). But it\u0027s up to him to find out.\n\nWhich is good, since the idea seems to be that of changing the partitioning of the \"old\" (I believe, simple, SATA ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png) ) SSD, since \"Data\" has been moved to the new SSD and thus there is more space available on the \"old\" device.\n\nNow, if that is a \"smart\" idea (using the newest, fastest device as \"Data\" storage only) is up to debate, but the original idea seems to me like that one.\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "218577",
      "timestamp": "2021-07-02T13:34:26+00:00",
      "author": "karyonix",
      "content": "The recovery partition created by Windows Setup only contains WinRE.\n\nYou can use **reagentc** command to disable and enable WinRE.\n\nThis instruction is for deleting and re-creating recovery partition.\n\n1. Disable WinRE. Do this before you delete recovery partition. Winre.wim is moved from recovery partition to C:\\\\Windows\\\\System32\\\\Recovery during the process.\n\nreagentc /disable\n\n2. Delete recovery partition using diskpart.\n\nlist disk\n\nselect disk 0\n\nlist partition\n\nselect partition 2\n\ndetail partition\n\ndelete partition override\n\n3. Extend Windows partition using Disk Management. Leave some free space for new recovery partition (eg. 512MB).\n\n4. Create new recovery partition using Disk Management. Format as NTFS quick.\n\n5. Change recovery partition type to 27 using diskpart.\n\nlist partition\n\nselect partition 2\n\ndetail partition\n\nset id\u003d27\n\n6. Re-enable WinRE. Winre.wim is moved from C:\\\\Windows\\\\System32\\\\Recovery to recovery partition during the process.\n\nreagentc /enable\n\nReAgent.xml and BCD are updated by reagentc. There is no need to manually edit them.\n\n"
    },
    {
      "id": "218583",
      "timestamp": "2021-07-03T17:53:33+00:00",
      "author": "Al Gorithm",
      "content": "\u003e Been there while playing with Grub4DOS awhile ago.  \n\u003e As of how to boot Puppy ISO, try this one to fix your problem:  \n\u003e [reboot.pro: Puppy Linux ISO boot from PXE](http://reboot.pro/topic/16306-read/ \"\")\n\u003e\n\u003e ```\n\u003e title Puppy Live CD\n\u003e find --set-root /images/fossapup64-9.5.iso\n\u003e map /images/fossapup64-9.5.iso (0xff)\n\u003e map --hook\n\u003e root (0xff)\n\u003e kernel /vmlinuz iso-scan/filename\u003d/images/fossapup64-9.5.iso\n\u003e initrd /initrd.gz\n\u003e ```\n\u003e\n\u003e .  \n\u003e\nThank you! This worked, and it is valuable, since GParted in Puppy has much nicer graphics than the ones I saw from the GParted Live .iso!\n\n"
    },
    {
      "id": "218584",
      "timestamp": "2021-07-03T17:58:35+00:00",
      "author": "Al Gorithm",
      "content": "Okay, next I\u0027m going to try E2B, but meanwhile just wanted to throw this out for your consideration:\n\nWhen trying to boot GParted from G4D, it flashes some info on the screen and then immediately returns to the G4D menu. But in that information that it flashes, I see this:\n\n(hd1,5)\n\nNow, I\u0027m convinced that it *should* be (hd1,6): on the second hard drive (hd1), there are two *logical* partitions, D: and E:, with G4D being on E:. So, shouldn\u0027t the *second logical* partition (E:) be 6, rather than 5? Could this have anything to do with the failure to boot, and if so, how to correct it?\n\n"
    },
    {
      "id": "218585",
      "timestamp": "2021-07-03T18:48:58+00:00",
      "author": "karyonix",
      "content": "\u003e Now, I\u0027m convinced that it *should* be (hd1,6): on the second hard drive (hd1), there are two *logical* partitions, D: and E:, with G4D being on E:. So, shouldn\u0027t the *second logical* partition (E:) be 6, rather than 5? Could this have anything to do with the failure to boot, and if so, how to correct it?\n\nIn GRUB4DOS, 0 to 3 are primary partitions. 4 is first logical partition. 5 is second logical partition.\n\n"
    },
    {
      "id": "218587",
      "timestamp": "2021-07-03T19:17:36+00:00",
      "author": "Al Gorithm",
      "content": "\u003e In GRUB4DOS, 0 to 3 are primary partitions. 4 is first logical partition. 5 is second logical partition.\n\nOkay, that explains it, thanks. In some other tool, I\u0027m sure I saw (hd1,6), but perhaps that tool was using base 1 rather than base 0.\n\nEDIT: Yes, in GParted, the partitions begin with 1, so second logical is 6.\n\n**Edited by Al Gorithm, 03 July 2021 - 08:06 PM.**\n"
    },
    {
      "id": "218588",
      "timestamp": "2021-07-03T20:29:53+00:00",
      "author": "Al Gorithm",
      "content": "Oh, NO! I installed E2B to the flash drive, copied some .iso files, and ran. It allowed me to run the .iso files (so far, I\u0027ve only tried GParted Live), and, as suggested above, I examined the parameters, and copied them to my G4D menu on E:.\n\nThen to test, I rebooted, and from the BCD menu I selected GRUB4DOS as usual, but it did not show the G4D menu! Instead, it says something about volume name being \u0027E2B\u0027, and then dropping me into a G4D prompt.\n\nIt appears as though installing E2B on the flash drive, has done something either to my E: drive, or to the BCD menu!! How to recover?\n\nAdded: In the G4D prompt, pressing ESC clears screen and shows a table:\n\n```\nMBR (LBA0)\n-----------------\n000001BE:  80 20 21 00  07 BE 12 2C  00 08 00 00  00 F0 0A 00\n000001CE:  00 BE 13 2C  07 FE FF FF  00 F8 0A 00  F7 85 C5 0D\n000001DE:  00 FE FF FF  27 FE FF FF  00 80 D0 0D  00 B0 1A 00\n000001EE:  00 FE FF FF  27 FE FF FF  00 38 EB 0D  00 08 0E 00\n\nEXTRA PARTITION FOUND! ^^\n\nERROR:  PARTITION TABLE ENTRY #4 (Type\u003d0x27) MUST BE EMPTY!\n\nPress C and [Enter] to delete it : \n\n\n```\n\nPressing ESC again seems to list the hd0 partitions, and then says:\n\nERROR: hd0 does not seem to be an E2B drive! Press a key for grub4dos console...\n\nwhich then drops me back to the G4D prompt, from which I reboot.\n\nMy hd0 layout is:\n\n\\| Windows Reserved \\| Windows System C: \\| Windows Recovery \\| Windows Recovery \\|\n\nIt has been that way for as long as I remember, with two Recovery partitions (four total primary partitions), so I don\u0027t think that error about the fourth partition table entry is correct!\n\n**Edited by Al Gorithm, 03 July 2021 - 09:07 PM.**\n"
    },
    {
      "id": "218590",
      "timestamp": "2021-07-03T22:28:51+00:00",
      "author": "Al Gorithm",
      "content": "So, when I remove the flash drive, then G4D boots from E: without problem. Plug the flash drive back in, and the same problem occurs. Remove the flash drive, and boot E: G4D okay. Hmm... once the BCD menu loads grldr.mbr from E:, shouldn\u0027t it search for grldr on the drives *in order*, therefore E: before M: (the flash drive)?\n\nAlso, each time I reboot, Windows wants to check a drive. So I allowed it, and it checked drive E: and said it had fixed it. Huh? Wonder what problem it found?\n\n"
    },
    {
      "id": "218591",
      "timestamp": "2021-07-04T00:38:25+00:00",
      "author": "karyonix",
      "content": "Drive number is assigned by BIOS. Drive letter from Windows does not exist at boot time.\n\nIn this case (hd0) is Windows drive. I guess (hd1) is E2B drive, (hd2) is GRUB4DOS drive.\n\nSome BIOS may allow user to rearrange hard drive order. But the order can be broken when you add or remove some drive. If you depend on correct drive order you may have to enter BIOS setting every time you plug/unplug a USB flash drive with GRUB or GRUB4DOS in it but want to use GRUB4DOS in internal drive.\n\nMy suggestion is to install GRUB4DOS GRLDR in the same drive as BOOTMGR and put your menu.lst in the same partition as GRLDR.\n\n"
    },
    {
      "id": "218592",
      "timestamp": "2021-07-04T04:29:52+00:00",
      "author": "alacran",
      "content": "\u003e Also, each time I reboot, Windows wants to check a drive. So I allowed it, and it checked drive E: and said it had fixed it. Huh? Wonder what problem it found?\n\nI have seen this many times after run any Linux software, and latter reboot to Windows, it seems to me when Linux shuts down do not make this process in accordance with Windows standards, and then the HD gets the dirty bit (related to a not well closed sesion on the drive), that\u0027s for me the main reason to avoid as much as possible using Linux tools, especially if there are very good free Windows tools that can do same tasks without this irritating inconvenience. Best are [MiniTool Partition Wizard Free](https://www.partitionwizard.com/free-partition-manager.html \"External link\") and [DiskGenius Portable](https://www.diskgenius.com/download.php \"External link\") (also free), **I have even cloned NT compressed + Compacted LZX drives to/from VHDs with both ot them in just a few minutes.**\n\nI usually only have Linux installed on one PC dedicated to it at home, my favorites are Linux Mint and Linux Lite, both derivated from Ubuntu, of course I have also both installed on VHDs (that I can boot anywhere from grub2 and grub4dos on MBR and also UEFI), also Porteus, FossaDog and Puppy Linux are on my USB.\n\nIt\u0027s very easy to create a [Win10XPE](https://github.com/ChrisRfr/Win10XPE \"External link\") and include your favorite (Windows) Partition and recovery tools, and a big etc.\n\nDiskGenius Portable runs very fine from a WinPE, it even has an option to create a DiskGenius WinPE Bootable USB drive, haven\u0027t used as I make my own WinPEs.\n\nalacran\n\n"
    },
    {
      "id": "218593",
      "timestamp": "2021-07-04T05:27:35+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "\u003e I have seen this many times after run any Linux software, and latter reboot to Windows, it seems to me when Linux shuts down do not make this process in accordance with Windows standards, and then the HD gets the dirty bit (related to a not well closed sesion on the drive), that\u0027s for me the main reason to avoid as much as possible using Linux tools, especially if there are very good free Windows tools that can do same tasks without this irritating inconvenience. Best are [MiniTool Partition Wizard Free](https://www.partitionwizard.com/free-partition-manager.html \"External link\") and [DiskGenius Portable](https://www.diskgenius.com/download.php \"External link\") (also free), **I have even cloned NT compressed + Compacted LZX drives to/from VHDs with both ot them in just a few minutes.**   \n\u003e alacran\n\nI honestly think you\u0027re wrong here, i dual boot windows and various linux distros all the time. And my NTFS partitions are mounted in linux at boot time, by default (i configured them to do this).  \n\nWhen i reboot into windows, it very, very rarely checks the volumes. I think you\u0027re mistakenly blaming this on linux, even though the cause is most likely something else.   \n"
    },
    {
      "id": "218594",
      "timestamp": "2021-07-04T07:29:10+00:00",
      "author": "karyonix",
      "content": "\u003e I have seen this many times after run any Linux software, and latter reboot to Windows, it seems to me when Linux shuts down do not make this process in accordance with Windows standards, and then the HD gets the dirty bit (related to a not well closed sesion on the drive), ...\n\nIf you move or resize NTFS partition in Linux using gparted, it is normal. ntfsresize tool always mark resized NTFS for consistency check.\n\nBut if this happens every time Linux is booted, it is not normal.\n\nOne possibility is the partition is not unmounted properly because some files inside that partition is still in used during shutdown. Are your Linux systems run from disk image inside NTFS partition ?\n\nAnother possibility is Windows fast startup. Have you disabled fast startup in Windows ?\n\n"
    },
    {
      "id": "218596",
      "timestamp": "2021-07-04T08:31:57+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "Just to say, I\u0027m currently multibooting the following distros alongside Windows 10 Enterprise, with the circumstances listed in my last post:  \n\nArch Linux  \nManjaro  \nArchBang  \nGentoo  \nDebian  \nFedora Workstation  \nKali Linux  \nLinux Mint  \nopenSUSE  \nSlackware  \n\nIt\u0027s actually been months since i last saw a volume check when booting Windows, and I jump between Windows/Linux frequently. I also access my NTFS partitions in Linux (writable).  \n\nI also always have hibernation and fast startup disabled. There\u0027s no need to have these turned on, since all my OSes boot from NVMe SSDs. I have nothing to gain by enabling them.   \n"
    },
    {
      "id": "218597",
      "timestamp": "2021-07-04T08:32:18+00:00",
      "author": "alacran",
      "content": "Hi karyonis, it is nice to talk with you again.\n\nI don\u0027t run Linux Software from internal disks anymore on PCs having Windows installed on them since long time ago.\n\nWindows fast startup is always dissabled on all my PCs. I consider it an stupid feature created only to make the people think the Os boots very fast.\n\nBut every time I run any Linux software (ISO, VHD on NTFS partition, or frugal installed versions of Puppy and similars on FAT-32 partition) booting by means of A1ve\u0027s grub2 and/or grub4dos (on MBR and/or UEFI) from the USB device, next time I plug that USB device Windows always (with no exception) wants to scan it as if it were improperly dismounted during shut down or reboot, anyway usually it never founds any problem but I hate this ridiculous waste of time.\n\nalacran\n\n"
    },
    {
      "id": "218599",
      "timestamp": "2021-07-04T09:05:03+00:00",
      "author": "Wonko the Sane",
      "content": "@al\n\nAbout:\n\u003e\n\u003e EXTRA PARTITION FOUND! \\^\\^  \n\u003e\n\u003e ERROR: PARTITION TABLE ENTRY #4 (Type\u003d0x27) MUST BE EMPTY!  \n\u003e\n\u003e Press C and \\[Enter\\] to delete it :\n\nThat is a warning as E2B - in order to boot some (Linux) .iso\u0027s - uses a \"trick\" that needs to use a partition entry, the so-called \"fake partition\" or \"partnew\" one, originally discovered/documented by cdob\n\nSee:\n\n[http://reboot.pro/in...ic\u003d9916\\\u0026p\u003d88531](http://reboot.pro/index.php?showtopic\u003d9916\u0026p\u003d88531 \"\")\n\nWhen grldr boots. it looks for menu.lst on all drives, for \\*some\\* reasons (due to your BIOS boot order, or \\*whatever\\*) most probably in your current setup when you are booting from the internal disk, and load grldr (via BOOTMGR and \\\\boot\\\\BCD) the grldr finds first the menu.lst that is on the (E2B) USB stick before the one on the internal disk.\n\nOnce you are in grub4dos command line, you can manually \"switch\" to \\*any\\* menu.lst, by issuing a command (example, assuming that your menu.lst is in root of (hd1,5)):\n\nconfigfile (hd1,5)/menu.lst\n\nThe setting to look for menu.lst everywhere is in the embedded menu.lst (last few lines of grldr or grub.exe) for a \"static\" install of grub4dos, particularly if the menu.lst is in some \"strange\" location, it would make IMHO sense to \"hardcode\" it to a \"fixed\" location or put it in a \"non-standard\" named folder instead of root and modify the search logic.\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "218609",
      "timestamp": "2021-07-05T20:51:43+00:00",
      "author": "Al Gorithm",
      "content": "Based on @alacran\u0027s post (and also mentioned by @antonino61), I used DiskGenius portable to get the job done. (The original question was which tool to use to extend the Windows system (C:) drive). He mentioned that tool, as well as MiniTool. I have used Minitool in the past, and liked it, but its most recent versions have require the paid version for many functions, including resizing the system partition. His post also mentioned DiskGenius being able to create its own WinPE bootable USB drive, which feature I used, and it worked well.\n\nIn addition, DiskGenius allowed the C: drive to be extended with the free space that was on the other side of the Recovery partition, and it automatically moved the Recovery partition to the end of the free space. That was very convenient!\n\nI found the DiskGenius UI, and its operation, to be less intuitive and harder to use than some of the other tools. But functionally, with all the capabilities offered (even in the free version), I rate it tops, and wouldn\u0027t hesitate to use it again.\n\nImmediately before running the DiskGenius WinPE (which I had previously created), I used Clonezilla to back up the system and recovery partitions. Immediately after running DiskGenius, and booting into Windows without any issue, I ran Disk Management, and it showed everything as it should be, with the recovery partition apparently intact.\n\n@karyonix, thanks for your posts with instructions on handling the Recovery partition. DiskGenius apparently took care of that automatically, but if it hadn\u0027t, or if any issues should arise involving the recovery partition, your instructions will be very helpful.\n\nThanks to all who offered suggestions. I\u0027ve marked this thread as answered, since the original question has been addressed. But I still intend to follow up and try to get some of the mentioned tools working under GRUB4DOS.\n\n@AnonVendetta suggested using Easy2Boot to run the tools, and then examine the parameters used there, which I did. It was a good suggestion, but unfortunately using the discovered parameters didn\u0027t result in success. I\u0027ve still had no success with GParted under G4D, although that\u0027s less of an issue now, since GParted can be run with Puppy Linux under G4D. But it would still be nice to solve.\n\nSystemRescueCD has been a little bit better, and I feel that a solution may be close. Based on this SystemRescueCD website page: [https://www.system-r...ue_on_the_disk/](https://www.system-rescue.org/manual/Installing_SystemRescue_on_the_disk/ \"External link\") I have the .iso booting under G4D to a more advanced stage, but it is now showing:  \n\n:: Mounting \u0027dev/disk/by-label\u0027 to \u0027/run/archiso/bootmnt\u0027\n\nWaiting 30 seconds for device /dev/disk/by-label/ ...\n\nERROR:\n\nOn the page mentioned, it says that archisolabel must be set to the label of the NTFS filesystem which contains systemrescuecd. I\u0027ve tried setting it to the label of the E: (FAT32) drive where the systemresuecd .iso is located, which resulted in the above error. I\u0027ve also tried setting it to \u0027RESCUE803\u0027 which is what is used in the configuration file in the .iso itself, but with no change. I really don\u0027t know what it wants to have that parameter set to.\n\nSo that\u0027s the status to this point. Any further comments welcome.\n\n"
    },
    {
      "id": "218610",
      "timestamp": "2021-07-05T22:42:14+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "You dont normally need to keep the recovery partition anyway. I\u0027ve always found that it\u0027s not necessary. Just delete the partition, delete the boot folder (whereever it\u0027s located), then run the bcdboot command to generate new boot files/entries. It should also create a Recovery folder in the root of the C drive, if it doesnt exist there already. I like to keep both my Boot and Recovery folders in C drive, it\u0027s just less hassle that way.  \n\nDo you boot Windows in legacy CSM/MBR mode, or UEFI?  \n\nBefore i forget, that recovery partition could be an OEM partition placed there by the PC manufacturer (umlikely, if you\u0027ve wiped the drive before and clean installed Windows). If you\u0027re going to delete it, i\u0027d check its\u0027 contents first, and backup the entire partition (not just the files in it) if it looks like it contains anything important.  \n\nAbout the label thing, some Linux distros do check the label of the disc/ISO that\u0027s being booted, and will fail to boot if it doesnt find the label it\u0027s looking for. I used to have this issue with Arch Linux, but it\u0027s long since been fixed. This is why i recommend just booting the ISO instead of creating a USB.   \n"
    },
    {
      "id": "218611",
      "timestamp": "2021-07-05T23:49:10+00:00",
      "author": "Al Gorithm",
      "content": "The system is self-built with a Gigabyte mainboard, and Windows clean install, so it\u0027s not an OEM partition--just the standard Windows Recovery partition. It\u0027s only 450MiB, and doesn\u0027t bother me at all. The system is fully UEFI capable, but I\u0027ve set it up as CSM.\n\nDid you ever find a solution/workaround for the label issue?\n\n"
    },
    {
      "id": "218612",
      "timestamp": "2021-07-05T23:55:05+00:00",
      "author": "alacran",
      "content": "@ Al Gorithm\n\nIt is good to know now all is working as you want.\n\nAbout:\n\u003e\n\u003e I have used Minitool in the past, and liked it, but its most recent versions have require the paid version for many functions, including resizing the system partition.\n\nI still have the old MiniTool Partition Wizard Free v9.1 and do not have plans to update to new version. It works very fine so far. Not always newer is better.\n\nAbout:\n\u003e\n\u003e His post also mentioned DiskGenius being able to create its own WinPE bootable USB drive, which feature I used, and it worked well.\n\nIt\u0027s good you confirmed it creates its own WinPE and it worked fine, I haven\u0027t tested this before as never needed.\n\nNow I think it is not a bad idea if you also follow this other suggestion:\n\n\u003e It\u0027s very easy to create a [Win10XPE](https://github.com/ChrisRfr/Win10XPE \"External link\") and include your favorite (Windows) Partition and recovery tools, and a big etc.\n\nThen you can have a full set of tools in a single WinPE, And also will be capable to run many other Portable Programs from it.\n\nNOTE: The download includes all required to integrate MiniTool Partition Wizard Free v9.1 (The good old version not so chopped as the new free version). Also you can integrate DikGenius free.\n\nalacran\n\n"
    },
    {
      "id": "218613",
      "timestamp": "2021-07-06T00:07:25+00:00",
      "author": "Guest_AnonVendetta_*",
      "content": "\u003e Did you ever find a solution/workaround for the label issue?\n\nYES! And if you had read the last few sentences of my previous post, you would have seen my answer.  \n\nNow that I\u0027m sufficiently annoyed, i will stay out of this thread from here onwards.   \n"
    },
    {
      "id": "218615",
      "timestamp": "2021-07-06T11:18:37+00:00",
      "author": "relynx",
      "content": "\u003e ....\n\u003e\n\u003e :: Mounting \u0027dev/disk/by-label\u0027 to \u0027/run/archiso/bootmnt\u0027\n\u003e\n\u003e Waiting 30 seconds for device /dev/disk/by-label/ ...\n\u003e\n\u003e ERROR:\n\u003e ...\n\n* That\u0027s your output. What\u0027s your ***input*** ?  \n\n  Imagine you would like to help someone posting a question like yours. How could you do that with that much info given?  \n  Seeing how you approach the problem, I\u0027m tending to the conclusion that Grub4DOS is not the right tool for you. If you just want to boot ISOs, there are simpler solutions out there. If you want to be proficient with Grub4DOS and use it as your main bootloader, then you should begin to learn how to debug your menu.lst. *Wonko* already stated it elsewhere something remotely like this: \"Drop to Grub4DOS shell and type the lines of your boot entry.\"  \n\n  *HINT* : Boot Puppy and type in terminal.  \n\n  ```\n  ls -al /dev/disk/by-label/\n  ```\n\n* Anyway, here are some pics to showcase how easy it is nowadays to boot ISOs.\n\n\u003e ...  \n\u003e\n\u003e It is as easy as:\n\u003e\n\u003e 1. Create boot stick with Ventoy installer.\n\u003e 2. Drop ISO into first partition.\n\u003e 3. Boot.\n\u003e\n.\n\n**\\[PIC01: Ventoy F6 - Custom menu\\]**\n\n[![51294293169_c5d6272d8e_b.jpg](https://live.staticflickr.com/65535/51294293169_c5d6272d8e_b.jpg)](https://flic.kr/p/2m9GEhZ \"External link\")\n\n.\n\n**\\[PIC02: Ventoy - ISO menu\\]**\n\n[![51293577966_9edbc10bcd_b.jpg](https://live.staticflickr.com/65535/51293577966_9edbc10bcd_b.jpg)](https://flic.kr/p/2m9CZFU \"External link\")\n\n.\n\n**\\[PIC03: Grubfm - ISO menu\\]**\n\n[![51293577956_b9e4b2aee7_b.jpg](https://live.staticflickr.com/65535/51293577956_b9e4b2aee7_b.jpg)](https://flic.kr/p/2m9CZFJ \"External link\")\n\n.\n\n**\\[PIC04: Grubfm - SystemRescue ISO selected\\]**\n\n[![51293753593_cf9a59c479_b.jpg](https://live.staticflickr.com/65535/51293753593_cf9a59c479_b.jpg)](https://flic.kr/p/2m9DTTX \"External link\")\n\n.\n\n**\\[PIC05: Grubfm - SystemRescue boot menu select\\]**\n\n[![51294293104_633020a3ee_b.jpg](https://live.staticflickr.com/65535/51294293104_633020a3ee_b.jpg)](https://flic.kr/p/2m9GEgS \"External link\")\n\n.\n\n**\\[PIC06: Grubfm - SystemRescue booted shell\\]**\n\n[![51294580920_75c455f0a2_b.jpg](https://live.staticflickr.com/65535/51294580920_75c455f0a2_b.jpg)](https://flic.kr/p/2m9J8Qd \"External link\")\n\n.\n\n**\\[PIC07: Grubfm - SystemRescue X-Windows\\]**\n\n[![51294293054_9590894352_b.jpg](https://live.staticflickr.com/65535/51294293054_9590894352_b.jpg)](https://flic.kr/p/2m9GEg1 \"External link\")\n\n.\n\n**\\[PIC08: Ventoy - Boot ISO directly from ISO menu\\]**\n\n*-\\\u003e \\[PIC02: Ventoy - ISO menu\\]*\n\n[![51292829917_10077531a1_b.jpg](https://live.staticflickr.com/65535/51292829917_10077531a1_b.jpg)](https://flic.kr/p/2m9zajv \"External link\")\n\n.\n\n"
    }
  ]
}