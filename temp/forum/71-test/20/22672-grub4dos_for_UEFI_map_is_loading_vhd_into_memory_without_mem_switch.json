{
  "id": "22672",
  "title": "grub4dos for UEFI map is loading vhd into memory without mem switch",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "221906",
      "timestamp": "2022-11-01T00:38:06+00:00",
      "author": "favorinus",
      "content": "grub4dos for UEFI map is loading vhd into memory without mem switch\n\nHi everyone,\n\nagain something strange. I managed my vhd to chainload and boot from memory,\n\nbut now it\u0027s imposible to boot from vhd normally.. it\u0027s loading always first into memory.\n\nfind --set-root /win10_4125.vhd\n\nmap /win10_4125.vhd (hd)\n\nnow it\u0027s starting to load the whole vhd file into memory .. like there is the --mem switch\n\nwhy and how can I prevent that ?\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "221907",
      "timestamp": "2022-11-01T08:38:20+00:00",
      "author": "steve6375",
      "content": "Try using Defraggler to make the vhd file contiguous\n\n"
    },
    {
      "id": "221908",
      "timestamp": "2022-11-01T16:01:31+00:00",
      "author": "favorinus",
      "content": "thanks, that solved it.\n\n"
    },
    {
      "id": "221912",
      "timestamp": "2022-11-02T13:07:46+00:00",
      "author": "Wonko the Sane",
      "content": "So, if I get it right, grub4dos (for UEFI) if it detects that the file is fragmented, autoloads it in memory? ![:w00t:](http://reboot.pro/public/style_emoticons/default/w00t.gif) ![:frusty:](http://reboot.pro/public/style_emoticons/default/frusty.gif)\n\nNot to seem the usual grumpy, old, bastard (that I actually am, BTW), but it seems to me the perfect way to crash (after a looong delay) when there is not enough RAM available and with slow media.\n\nCan the behaviour be disabled somehow?\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "221913",
      "timestamp": "2022-11-02T13:41:44+00:00",
      "author": "steve6375",
      "content": "It may be that the file was too highly fragmented and map could not cope so it defaulted to load it into memory ???\n\n"
    },
    {
      "id": "221916",
      "timestamp": "2022-11-03T09:20:41+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e It may be that the file was too highly fragmented and map could not cope so it defaulted to load it into memory ???\n\nMaybe, but as said, if this behaviour is confirmed, it is likely to produce delays and crashes, and of course it is more likely that a file is fragmented if it is a large one.\n\nWith smaller ones (that fit in memory) the behaviour (if confirmed) would introduce the delay for loading into mem, and then the \\*whatever\\* might work, but not as intenteded (filedisk) but rather as the grub4dos arbitrarily decided (memdisk).\n\nIt doesn\u0027t seem to me like a desirable feature.\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    }
  ]
}