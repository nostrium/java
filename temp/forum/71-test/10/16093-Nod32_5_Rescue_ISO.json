{
  "id": "16093",
  "title": "Nod32 5 Rescue ISO",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "145185",
      "timestamp": "2011-12-28T17:22:22+00:00",
      "author": "laddanator",
      "content": "So I created a Nod32 5 Rescue Disk with Windows 7 Sp1 WAIK WinPE with the option of less than 576 ram (Total size of ISO created is 463MB). This means an ISO is created and everything is run from CD in a PE environment and nothing is loaded to ram. The more than 576 option creates a boot.wim and can be booted from root with bootmgr and the boot.wim is loaded to ram like Win7 setup and Nod32 5 runs fine  \n\nThis is working fine:  \n\n```\niftitle [find --set-root --devices\u003dh /laddsbootusb.tag \u0026\u0026 call set Nod32\u003d%@root^%] Nod32 5 Rescue Disc From %Nod32%nUpdated 12-11-11.!576 Or More Ram Required!\n\npassword --md5 $1$A$hzYlFap3SLNNQ/tA7c3.S.\n\nfind --set-root --devices\u003dh /laddsbootusb.tag\n\nclear\n\nif exist %Nod32%/laddsbootusb.tag set ND32\u003d%Nod32%/BOOTMGR\n\necho Booting Nod32 Rescue Disk 5.0.4.0 From %Nod32%\n\npause --wait\u003d5 Checking Paths\n\nchainloader %ND32%\n```\n\n\u003cbr /\u003e\n\nThe reason I created a less than 576 ram with Nod32 rescue disc creator was for older XP machines with less than 576 ram. The problem is if I try to boot the ISO with this command  \n\n**iftitle \\[find --set-root --devices\u003dh /laddsbootusb.tag \\\u0026\\\u0026 call set NoRam\u003d%@root\\^%\\] Nod32 5 (Runs from CD)\npassword --md5 $1$A$hzYlFap3SLNNQ/tA7c3.S.\nfind --set-root --devices\u003dh /laddsbootusb.tag\nclear\nif exist %NoRam%/laddsbootusb.tag set ND32\u003d%Nod32%/NOD32.ISO\necho Booting Nod32 5 From %Image%\nmap %ND32% (hd32)\nmap --hook\nroot (hd32)\nchainloader (hd32)**   \n\nI can see the Vista Style bar scrolling across the screen and then BSOD with error  \n\nSTOP: 0x0000007B (0x86186B58,0xc0000034,0x00000000,0x00000000,)  \n\nNow I am testing this from the latest VirtualBox and not from a live boot. I tried to extracted the contents of the Nod32 ISO and boot the bootmgr from the ISO in a live boot and I got the BOSD. I can boot the Nod325 created WinPE.iso straight from VirtualBox and it boots fine.  \n\nMy goal is to boot the Nod32 5 less than 576 ram ISO from grub4dos. Not sure if friadisk would help?  \n\nAny idea\u0027s? I tried to be detailed as possible but I\u0027m sure I miss something.  \n\n**Update.**   \nJust made a grub4dos bootable CD with NOD32.ISO at the root of the CD and the above command in my menu.lst...booted to a real machine and same BSOD.   \n"
    },
    {
      "id": "145217",
      "timestamp": "2011-12-28T23:20:06+00:00",
      "author": "ilko",
      "content": "\u003e So I created a Nod32 5 Rescue Disk with Windows 7 Sp1 WAIK WinPE with the option of less than 576 ram (Total size of ISO created is 463MB).\nMost likely some of the files were moved out of boot.wim in order to reduce its size and you fall into the category \"How to run windows 7 from USB drive\".   \n"
    },
    {
      "id": "145218",
      "timestamp": "2011-12-28T23:33:00+00:00",
      "author": "laddanator",
      "content": "\u003e Most likely some of the files were moved out of boot.wim in order to reduce its size and you fall into the category \"How to run windows 7 from USB drive\"\n\nYes, I believe this could be true. If I leave the CD untouched, boots and loads fine. I extracted the contents and add drivers via DISM and sowed the ISO back up with UltraISO and Nod boots and runs fine but still can\u0027t run Nod from grub4dos. What is the size limit for grub4dos on ISO emulation?   \n"
    },
    {
      "id": "145225",
      "timestamp": "2011-12-29T00:56:20+00:00",
      "author": "cdob",
      "content": "\u003e everything is run from CD in a PE environment and nothing is loaded to ram.\n\n\u003e still can\u0027t run Nod from grub4dos. What is the size limit for grub4dos on ISO emulation?\nThat\u0027s the false question.  \n\nGrub4dos works at real mode. There is no emulated CD anymore at protected mode.  \nYour operating system has to have drivers for file NOD32.ISO . Hence the BSOD 0x7b.  \nYou have to add third party windows drivers to support this, e.g. firadisk or WinVBlock.   \n"
    },
    {
      "id": "145226",
      "timestamp": "2011-12-29T01:16:20+00:00",
      "author": "laddanator",
      "content": "\u003e **map /whatever.iso (hd32)\n\u003e map --hook\n\u003e root (hd32)\n\u003e chainloader (hd32)**\n\n\u003e Your operating system has to have drivers for file NOD32.ISO\n\nAny other ISO I use this command on works  \n\n**map /whatever.iso (hd32)\nmap --hook\nroot (hd32)\nchainloader (hd32)**   \n\nas in loads up(Partition Wizard...Image For Linux...Image For Dos...Windows Password Tool...SeagateHD...KillDisc..all these are under 50mbs in size). Isn\u0027t the hd32 like a emulator drive of some sorts? I can boot the same NOD.ISO on a burnt CD and boots and loads fine on any computer I boot the CD from, even my old p3 128mb ram in my shop so that would led me to think it\u0027s not a driver. I have used friadisk before but I need to re-read up on it. I only get the blue screen if I try to load the NOD.ISO from grub4dos...never get the BOSD from the CD I burned on a live machine.  \n\n\u003cbr /\u003e\n\nLet me add that on VirtualBox if I boot the NOD.ISO from grub4dos with the above command...BSOD...but if I bypass grub4dos and boot the NOD.ISO straight from VirtualBox...the Nod Rescue loads fine with no BOSD...so I think its a size limitation for ISOs in grub4dos   \n"
    },
    {
      "id": "145240",
      "timestamp": "2011-12-29T09:28:31+00:00",
      "author": "cdob",
      "content": "\u003e Any other ISO I use this command on works\nThis examples does work by chance.  \nE.g. a RAM loaded example dosn\u0027t require ISO file anymore.  \nOther examples does find the ISO file at USB stick.  \nRead the sticky \u003chttp://reboot.pro/5041/\u003e  \n\n\u003cbr /\u003e\n\n\u003e Isn\u0027t the hd32 like a emulator drive of some sorts?\nYes, that\u0027s a some sort emulator. However up to a certain level.  \nAs long a operating system uses BIOS calls, the emulated drive does exist.  \nIf a default PE loads defautl windows drivers, switch to real mode and access hardware directly: emulated drive does NOT exist anymore  \nBoot drive dosn\u0027t exist: BSOD 0x7b  \n\n\u003cbr /\u003e\n\n\u003e I can boot the same NOD.ISO on a burnt CD and boots and loads fine\nAt a CD there are flat files, that\u0027s not a single ISO file anymore.  \nExisting drivers find flat files at CD. Booting does work.   \n"
    },
    {
      "id": "145302",
      "timestamp": "2011-12-30T05:31:43+00:00",
      "author": "laddanator",
      "content": "\u003e You have to add third party windows drivers to support this, e.g. firadisk or WinVBlock\n\nI guess this would defeat the purpose. The Nod.ISO is over 432 mbs and I was wanting to be able to use this on low ram computers if need be. If I use firadisk and so on, with the memory it would take, I could just use the more than 576 version. I will have to stick this on a CD and use it...How do you use a CD again!?! ![:loleverybody:](http://reboot.pro/public/style_emoticons/default/loleverybody.gif)   \n.   \n"
    },
    {
      "id": "145310",
      "timestamp": "2011-12-30T09:40:30+00:00",
      "author": "cdob",
      "content": "\u003e If I use firadisk and so on, with the memory it would take, I could just use the more than 576 version.\nWhy would it use this much memory?  \nThat\u0027s a small driver in addition. Memory footprint is as CD version almost.  \n\nKeep the file based approach:  \nmap %ND32% (hd32)  \n\nDo NOT use RAM loaded ISO image:  \nmap --mem %ND32% (hd32)  \n\nAnd configure USB drivers to load at boot time.   \n"
    },
    {
      "id": "145320",
      "timestamp": "2011-12-30T13:28:34+00:00",
      "author": "laddanator",
      "content": "\u003e Why would it use this much memory?  \n\u003e That\u0027s a small driver in addition. Memory footprint is as CD version almost.  \n\n\u003cbr /\u003e\n\nYes, I was kinda miss informed somewhat about firadisk. I read up on firadisk til 2 this morning. I was thinking that firadisk created a virtual drive..CD I Assumed and load the entire contents of the ISO there but after some reading, I found different .You know what they say about assuming! :smile:  \n\nI tries this with and without the dpms in a virtual machine environment with VirtualBox but I got the BOSD. I can see the dpms.bat runs fine and it loads SATA drivers. I will test again and see exactly what dpms loads  \n\n\u003cbr /\u003e\n\n```\ntitle Testing Nod32\n\nset SATA\u003d/dpms/dpms.bat\n\n%SATA%\n\nmap --mem (md)0x800+4 (99)\n\ncheckrange 0x80 read 0x8280 \u0026\u0026 map (hd1) (hd0)\n\ncheckrange 0x80 read 0x8280 \u0026\u0026 map (hd0) (hd1)\n\nmap /Nod/Nod32.iso (222)\n\nmap /Nod/firadisk.img (fd0)\n\nmap /Nod/firadisk.img (fd1)\n\nmap --harddrives\u003d1\n\nmap --hook\n\nwrite (99) [FiraDisk]nStartOptions\u003dcdrom,vmem\u003dfind:/Nod/Nod32;floppy,vmem\u003dfind:/Nod/firadisk.img;n0\n\nrootnoverify (222)\n\nchainloader\n```\n\n\u003cbr /\u003e\n\n\u003cbr /\u003e\n\nI was reading some say that virtual environment wasn\u0027t the best for testing firadisk and then some say it works fine.   \n"
    },
    {
      "id": "145343",
      "timestamp": "2011-12-30T18:53:37+00:00",
      "author": "laddanator",
      "content": "\u003e Keep the file based approach:  \n\u003e map %ND32% (hd32)\n\nWhere does firadisk fall in, command wise if this is used?  \n\n**map %ND32% (hd32)\nmap --hook\nroot (hd32)\nchainloader (hd32)\n##(hd32)**   \n"
    },
    {
      "id": "145345",
      "timestamp": "2011-12-30T19:27:06+00:00",
      "author": "laddanator",
      "content": "Just for testing I tired this but still BOSD...on Virtual Box  \n\n```\ntitle Test 1\n\nmap --mem (md)0x800+4 (99)\n\nmap /XP/firadisk.img (fd0)\n\nmap /XP/firadisk.img (fd1)\n\nmap /XP/Nod.iso (hd32)\n\nmap --hook\n\nwrite (99) [FiraDisk]nStartOptions\u003dcdrom,vmem\u003dfind:/XP/Nod.iso;n0\n\nroot (hd32)\n\nchainloader (hd32)\n\n\n\n\n\ntitle\n\nroot\n\n\n\ntitle Test 2\n\nmap --mem (md)0x800+4 (99)\n\nmap /XP/firadisk.img (fd0)\n\nmap /XP/firadisk.img (fd1)\n\nmap /XP/Nod.iso (hd32)\n\nmap --hook\n\nwrite (99) [FiraDisk]nStartOptions\u003dcdrom,vmem\u003dfind:/XP/Nod.iso;floppy,vmem\u003dfind:/XP/firadisk.img;n0\n\nroot (hd32)\n\nchainloader (hd32)\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "145350",
      "timestamp": "2011-12-30T19:40:46+00:00",
      "author": "cdob",
      "content": "You mix XP driver approaches with Windows 7 driver loading. This fails.  \nI doubt Windows 7 and floppy disk.  \n\ndpms.bat is about NT5 systems. This is not Windows 7. Do not use dpms.bat.  \n\nNod32 is a commercial application. I don\u0027t use this, I\u0027ve no tested solution for this.   \n"
    },
    {
      "id": "145352",
      "timestamp": "2011-12-30T20:03:42+00:00",
      "author": "laddanator",
      "content": "\u003e dpms.bat is about NT5 systems. This is not Windows 7. Do not use dpms.bat\n\nThis is correct. I was just doing some testing. I removed the dpms command in the latter stuff I posted. I been doing all kinda testing. I tried to load untouched XP.iso via Friadisk and dpms(no luck). I only got dpms to find drives for the three live computers I tested it on with SATA Hard drives when trying to load my LiveXP. I know the dpms.bat runs each time because I can see it...still learning. No sure why I am getting No Drivers Found more than The drivers loaded...1 out of 3 so far. Im going ![:offtopic:](http://reboot.pro/public/style_emoticons/default/offtopic.gif) I know  \n\n```\niftitle [find --set-root --devices\u003dh /laddsbootusb.tag \u0026\u0026 call set USBRoot\u003d%@root^%] LiveXP From %USBRoot%nCopy Data From An Infected Computer. Take Premissions And More\n\npassword --md5 $1$A$hzYlFap3SLNNQ/tA7c3.S.\n\nfind --set-root --devices\u003dh /laddsbootusb.tag\n\nif exist %USBRoot%/XP/XP.BIN set Answer5\u003dyes \u0026\u0026 set SATA\u003d%USBRoot%/dpms/dpms.bat\n\nif /i \"%Answer5%\"\u003d\u003d\"yes\" set LiveXP\u003d%USBRoot%/XP/XP.BIN\n\nclear\n\nif exist %SATA% set /p /u Drivers\u003dDo You Need To Load Addition SATA Drivers...Y Or N:\n\nif /i \"%Drivers%\"\u003d\u003d\"Y\" clear \u0026\u0026 echo Loading SATA Drivers From %SATA% \u0026\u0026 echo Loading LiveXP From %LiveXP% \u0026\u0026 pause --wait\u003d10 \u0026\u0026 %SATA% \u0026\u0026 chainloader %LiveXP%\n\nclear\n\nif \"%Answer5%\"\u003d\u003d\"\" echo Can Not Find LiveXP. Please Contact Superman! \u0026\u0026 pause --wait\u003d10 Going Back To Main Menu...Hit Enter At AnyTime \u0026\u0026 configfile %USBRoot%/menu.lst\n\nclear\n\necho Loading LiveXP From %LiveXP%\n\npause --wait\u003d10 Making Sure Paths Exist...Hit Enter Key At AnyTime\n\nchainloader %LiveXP%\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "145367",
      "timestamp": "2011-12-31T03:02:57+00:00",
      "author": "laddanator",
      "content": "\u003e Most likely some of the files were moved out of boot.wim in order to reduce its size and you fall into the category \"How to run windows 7 from USB drive\".\n\nYes no boot.wim involved. The CD version is like the boot.wim was extracted to the CD in a way and is all file based. I can run the more than 576 ram version from a boot.wim fine from USB. This thing has been hard coded to run from CD period and I am going to just have to do that and move on. Spending to much time on this one thing just to get around the use of a CD. Thanks for everyone\u0027s input   \n"
    }
  ]
}