{
  "id": "18258",
  "title": "FIXED: Unknown NTFS MBR on USB stick",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "168696",
      "timestamp": "2013-03-03T15:30:50+00:00",
      "author": "Rootman",
      "content": "Been a LONG time since I posted. Thought I\u0027d drop off this hint.\n\nSo I have a nice big fat 64 GB USB stick that I\u0027ve used for a few years now, I\u0027ve got Grub4DOS installed on it and a host of bootable ISO\u0027s of PE\u0027s and various Linux distros and a bunch of portable apps. I use it every day and it\u0027s invaluable. I was messing around with it trying to chain load Syslinux so I could use some Limux distro that Grub4DOS didn\u0027t like to boot in ISO emulation and sure enough I somehow hosed the MBR and got the dreaded UNKNOWN NTFS MBR:\n\n```\nThis partition is NTFS but with unknown boot record. Please install\nMicrosoft NTFS boot sectors to this partition correctly, or create an\nFAT12/16/32 partition and place the same copy of GRLDR and MENU.LST there.\n```\n\nNo problem, just back up the data and reformat and it\u0027ll be fixed. NO SUCH LUCK. No matter what I tried I still got this error. Windows itself won\u0027t delete a partition on a USB stick and when I booted to Parted Magicand used it I still got the same NTFS boot record error. Digging around I think I found an answer.\n\nFist - BACK UP THE DATA AS THIS WILL REQUIRE FORMATTING THE DRIVE.\n\nIn Windows Vista\\\\7\\\\8 open a CMD prompt as administrator and use:\n\n**DISKPART**   \n**LIST DISK**   \n**SELECT DISK 1** (here my flash drive disk is Disk 1)   \n**CLEAN** (may say error but it seems to work)  \n**CREATE PARTITION PRIMARY**  \n**SELECT PARTITION 1**  \n**ACTIVE**  \n**FORMAT FS\u003dNTFS**(Format process may take a LONG time, you can skip this and Quick format in Explorer )\n**EXIT**\n\nPop the drive out and back in to get it recognized with a drive letter. Now dig up your Windows 7 DVD and copy **BOOTSECT.EXE** from the \\\\BOOT folder to somewhere on your Windows 7 path or in the current directory, this is another good tool to have around so leave it there. Use it as follows:\n\n**BOOTSECT.EXE /NT52 F**: (where F: is the drive WIndows assigned to your stick)  \nNormally you\u0027d want version 6 of NTFS MBR on your drive but I tried it and it only worked after installing version 5.2. Copy NTLDR and MENU.LST back to the drive and try and boot with it. If it works then restore your other data and you\u0027re fixed. After screwing around for maybe 12 hours with this issue this was the fix for me. Hopefully it wasn\u0027t a fluke and will work for other\u0027s too.\n\n**Edited by Rootman, 03 March 2013 - 03:37 PM.**\n"
    },
    {
      "id": "168702",
      "timestamp": "2013-03-03T16:15:02+00:00",
      "author": "Wonko the Sane",
      "content": "@Rootman\n\nSorry to say so, but you have most of this wrong. ![:frusty:](https://reboot.pro/public/style_emoticons/default/frusty.gif)\n\nThe error message is NOT refeering to the Master Boot Record (MBR):\n\n\u003e This partition is NTFS but with unknown boot record. Please install  \n\u003e Microsoft NTFS boot sectors to this partition correctly, or create an  \n\u003e FAT12/16/32 partition and place the same copy of GRLDR and MENU.LST there.\n\nA ***NTFS ++boot record++*** has **NOTHING** (and I mean **NOTHING** ) to do ++with the **MBR**.++\n\nThe **MBR** is first sector of the **DISK** and is filesystem agnostic,\n\nA ***NTFS ++boot record++*** is the first sector (actually first 16 sectors in the case of NTFS) of a ***NTFS*** **PARTITION** or **VOLUME** or **FILESYSTEM** or **DRIVE**, often called PBR or VBR or bootsector.\n\nbootsect.exe has as target a **DRIVE** (or - if you prefer - something that has a **DRIVE LETTER** assigned to it :wink:) **AND NOT** the MBR.\n\n**AND** , as the name implies, ***bootsect***.exe is intended to write to it\u0027s ***bootsect***or.\n\nThe Windows 7 bootsect.exe has an additional switch /mbr that ALSO affects the MBR.\n\nSee:\n\n[http://neosmart.net/...or-not-the-mbr/](http://neosmart.net/blog/2007/bootsectexe-modifies-the-bootsector-not-the-mbr/ \"External link\")\n\n[http://neosmart.net/...#comment-158481](http://neosmart.net/blog/2007/bootsectexe-modifies-the-bootsector-not-the-mbr/comment-page-1/#comment-158481 \"External link\")\n\nand links given here:\n\n[http://reboot.pro/to...board/?p\u003d168679](http://reboot.pro/topic/18023-xp-setup-ntldr-not-found-but-boots-fine-on-newer-motherboard/?p\u003d168679 \"\")\n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "168718",
      "timestamp": "2013-03-03T19:44:08+00:00",
      "author": "Rootman",
      "content": "Well Wonko, sorry to chap your ass, YES it was the boot sector and YES the steps I took to remidy it was what fixed it. I deleted and recreated the partition a few times using a few different methods and NONE of them seemed to work right till I did it INSIDE windows using diskpart.\n\nSo excuse my ignorance and substitue BOOTSECTOR for MBR in my original post. I\u0027d edit it but I can\u0027t seem to. I\u0027ve not posted much since the forum switched to reboot pro from the old site. Recently had to update my PE and got back into it again. I was fooling around with a multi-boot creator that used syslinux and tried to chain boot it from grub4dos (which apparently won\u0027t work on NTFS) and I guess installed syslinu to the MBR, when I reinstalled grub4dos the UNKNOW BOOT RECORD error cropped up - which with my limited experience I took as an MBR problem. Maybe just using the BOOTSECT.EXE by itself would of fixed the issue. If I ever hose it again I\u0027ll try it first.\n\n"
    },
    {
      "id": "168737",
      "timestamp": "2013-03-04T08:51:50+00:00",
      "author": "Wonko the Sane",
      "content": "No prob, the correction was needed to disambiguate, there so much confusion between disk and drive, and MBR and boot record/bootsector that I find very important (as always) to call things with their names.\n\nAnother needed correction is that grub4dos has no issues whatever with NTFS (and chainloading a NTFS volume boot record or a file in a NTFS volume) whilst Syslinux support for NTFS (while already working) is still experimental.\n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    }
  ]
}