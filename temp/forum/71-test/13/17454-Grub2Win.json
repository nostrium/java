{
  "id": "17454",
  "title": "Grub2Win",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "159838",
      "timestamp": "2012-09-01T16:27:26+00:00",
      "author": "drummerdp",
      "content": "Hi, drummerdp here. I recently set up a project on sourceforge called grub2win. Grub2win lets you boot the officially released GNU grub 2.00 from Windows 7, Windows 8 or Vista. Grub2 supports extremely large drives and GPT partitions.  \n\nThis gets around the old 4 partition MBR limit. I currently have 7 Linux partitions on one GPT disk as well as Mac and Windows partitions.  \n\nAdvanced scripting, searches and many other functions are available at boot time. All commonly used file systems for Windows, Linux and Mac are supported.  \n\nInstallation is simple and takes only seconds. The software requires only one small directory on the C: drive, less than 5 MB.  \n\nGrub2win uses the Windows bootmgr / bcd to boot grub from a normal NTFS directory on the C: drive.  \nThe native Windows MBR is not touched. This makes multi-booting much less risky.  \n\nThere is an alternative download available for XP / 2000 users.  \n\nNote: This project was previously called grub24dos. It has over 11,000 users worldwide.  \n\n\u003cbr /\u003e\n\n\u003cbr /\u003e\n\nGive it a try and let me know how you make out. The code can be found here:  \n\n[http://sourceforge.n...jects/grub2win/](http://sourceforge.net/projects/grub2win/ \"External link\")  \n\n\u003cbr /\u003e\n\nThanks.  \n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "159926",
      "timestamp": "2012-09-03T10:03:51+00:00",
      "author": "Holmes.Sherlock",
      "content": "Have all our moderators died out? JFYI, ***triple*** posting here:  \n\n\u003chttp://reboot.pro/17454/\u003e  \n\u003chttp://reboot.pro/17453/\u003e  \n\u003chttp://reboot.pro/17452/\u003e   \n"
    },
    {
      "id": "160001",
      "timestamp": "2012-09-05T01:34:48+00:00",
      "author": "sbaeder",
      "content": "\u003e Have all our moderators died out? JFYI, ***triple*** posting here:  \n\u003e\n\u003e \u003chttp://reboot.pro/17454/\u003e  \n\u003e \u003chttp://reboot.pro/17453/\u003e  \n\u003e \u003chttp://reboot.pro/17452/\u003e  \nno, just asleep... ![:chair:](http://reboot.pro/public/style_emoticons/default/chair.gif) And a good whack is often needed :smile:  \n\nMostly a case of \"someone else\" will probably fix it...(so no one did)...  \n\nScott  \n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "160003",
      "timestamp": "2012-09-05T01:44:55+00:00",
      "author": "Holmes.Sherlock",
      "content": "\u003e no, just asleep... ![:chair:](http://reboot.pro/public/style_emoticons/default/chair.gif) And a good whack is often needed :smile:  \n\u003e\n\u003e Mostly a case of \"someone else\" will probably fix it...(so no one did)...  \nI reported around 48 hours back and I can find the links to be still valid.   \n"
    },
    {
      "id": "160009",
      "timestamp": "2012-09-05T07:02:10+00:00",
      "author": "pscEx",
      "content": "In former times, as I remember, developers could remove such double posts in most subforums.  \nNowadays the number of subforums with developer moderator access is much lower.  \n\nPeter   \n"
    },
    {
      "id": "160018",
      "timestamp": "2012-09-05T12:26:55+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e In former times, as I remember, developers could remove such double posts in most subforums.  \n\u003e Nowadays the number of subforums with developer moderator access is much lower.  \nIn former-former times ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif), an Admin would have kicked **drummerdp** \u0027s ass till the moon and back for the triple posting, removed two of them then would have kicked **Holmes.Sherlock** \u0027s ass for commenting in public the Admin/Mod actions (or lack thereof)..... :wink:  \n\n\u003cbr /\u003e\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "160027",
      "timestamp": "2012-09-05T14:01:26+00:00",
      "author": "Holmes.Sherlock",
      "content": "\u003e In former-former times ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif), an Admin would have kicked **drummerdp** \u0027s ass till the moon and back...  \nNobody has done that yet. So, the situation has turned worse.  \n\n\u003e ...then would have kicked **Holmes.Sherlock** \u0027s ass for commenting in public the Admin/Mod actions (or lack thereof)  \nI just felt and found my ass to be perfectly all right. Does that mean the situation is better now? Pretty confused.   \n"
    },
    {
      "id": "160034",
      "timestamp": "2012-09-05T16:06:37+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Nobody has done that yet. So, the situation has turned worse.  \n\u003e ....  \n\u003e\n\u003e I just felt and found my ass to be perfectly all right. Does that mean the situation is better now? Pretty confused.  \nNaaah, not better nor worse, only *different* .  \n\nOne of the few (useful ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif)) things old people can do is to tell yutes :wink: how things worked (or completely failed to ![:w00t:](http://reboot.pro/public/style_emoticons/default/w00t.gif)) before their time.  \n\nWhy in my day.... ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)  \n\u003chttp://reboot.pro/?showtopic\u003d1908\u003e  \n\n\u003cbr /\u003e\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "160060",
      "timestamp": "2012-09-05T22:04:53+00:00",
      "author": "drummerdp",
      "content": "I reported it too, a couple of days ago. The triple posting happend when my browser locked up while I was setting up the post.  \n\nOh well. I\u0027ll report it again.  \n\n- drummerdp   \n"
    },
    {
      "id": "175150",
      "timestamp": "2013-07-28T04:24:59+00:00",
      "author": "Justin Goldberg",
      "content": "How do I back up my mbr before installing grub? I don\u0027t want to boot up and run fdisk /mbr from the windows setup disc.\n\n"
    },
    {
      "id": "175155",
      "timestamp": "2013-07-28T10:34:32+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e How do I back up my mbr before installing grub? I don\u0027t want to boot up and run fdisk /mbr from the windows setup disc.\n\nFirst thing WHICH \"grub\"?\n\nThere is GRUB (now called GRUB legacy) grub4dos, GRUB2 (now called GRUB) and you posted in a thread dedicated to yet another project, grub2win.\n\nMost installers and install methods will make a backup of the MBR on second sector of the disk, but you need to specify exactly WHICH tool are you going to install and HOW are you going to, as not all may do that.\n\nIf the question is more \"general\", and you want a backup copy of the MBR of your device, you can use any form of dd (under linux or Windows) or similar and under windows the dsfok toolkit or, easier, Hdhacker:\n\n[http://dimio.altervi.../eng/index.html](http://dimio.altervista.org/eng/index.html \"External link\")\n\n(but there are several other small tools that can do that).\n\nRemember, if you use HdHacker, that you want to backup first sector of the \\\\\\\\.\\\\PhysicalDrive.\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "175157",
      "timestamp": "2013-07-28T10:53:27+00:00",
      "author": "Tokener",
      "content": "hi drummerdp\n\nThank you for sharing your tool. ![:good:](http://reboot.pro/public/style_emoticons/default/good.gif)\n\nIs it only for OS-launching or can grub2 also boot PE(ISO) files?\n\nRegards T.\n\n"
    },
    {
      "id": "175168",
      "timestamp": "2013-07-29T02:21:00+00:00",
      "author": "drummerdp",
      "content": "----------------------------------------------------------------------  \nHow do I back up my mbr before installing grub? I don\u0027t want to boot up and run fdisk /mbr from the windows setup disc.  \n----------------------------------------------------------------------\n\nHi,  \n\nGrub2Win does not touch the MBR. When you install, you simply create a new directory called C:\\\\grub2. This is a normal NTFS directory on your Windows C: drive. Everything is done from within the C:\\\\grub2 directory.  \n\nThe only thing Grub2Win updates is the Windows BCD for Windows 7, Windows 8 or Vista. If you are running Windows XP or Windows 2000, the boot.ini file is updated.  \n\nSo no, you don\u0027t need to back up your MBR when installing Grub2Win.\n\nHowever, the **Linux** installation process often trashes the Windows MBR so beware.  \n\n- Dave\n\n"
    },
    {
      "id": "175169",
      "timestamp": "2013-07-29T02:32:51+00:00",
      "author": "drummerdp",
      "content": "---------------------------------------------------------------------------------------------------------------------\n\nhi drummerdp\n\nThank you for sharing your tool. ![:good:](http://reboot.pro/public/style_emoticons/default/good.gif)\n\nIs it only for OS-launching or can grub2 also boot PE(ISO) files?\n\nRegards T.\n\n---------------------------------------------------------------------------------------------------------------------\n\nHi,  \n\nI think this will work.  \n\nOnce you have installed Grub2Win, run grub2win.exe. This will create C:\\\\grub2\\\\grub.cfg Now edit the file.  \n\nAdd the following code to the user section.  \n\n\u003cbr /\u003e\n\n# start-grub2win-user-section \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*  \n#  \nmenuentry \"Boot PE ISO\" {  \nloopback pedisk (hd0,1)/iso/pefile.iso \\\u003c\u003d\u003d\u003d\u003d Fill in the disk and partition numbers as well as the path to your PE image file.  \nntldr /bootmgr \\\u003c\u003d\u003d\u003d\u003d Grub2 loads Windows bootmgr from the PE ISO image  \n}  \n#  \n# end-grub2win-user-section \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*  \n\n- Dave\n\n"
    },
    {
      "id": "175174",
      "timestamp": "2013-07-29T09:17:52+00:00",
      "author": "Tokener",
      "content": "hi drummerdp\n\nthank you for your fast reply.\n\ni´m running win_xp(x86)\n\ni added these lines to grub.cfg:\n\u003e # start-grub2win-user-section \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\n\u003e #  \n\u003e menuentry \"Boot PE ISO\" {  \n\u003e loopback pedisk (hd0,1)/WINPE_X86_WIN7E.ISO  \n\u003e ntldr /bootmgr  \n\u003e }  \n\u003e #  \n\u003e # end-grub2win-user-section \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\n\nwhen choosing this item from grub2 menu, grub2 states: \"Unknown file system\"\n\ncommand line result in the attached thumbnail.\n\nthis iso works in grub4dos environment.\n\nthanks in advance for ideas\n\nT.  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![Grub2_failed_130729.jpg](http://reboot.pro/uploads/monthly_07_2013/post-21675-0-74078800-1375088670_thumb.jpg)](http://reboot.pro/uploads/monthly_07_2013/post-21675-0-74078800-1375088670.jpg \"Grub2_failed_130729.jpg - Size: 224.65KB\"){#ipb-attach-url-14457-0-17572000-1676066527}\n\n"
    },
    {
      "id": "175176",
      "timestamp": "2013-07-29T10:18:15+00:00",
      "author": "Wonko the Sane",
      "content": "Hey guys, grub2Win is an \"easy to use\" version of GRUB2 (now called GRUB).\n\nThe loopback directive ONLY makes sense for a Linux distro, and will NOT work for \\*any\\* Windows (or PE) based .iso.\n\nYou can however from the GRUB2 .cfg load grub4dos and from the latter boot the .iso after having mapped it to (0xFF) or (hd32).\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "175185",
      "timestamp": "2013-07-29T17:54:10+00:00",
      "author": "Tokener",
      "content": "Hi Wonko\n\nthanks for this info,\n\nsuccess in loading grub4dos from grub.cfg:\n\u003e # start-grub2win-user-section \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\n\u003e menuentry \"Grub4dos kernel\" {  \n\u003e set root\u003d(hd0,1)  \n\u003e linux16 /grub.exe  \n\u003e }  \n\u003e # end-grub2win-user-section \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\n\ntrying to call grub2 from menu.lst:\n\u003e title Grub2\n\u003e find --set-root /grub2/i386-pc/core.img  \n\u003e kernel /grub2/i386-pc/core.img\n\nfound here:\n\n\"[http://reboot.pro/to...b4dos/?hl\u003dgrub2](http://reboot.pro/topic/16682-load-grub2-from-grub4dos/?hl\u003dgrub2 \"\")\"\n\nbut this doesn´t work. \"Unknown filesystem\"\n\n1. is there a workaround for calling grub2 from grub4dos ?\n\n2. can grub4dos take advantage of the \"extreme large drive support\" of grub2, when it´s called by grub2 ?\n\nregards and thanks in advance\n\nT.\n\n"
    },
    {
      "id": "175204",
      "timestamp": "2013-07-30T00:58:44+00:00",
      "author": "drummerdp",
      "content": "Hey ReTokener,\n\nThis worked for me. Loaded the Windows PE ISO file directly from Grub2Win. Should have all the Grub2 advantages.\n\n# start-grub2win-user-section \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*  \n#  \nmenuentry \u0027Win PE\u0027 {  \nloopback pedisk (hd0,1)/pefile/winpe_amd64.iso \\\u003c**\u003d\u003d\u003d\u003d\u003d Change the partition address and path to point to your PE ISO.**   \nroot\u003d(pedisk)  \nntldr /bootmgr  \n}  \n#  \n# end-grub2win-user-section \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\n\nGood luck and let me know how you make out,\n\n- Dave  \n\n"
    },
    {
      "id": "175216",
      "timestamp": "2013-07-30T08:43:07+00:00",
      "author": "Tokener",
      "content": "dear drummerdp\n\nthanks for your support.\n\nusing your menu-entry did not work for me.\n\u003e Unexpected I/O error 0xc00000e9\n\ntestet in VirtualBox 4.2.16\n\n(PAE/NX ON/OFF)\n\n(VTx/AMD-V ON/OFF)\n\nregards T.  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![Grub2_failed_130730.jpg](http://reboot.pro/uploads/monthly_07_2013/post-21675-0-12322300-1375173666_thumb.jpg)](http://reboot.pro/uploads/monthly_07_2013/post-21675-0-12322300-1375173666.jpg \"Grub2_failed_130730.jpg - Size: 80.1KB\"){#ipb-attach-url-14460-0-17580800-1676066527}\n\n"
    },
    {
      "id": "175218",
      "timestamp": "2013-07-30T09:50:52+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e dear drummerdp\n\u003e\n\u003e thanks for your support.\n\u003e\n\u003e using your menu-entry did not work for me.\n\u003e\n\u003e testet in VirtualBox 4.2.16\n\u003e\n\u003e (PAE/NX ON/OFF)\n\u003e\n\u003e (VTx/AMD-V ON/OFF)\n\u003e\n\u003e regards T.\n\nTry it in another VM, possibly Qemu+Qemu Manager.\n\nVirtualbox has quite a lot of quirks.\n\nThe new .cfg entry drummerdp posted seems like \"reasonable\". :smile:\n\nBut I still doubt it can work:\n\n[http://michael-proko...-iso-via-grub2/](http://michael-prokop.at/blog/2009/05/25/boot-an-iso-via-grub2/ \"External link\")\n\n[http://www.lucas-nus...5#comment-22649](http://www.lucas-nussbaum.net/blog/?p\u003d485#comment-22649 \"External link\")\n\n(unless in the meantime some specific code has been added to GRUB2)\n\nHasn\u0027t GRUB2 a command line interface? \\\u003c- rhetorical question :wink:\n\n[http://members.iinet...m CLI Mode.html](http://members.iinet.net/~herman546/p20/GRUB2%20How%20To%20Boot%20From%20CLI%20Mode.html \"External link\")\n\nIt would be interesting to use command line instead of the pre-made .cfg entry, to see if there is some error in the feedback to the single commands.\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "175222",
      "timestamp": "2013-07-30T12:20:37+00:00",
      "author": "Tokener",
      "content": "Hello Wonko\n\nthanks for suggestions.\n\ntested grub2 command line.\n\nsurprising what it tells:\n\u003e can´t find command \"root\"\n\nhad no time yet to run qemu or VMWare.\n\nT.  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![Grub2_failed_130730_2.jpg](http://reboot.pro/uploads/monthly_07_2013/post-21675-0-00725500-1375186686_thumb.jpg)](http://reboot.pro/uploads/monthly_07_2013/post-21675-0-00725500-1375186686.jpg \"Grub2_failed_130730_2.jpg - Size: 106.25KB\"){#ipb-attach-url-14461-0-17586900-1676066527}\n\n"
    },
    {
      "id": "175223",
      "timestamp": "2013-07-30T12:39:46+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Hello Wonko  \n\u003e thanks for suggestions.  \n\u003e tested grub2 command line.  \n\u003e surprising what it tells:  \n\u003e had no time yet to run qemu or VMWare.  \n\u003e\n\u003e T.\n\nWell, then there is something wrong in the syntax used.\n\n\"root\" is a perfectly legit GRUB and grub4dos command, ***but*** seemingly in GRUB2 has become a sort of \"environment variable\", see (already given link):  \n[http://www.lucas-nus...5#comment-22649](http://www.lucas-nussbaum.net/blog/?p\u003d485#comment-22649 \"External link\")  \ntry:\n\u003e loopback pedisk (hd0,1)/pefile/winpe_amd64.iso  \n\u003e **set** root\u003d(pedisk)  \n\u003e ntldr /bootmgr  \n\u003e *boot*\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko\n\n"
    },
    {
      "id": "175224",
      "timestamp": "2013-07-30T13:49:15+00:00",
      "author": "Tokener",
      "content": "dear wonko\n\nusing command line:\n\u003e loopback pedisk (hd0,1)/pefile/winpe.....\n\u003e set root\u003d(pedisk)  \n\u003e ntldr /bootmgr  \n\u003e boot\n\nresulted in the same \"Unexpected I/O error 0xc00000e9\".\n\nsorry for the inconvenience\n\nT.\n\n[![Grub2_failed_130730_3a.jpg](http://reboot.pro/uploads/monthly_07_2013/post-21675-0-67671800-1375192084_thumb.jpg)](http://reboot.pro/uploads/monthly_07_2013/post-21675-0-67671800-1375192084.jpg \"Grub2_failed_130730_3a.jpg - Size: 98.11KB\"){#ipb-attach-url-14463-0-17599900-1676066527} [![Grub2_failed_130730_3.jpg](http://reboot.pro/uploads/monthly_07_2013/post-21675-0-27000900-1375191832_thumb.jpg)](http://reboot.pro/uploads/monthly_07_2013/post-21675-0-27000900-1375191832.jpg \"Grub2_failed_130730_3.jpg - Size: 79.27KB\"){#ipb-attach-url-14462-0-17592100-1676066527}\n\n"
    },
    {
      "id": "175226",
      "timestamp": "2013-07-30T14:19:06+00:00",
      "author": "Wonko the Sane",
      "content": "Good, now the sintax is correct, at least.\n\nIt still seems like (as expected) the loopback device established by GRUB2 is not \"seen\" by the booting PE (this would be consistent with the references I provided) but still it is possible that the needed code has actually be added to GRUB2 and the issue is with Virtualbox.\n\nI have no reason (apart the logical impossibility if the code has not been added to GRUB2 :wink:) to doubt about **drummerdp**\u0027s report, and it is also possible that (set apart the issue with the \"set root\" instead of root) what he reported as working is either a \"particular build\" or the test was made to \"peculiar\" hardware (real or virtual).\n\nWe need to do the tests on \"alternate\" VM\u0027s or wait for further details from **drummerdp**on what exactly worked for him and where.\n\nIf I recall correctly ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png) burg (a \"bettered\" version of GRUB2) includes the code needed to do .iso mapping \"visible\" to Windows:\n\n[http://code.google.com/p/burg/](http://code.google.com/p/burg/ \"External link\")\n\nSee:\n\n[http://reboot.pro/to...opback-support/](http://reboot.pro/topic/13571-grub4dos-and-loopback-support/ \"\")\n\nbut I am not familiar with it and cannot say how exactly it should be used.\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    }
  ]
}