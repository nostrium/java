{
  "id": "21565",
  "title": "Is it possible to run MS-DOS from Windows Boot Manager (bootmgr)?",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "204124",
      "timestamp": "2017-07-15T23:40:39+00:00",
      "author": "Kaos-Industries",
      "content": "Hi there,\n\nI successfully created a multibootable USB using [WinSetupFromUSB](http://www.winsetupfromusb.com/ \"External link\"), allowing me to boot into an ISO for MS-DOS 6.22 and installer ISOs for Windows 7 32- and 64-Bit from a single bootable USB. However, while the Windows 7 ISOs are both accessible from the Windows Boot Manager (bootmgr), MS-DOS requires grub4dos to be loaded.\n\nThis means that my bootable USB is split into two separate boot menus; the grub4dos menu, which is initially booted into and contains the menu entry for booting into DOS 6.22, as well as another two (first and second half of Windows 7 installers) for booting into bootmgr, from where both the Windows 7 entries can be found.\n\n**I don\u0027t like this way of doing things, and I\u0027d really like to unify all four entries into one single menu under Windows Boot Manager. Is this at all possible?**\n\nThanks in advance, I really appreciate any help I can get. I also have a related thread on getting DOS 6.22 to work with a bootable USB over here, and would appreciate expertise on that too:\n\n[http://reboot.pro/to...ccess-to-files/](http://reboot.pro/topic/21564-how-to-give-bootable-ms-dos-622-access-to-files/ \"\")\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "204128",
      "timestamp": "2017-07-16T09:47:38+00:00",
      "author": "Wonko the Sane",
      "content": "Yes you can, but you shouldn\u0027t (see the reason on the reply I gave you on the other thread).\n\nHowever BOOTMGR parses automatically BOOT.INI discarding each and every ARCPATH but adding on-the-fly to the BCD options one to boot any line in BOOT.INI pointing to a boorsector.\n\nYou can have a BOOT.INI with an entry pointing to grldr (that can behave as a bootsector) and thus load grub4dos from BOOTMGR.\n\nThen you can remove the menu.lst and change the embedded menu in grldr to only do the \\*whatever\\* you want it to do to load DOS.\n\nStill, if you run DOS for your software a .ISO (which is read only) is not suitable.\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "204141",
      "timestamp": "2017-07-16T19:33:54+00:00",
      "author": "Kaos-Industries",
      "content": "\u003e Yes you can, but you shouldn\u0027t (see the reason on the reply I gave you on the other thread).\n\u003e\n\u003e However BOOTMGR parses automatically BOOT.INI discarding each and every ARCPATH but adding on-the-fly to the BCD options one to boot any line in BOOT.INI pointing to a boorsector.\n\u003e\n\u003e You can have a BOOT.INI with an entry pointing to grldr (that can behave as a bootsector) and thus load grub4dos from BOOTMGR.\n\u003e\n\u003e Then you can remove the menu.lst and change the embedded menu in grldr to only do the \\*whatever\\* you want it to do to load DOS.\n\u003e\n\u003e Still, if you run DOS for your software a .ISO (which is read only) is not suitable.\n\u003e\n\u003e ![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\u003e\n\u003e Wonko\n\nThe multibooting isn\u0027t really a problem, and unlike with the specification of a certain version of DOS, there\u0027s nothing to suggest the software won\u0027t work with multibooting, so I consider it relatively safe.\n\nRegardless, I\u0027m now considering using FreeDOS. Would FreeDOS be easier or harder than DOS 6.22 to run from Windows Boot Manager? Also, is FreeDOS also read-only?\n\n**Edited by Kaos-Industries, 16 July 2017 - 08:21 PM.**\n"
    },
    {
      "id": "204143",
      "timestamp": "2017-07-16T20:41:08+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Regardless, I\u0027m now considering using FreeDOS. Would FreeDOS be easier or harder than DOS 6.22 to run from Windows Boot Manager? Also, is FreeDOS also read-only?\n\nIt will be **exactly** at the same level of difficulty.\n\nIt\u0027s not MS-DOS (or FreeDOS) that are read only, you manifested the intention of booting a .iso.\n\nA .iso (by definition) is read only as it is an image of a CD (or DVD) ROM i.e. a read only media (more correctly a WORM, Write Once Read Many media in the case of a \"burned\" CD/DVD).\n\nI explained (hopefully) how this is not usually appropriate in the reply to your other thread, here:\n\n[http://reboot.pro/to...files/?p\u003d204127](http://reboot.pro/topic/21564-how-to-give-bootable-ms-dos-622-access-to-files/?p\u003d204127 \"\")\n\nThe idea is that the simpler the setup/build/whatever is the less are the probabilities that \\*something\\* will get in the way of the software managing the \"very expensive hardware\" you talked about.\n\nBut of course you can add each and every possible (and impossible) level of (unneeded) complication, actually most of the time that is the most fun part :smile:.\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "204146",
      "timestamp": "2017-07-16T23:51:32+00:00",
      "author": "Kaos-Industries",
      "content": "\u003e It will be **exactly** at the same level of difficulty.\n\u003e\n\u003e It\u0027s not MS-DOS (or FreeDOS) that are read only, you manifested the intention of booting a .iso.\n\u003e\n\u003e A .iso (by definition) is read only as it is an image of a CD (or DVD) ROM i.e. a read only media (more correctly a WORM, Write Once Read Many media in the case of a \"burned\" CD/DVD).\n\u003e\n\u003e I explained (hopefully) how this is not usually appropriate in the reply to your other thread, here:\n\u003e\n\u003e [http://reboot.pro/to...files/?p\u003d204127](http://reboot.pro/topic/21564-how-to-give-bootable-ms-dos-622-access-to-files/?p\u003d204127 \"\")\n\u003e\n\u003e The idea is that the simpler the setup/build/whatever is the less are the probabilities that \\*something\\* will get in the way of the software managing the \"very expensive hardware\" you talked about.\n\u003e\n\u003e But of course you can add each and every possible (and impossible) level of (unneeded) complication, actually most of the time that is the most fun part :smile:.\n\u003e\n\u003e ![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\u003e\n\u003e Wonko\n\nI see.\n\nTrue, it is the fun part. My insistence on using DOS in this case is mainly because I don\u0027t want to break anything, but a lot of it is just plain curiosity - I\u0027d like to run as close to a real DOS system rather than FreeDOS, just cause I prefer how it looks and operates, and am only willing to abandon that dream if DOS is looking like it\u0027ll be impossible to run with these programs.\n\nI suppose I\u0027ll leave this particular thread until I\u0027m positive on the specifics of which OS I\u0027ll be going with, which will be decided by the other thread. Either way, I think I\u0027d like to learn about the specifics of what you\u0027re describing here and whether it\u0027s too much work or not - it does sound intriguing. Would you mind going more into depth on how exactly it\u0027s done, or would that also be dependent on the OS I\u0027m using?\n\n"
    },
    {
      "id": "204152",
      "timestamp": "2017-07-17T08:13:14+00:00",
      "author": "Wonko the Sane",
      "content": "Esssentially \\*all\\* DOS versions (both MS-DOS and FreeDos AND a number of other DOSes) behave (more or less) the same.\n\nSo there is not any particular \"added difficulty\" in using the one or the other, only some (small and anyway known) diffferences in the specific way they need to be installed/deployed/booted.\n\nThe whole point is that the older the version of DOS is, the more limitations it will have, be them filesystem or device size, memory used or accessible, incompatibility with this or that specific program, etc.\n\nI will give you a small example for MS-DOS up to 6.22.\n\nIO.SYS needs to be the first entry in the FAT table.\n\nThis limitation has been removed in MS-DOS 7.00 (and it never existed in FreeDos that uses kernel.sys as OS kernel).\n\nThis is not normally a problem (the IO.SYS is placed correctly when you install via the SYS command, and anyway there is BootPart that can re-write it in the right position if needed) and can be worked around AFAICR by bypassing the bootsector code (let\u0027s say via grub4dos).\n\nBUT - for all we know - your specific software may well be checking for the presence of IO.SYS exactly where it should be (at the time it was a \"standard\") and throw a fit if it isn\u0027t there, or it may not, (no way to know without experimenting).\n\nMind you it is very improbable that this check is made, but if your software does not work when you do not put the IO.SYS where it should be AND you use (still say) grub4dos for the booting AND you use it chainloaded via BOOTMGR, AND you boot via USB AND you have it inside a (read only) .ISO image AND you \\\u003cinsert here \\*something else\\*\\\u003e it would be more complicated to find out which of the listed changes is affecting the software functions.\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    }
  ]
}