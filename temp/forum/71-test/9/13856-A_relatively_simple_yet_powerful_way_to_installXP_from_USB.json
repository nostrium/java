{
  "id": "13856",
  "title": "A (relatively) simple yet powerful way to installXP from USB",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "122385",
      "timestamp": "2011-02-15T08:41:21+00:00",
      "author": "Doodoo",
      "content": "Hi everyone,  \n\nI\u0027ve been experimenting a bit with various ways to install XP from USB, and I\u0027ve found a way which ticks all the boxes (at least for me, maybe not for you).  \nI thought I would share it with you, and hopefully it might work for you as well.... Note that I really haven\u0027t invented anything... I have merely compiled all the information I was able to find in a number of places (mostly [here](http://reboot.pro/4900/ \"\") and [there](http://www.msfn.org/board/topic/149675-install-xp-from-a-iso-file \"External link\") and also [there](http://diddy.boot-land.net/firadisk/files/win_iso_install.htm \"External link\")), and combined it all together. All the credit should go to the clever guys who have developped great tools in the first place !  \n\nThe main idea is to install XP from an ISO located on a USB drive, but without loading it into RAM.  \nSo here is how it goes.  \n\n**1. Get ready:**   \n- Create a destination folder on your USB stick, say U:\\\\WinSetup  \n- Create a (temp) destination folder on your HDD, to store the updated Windows setup, say C:\\\\IntegratedXP  \n- Put your original XP setup CD in your drive, say D:\\\\  \n- Download DP_Base.exe from [http://driverpacks.net/downloads](http://driverpacks.net/downloads \"External link\") , together with the DriverPacks you\u0027re interested in (MassStorage at the very least)  \n- Download [RyanVM Integrator](http://integrator.siginetsoftware.com/index.php?download \"External link\"), together with Ryan update packs (hot fixes), e.g. from [here](http://www.ryanvm.net/msfn/ \"External link\") or [there](http://integrator.siginetsoftware.com/index.php?pg\u003daddons\u0026ct\u003d41#addon_41 \"External link\"), or even this great [All-In-One update pack](http://www.msfn.org/board/topic/135066-onepiece-xp-post-sp3-aio-update-pack-v440/ \"External link\")  \n\n**2. Run DP_Base.exe and prepare for the hotfixes and DriverPacks integration in XP setup**   \n- select settings / location / browse - Point to your XP setup, D:\\\\  \n- select driver packs to integrate, enable MassStorage text mode  \n- leave default settings, installation platform \u003d disc, method 2 + GuiRunOnce, KTD disabled  \n- got to \"overview\" and select \"export settings\" to mysettings.ini  \n- open mysettings.ini, and replace the line   \n\n```\nlocation\t\u003d \"D:\\\"\n\n```\n\nwith  \n\n```\nlocation\t\u003d \"C:\\IntegratedXP\"\n\n```\n\nNote that this is just a trick because C:\\\\IntegratedXP is empty at this stage, and DP_Base won\u0027t let you configure anything with an invalid source.  \n\n**3. Run RyanVM Integrator:**   \n- select D:\\\\ (your original XP CD) as source - Alternatively you can select a folder on your HDD with copied CD contents if you want to use an answer file (WINNT.SIF) which should be present in /i386 (it must be present BEFORE integration of hot fixes and driverpacks, as it will be altered)  \n- select C:\\\\IntegratedXP as destination  \n- select your update pack and addon pack  \n- go to advanced tab, enable advanced options. Select run a program after integration \u003d full path to DPs_BASE.exe and enter parameters \u003d /SETTINGS:\"full path path to mysettings.ini\" (with quotes), and enable \"leave integrator open\"  \n- return to the main tab, press integrate !!  \n\n**4. Go to the destination folder C:\\\\IntegratedXP**   \n- Move the OEM folder and \\\\i386\\\\WINNT.SIF into U:\\\\WinSetup (WINNT.SIF and OEM both at the same level; no i386 directory)  \n- Patch the file \\\\i386\\\\presetup.cmd created by DriverPack integration \\[see details below\\]. This patch is needed to solve problems with internal card readers and also will look for the DriverPacks in WinSetup\\\\OEM  \n- Possibly slim down the XP setup with nLite. For a clean install you can safely remove the LANG folder and all the WIN9X\\* folders  \n\n**5. Return to RyanVM**   \n- Go to the tab \"make ISO\"  \n- Select \"C:\\\\IntegratedXP\" as source  \n- Choose an ISO file name, say C:\\\\XP_SP3.ISO  \n- Make !  \n\n**6. Copy all necessary files to your USB stick**   \n- Copy C:\\\\XP_SP3.ISO in U:\\\\WinSetup  \n- Create a floopy image (look [here](http://diddy.boot-land.net/firadisk/files/win_iso_install.htm \"External link\") for help) called WinVBlock.ima, containing the following files from the [WinVBlock driver](http://reboot.pro/8168/ \"\"): txtsetup.oem, WinVBlk.INF, WVBlk32.sys  \n- Add a dummy WINNT.SIF to the virtual floppy, comprised of 65,536 spaces.  \n- Copy WinVBlock.ima in U:\\\\WinSetup  \n- Add menu entries for GRUB4DOS \\[see details below\\]  \n- You should end-up with the following structure on your stick:  \n![Posted Image](http://i77.servimg.com/u/f77/11/37/81/37/winset10.png)  \n\n**7. Enjoy install from USB !!**   \n- The Driver packs can be easily updated on your USB stick as new versions are released, no need to touch the ISO (except to update text mode MassStorage drivers)  \n- Multiple answer files can be used, just copy all answer files in U:\\\\WinSetup and create new entries in menu.lst accordingly !  \n- The XP setup ISO is not loaded into RAM which is great on older machines with little RAM or USB 1.1 at boot time !  \n- Install to disk image is also possible (thanks Sara and Wimb for the idea !!!)  \n\n**A few details here:**   \n\n- To patch the presetup.cmd created by DP_Base: replace the two lines  \n\n```\nFOR %%i IN (C D E F G H I J K L M N O P Q R S T U V W X Y) DO IF EXIST \"%%i:%TAGFILE%\" SET CDDRIVE\u003d%%i:\u0026 GOTO DPsFound\n\n:DPsFound\n```\n\nwith  \n\n```\nfor /f \"tokens\u003d1 delims\u003d: \" %%? in (\u0026#39;mountvol.exe ^|find \":\\\"\u0026#39;) do (dir %%?:%tagfile% \u003enul 2\u003e\u00261 \u0026\u0026 set CDDRIVE\u003d%%?:wheelchair:\n\nif not defined CDDRIVE (goto EOF)\n\n```\n\nNote that this correction has been suggested [here](http://www.msfn.org/board/topic/137714-install-xp-from-a-ram-loaded-iso-image/page__view__findpost__p__895361 \"External link\"), although variants are possible.  \nAt last, replace all occurences of \"\\\\OEM\" with \"\\\\WINSETUP\\\\OEM\" (another [great little idea](http://www.msfn.org/board/topic/137714-install-xp-from-a-ram-loaded-iso-image/page__st__180__p__925862\u0026#entry925862 \"External link\") which isn\u0027t mine !)  \n\n- The following menu.lst can be used to install XP. **Boot twice from USB, leaving your stick connected !:**   \n\n```\ntitle Start XP Setup - WinVBlock driver \n\n\n\n# Create the virtual floppy which contains WinVBlock drivers\n\nfind --set-root /WinSetup/WinVBlock.IMA\n\nmap --mem /WinSetup/WinVBlock.IMA (fd1)\n\nmap --mem /WinSetup/WinVBlock.IMA (fd0)\n\n\n\n# Direct mapping of the XP setup ISO (not loaded in RAM)\n\nmap /WinSetup/XP_SP3.iso (0xff)\n\n\n\n# # Optional\n\n# # Map the IMG as a filedisk\n\n# find --set-root /XP-1.IMG\n\n# map /XP-1.img (hd0)\n\n# # Dummy WinVBlock parameter disk (0x55)\n\n# map --rd-size\u003d2048\n\n# map --mem (rd)+4 (0x55)\n\n# map --hook\n\n# # Tell WinVBlock the filename for (hd0)\n\n# write (0x55) #!GRUB4DOS\\x00v\u003d1\\x00XP-1.img\\x00\\x80\\x00\n\n\n\nchainloader (0xff)\n\n\n\n\n\ntitle Continue XP Setup - WinVBlock driver \n\n\n\n# Create the virtual floppy which contains WinVBlock drivers\n\nfind --set-root /WinSetup/WinVBlock.IMA\n\nmap --mem /WinSetup/WinVBlock.IMA (fd1)\n\nmap --mem /WinSetup/WinVBlock.IMA (fd0)\n\n\n\n# Replace the dummy answer file in the virtual floppy with a genuine one\n\nmap --hook\n\ndd if\u003d()/WinSetup/WINNT.SIF of\u003d(fd0)/WINNT.SIF\n\ndd if\u003d()/WinSetup/WINNT.SIF of\u003d(fd1)/WINNT.SIF\n\n\n\n# Direct mapping of the XP setup ISO (not loaded in RAM)\n\nmap /WinSetup/XP_SP3.iso (0xff)\n\n\n\n# # Optional\n\n# # Map the IMG as a filedisk\n\n# find --set-root /XP-1.IMG\n\n# map /XP-1.img (hd0)\n\n# # Dummy WinVBlock parameter disk (0x55)\n\n# map --rd-size\u003d2048\n\n# map --mem (rd)+4 (0x55)\n\n# map --hook\n\n# # Tell WinVBlock the filename for (hd0)\n\n# write (0x55) #!GRUB4DOS\\x00v\u003d1\\x00XP-1.img\\x00\\x80\\x00\n\n\n\nroot (hd0,0)\n\nchainloader /ntldr\n\n```\n\n\u003cbr /\u003e\n\nJust uncomment the blocks of code if you want to install to XP-1.img instead of a physical disk !!  \nAt last, note that there might be a few flaws in this method, that I haven\u0027t seen. Feel free to tear this appart and let me know of potential problems !   \n"
    },
    {
      "id": "122392",
      "timestamp": "2011-02-15T09:32:30+00:00",
      "author": "Wonko the Sane",
      "content": "Nice. :smile:   \n\n\u003e - Add a dummy WINNT.SIF to the virtual floppy, comprised of 65,536 spaces.  \n![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)  \nAre you proposing to open NOTEPAD and press the SPACE bar 65,536 times or WHAT? ![:(](http://reboot.pro/public/style_emoticons/default/sad.png)  \n\n![:(](http://reboot.pro/public/style_emoticons/default/sad.png)  \nWonko   \n"
    },
    {
      "id": "122394",
      "timestamp": "2011-02-15T09:43:43+00:00",
      "author": "Doodoo",
      "content": "\u003e Are you proposing to open NOTEPAD and press the SPACE bar 65,536 times or WHAT? :smile:  \n\u003e\nJust like 100% of this stuff, this is not my idea, but [someone else\u0027s](http://www.msfn.org/board/topic/137714-install-xp-from-a-ram-loaded-iso-image/page__view__findpost__p__889666 \"External link\"). Maybe this can be simplified / improved (I have to admit I don\u0027t know how)  \nBecause I\u0027m an emacs sort of guy anyway, I don\u0027t open notepad, but play a macro 65,536 times in emacs and that takes me about 2 seconds ![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif).   \n"
    },
    {
      "id": "122395",
      "timestamp": "2011-02-15T10:05:53+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Just like 100% of this stuff, this is not my idea, but [someone else\u0027s](http://www.msfn.org/board/topic/137714-install-xp-from-a-ram-loaded-iso-image/page__view__findpost__p__889666 \"External link\"). Maybe this can be simplified / improved (I have to admit I don\u0027t know how)  \n\u003e Because I\u0027m an emacs sort of guy anyway, I don\u0027t open notepad, but play a macro 65,536 times in emacs and that takes me about 2 seconds ![:(](http://reboot.pro/public/style_emoticons/default/sad.png).  \nYou mean like MK65536.CMD:  \n\n```\n@ECHO OFF\n\nECHO  Doodoo\u003eWINNT.SIF\n\nFSZ WINNT.SIF 1\n\nFOR /L %%A IN (1,1,16) DO TYPE WINNT.SIF \u003e\u003e WINNT.SIF\n```\n\n\u003cbr /\u003e\n\n![:(](http://reboot.pro/public/style_emoticons/default/sad.png)  \nThis \"debug\" version:  \n\n```\n@ECHO OFF\n\nECHO %TIME%\n\nECHO  Doodoo\u003eWINNT.SIF\n\nFSZ WINNT.SIF 1 \u003enul\n\nFOR /L %%A IN (1,1,16) DO type WINNT.SIF \u003e\u003e WINNT.SIF\n\nECHO %TIME%\n```\n\nshould take about 5/100th of a second.....![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)  \n\n:smile:   \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122396",
      "timestamp": "2011-02-15T10:25:57+00:00",
      "author": "Doodoo",
      "content": "\u003e You mean like MK65536.CMD:\nAt some point I thought I would make my own WinVBlock.IMA available for download... But [these instructions](http://diddy.boot-land.net/firadisk/files/win_iso_install.htm \"External link\") together with your magic script are pretty fool-proof I believe. Or am I just being lazy ? ![:(](http://reboot.pro/public/style_emoticons/default/sad.png)  \n\n\u003e should take about 5/100th of a second.....![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)  \nAh well I can\u0027t compete with you.... Anything you provide is always concise, efficient, accurate... I\u0027m truly impressed and I wish I had 1% of your skills !  \nBut if you take the time it takes to type your script into account (say 20 seconds), my method is still faster for the first 10 runs ;-)  \nAnd presumably you really need to do this only once :smile:   \n"
    },
    {
      "id": "122397",
      "timestamp": "2011-02-15T10:40:16+00:00",
      "author": "karyonix",
      "content": "I would open HxD shortcut on my Taskbar, click File, New, Edit, Insert byte..., dec, byte count box, type 65536, click Hex-values box, type 20, click OK, OK.   \n"
    },
    {
      "id": "122399",
      "timestamp": "2011-02-15T10:54:37+00:00",
      "author": "pscEx",
      "content": "\u003e I would open HxD shortcut on my Taskbar, click File, New, Edit, Insert byte..., dec, byte count box, type 65536, click Hex-values box, type 20, click OK, OK.  \n:smile: ![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)   \n\nPeter   \n"
    },
    {
      "id": "122400",
      "timestamp": "2011-02-15T12:06:38+00:00",
      "author": "Wonko the Sane",
      "content": "I would open tinyhexer from the shortcut in my Start menu.  \nTools-\\\u003eScripts-\\\u003eFill file with calculated data  \n(actually \\[ALT\\] T, S, F)  \n\\[ENTER\\]-\\\u003e\\[ENTER\\]-\\\u003e65536 \\[ENTER\\]-\\\u003e32 \\[ENTER\\]-\\\u003e 0 \\[ENTER\\]  \n\n![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)   \n\n:smile:  \nWonko   \n"
    },
    {
      "id": "122401",
      "timestamp": "2011-02-15T12:35:08+00:00",
      "author": "pscEx",
      "content": "I would open XVI32 from the shortcut in my Start menu.  \n\n- FILE \\\u003e New  \n- EDIT \\\u003e Insert String  \n- check \"Hex - String\", define value as 20  \n- define \\\u003cn\\\u003e times as 65536  \n- Click \"OK\"  \n- FILE \\\u003e Save as ...  \n\nAnybody else with tutorials about existing hex editors?  \nCould become an interesting collection ...  \n\nSeriously: Wonko\u0027s batch suggestion works on EVERY (Windows) PC, independent from installed hex editors. ![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)   \nBut I find the hex editor suggestion \"easier and therefore better\" because usually every developer has a hex editor installed. :smile:   \n\nPeter ![:(](http://reboot.pro/public/style_emoticons/default/sad.png)   \n"
    },
    {
      "id": "122403",
      "timestamp": "2011-02-15T12:57:24+00:00",
      "author": "Doodoo",
      "content": "\u003e Because usually every developer has a hex editor installed. :smile:   \nYou mean emacs I suppose ![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)  \nJust do **M-x hexl-mode**   \n"
    },
    {
      "id": "122405",
      "timestamp": "2011-02-15T13:12:47+00:00",
      "author": "pscEx",
      "content": "\u003e You mean emacs I suppose ![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)  \n\u003e Just do **M-x hexl-mode**  \n![:(](http://reboot.pro/public/style_emoticons/default/sad.png)  \n\nBack to topic: I hope next days I\u0027ll find some time to test.  \nYour tutorial sounds rather good! :smile:   \n\nPeter   \n"
    },
    {
      "id": "122408",
      "timestamp": "2011-02-15T14:09:13+00:00",
      "author": "wimb",
      "content": "I tried the similar original method of **cdob** using xp3_11_1.iso file located on USB-stick  \n[http://www.msfn.org/...rom-a-iso-file/](http://www.msfn.org/board/topic/149675-install-xp-from-a-iso-file/ \"External link\")  \n\n\u003e In GUI-mode of XP Setup there was an unexpected STOP at T-13  \n\u003e The message is Access denied for Windows\\\\system32\\\\grpconv.exe  \n\u003e Setup can continue and at T-9 the video driver is installed by DriverForge  \n\u003e On booting Windows XP then it freezes just before Desktop ....  \n\nWith the same iso file located on local harddisk and using the WinVBlock Install method in XP-1.img Image file,  \nas initiated by IMG_XP_Create.exe using button **NEW** , then I did NOT have this problem.  \n[http://reboot.pro/13...808#entry121808](http://reboot.pro/13731/page__st__135__p__121808#entry121808 \"\")  \n\nAlternatively you can boot with 7 PE from USB and mount your xp3_11_1.iso ISO file in ImDisk and use WinNTSetup2_x86.exe  \nto prepare Target partition for Install of XP - Again no problem for Install of XP  \n[http://www.msfn.org/...-winntsetup-v2/](http://www.msfn.org/board/topic/149612-winntsetup-v2/ \"External link\")  \n\nSo it might be that your proposed WinVBlock method of Install of XP from USB can have some unexpected problems ....![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)   \n\nDoes anyone know what is causing the STOP Error at T-13 - Access denied for grpconv.exe   \n\n:smile:   \n"
    },
    {
      "id": "122411",
      "timestamp": "2011-02-15T16:43:22+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Seriously: Wonko\u0027s batch suggestion works on EVERY (Windows) PC, independent from installed hex editors. ![:thumbup:](http://reboot.pro/public/style_emoticons/default/thumbup.gif)   \n***IF*** you have **fsz.exe** (part of the DSFOK toolkit) in the same directory or in %PATH% ... ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \nA suitable batch working on 32 bit windows ONLY (NOT x64) is slightly more complex:  \n\n```\n@ECHO OFF\n\nif not exist echoo.com (\n\necho Bj@jzh`0X-`/PPPPPPa(DE(DM(DO(Dh(Ls(Lu(LX(LeZRR]EEEUYRX2Dx\u003d\n\necho 0DxFP,0Xx.t0P,\u003dXtGsB4o@$?PIyU WwX0GwUY Wv;ovBX2Gv0ExGIuht6\n\necho ?@xAyJHmH@\u003da?}VjuN?_LEkS?`w`s_{OCIvJDGEHtc{OCIKGMgELCI?GGg\n\necho EL?s?WL`LRBcx\u003dk_K?AxVD?fCo?Cd?BLDs0\n\n)\u003e\u003eechoo.com \n\nechoo.com $20\u003eWINNT.SIF\n\nFOR /L %%A IN (1,1,16) DO type WINNT.SIF \u003e\u003e WINNT.SIF\n\nDEL echoo.com\n```\n\n\u003cbr /\u003e\n\n@wimb  \nAs **cdob** hinted there this may be caused by some conflict with your ~~presumably~~ *surely* modified source.  \nOr it could be some hardware conflict.  \nNo way to understand until you try a vanilla XP (with SP2 or SP3 ONLY) on that same hardware and report. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nOT (but not much :wink:), and JFYI, this may come useful on any of the things you are after:  \n[http://www.911cd.net...pic\u003d22473\\\u0026st\u003d65](http://www.911cd.net/forums//index.php?showtopic\u003d22473\u0026st\u003d65 \"External link\")  \n\n\u003cbr /\u003e\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122414",
      "timestamp": "2011-02-15T17:26:27+00:00",
      "author": "Doodoo",
      "content": "\u003e Alternatively you can boot with 7 PE from USB and mount your xp3_11_1.iso ISO file in ImDisk and use WinNTSetup2_x86.exe  \n\u003e to prepare Target partition for Install of XP - Again no problem for Install of XP  \n\u003e [http://www.msfn.org/...-winntsetup-v2/](http://www.msfn.org/board/topic/149612-winntsetup-v2/ \"External link\")  \nThis link looks like a very interesting tool indeed !   \nThe only problem is, some of us (e.g. me and myself) may still lag a bit behind and may still not be using Win7. If direct install from USB doesn\u0027t work in some cases (it works for me, but it doesn\u0027t prove anything, other than it\u0027s possible), then the solution might be to copy the ISO on HDD, then boot from USB and install as usual. Only the DriverPacks and the WINNT.SIF reside on USB, the actual ISO being on HDD.  \nBut somehow you still have to mess a bit, create and format a partition on HDD, and copy the ISO....![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "122416",
      "timestamp": "2011-02-15T17:45:43+00:00",
      "author": "Doodoo",
      "content": "\u003e A suitable batch working on 32 bit windows ONLY (NOT x64) is slightly more complex:  \n\u003e\n\u003e ```\n\u003e @ECHO OFF\n\u003e\n\u003e if not exist echoo.com (\n\u003e\n\u003e echo Bj@jzh`0X-`/PPPPPPa(DE(DM(DO(Dh(Ls(Lu(LX(LeZRR]EEEUYRX2Dx\u003d\n\u003e\n\u003e echo 0DxFP,0Xx.t0P,\u003dXtGsB4o@$?PIyU WwX0GwUY Wv;ovBX2Gv0ExGIuht6\n\u003e\n\u003e echo ?@xAyJHmH@\u003da?}VjuN?_LEkS?`w`s_{OCIvJDGEHtc{OCIKGMgELCI?GGg\n\u003e\n\u003e echo EL?s?WL`LRBcx\u003dk_K?AxVD?fCo?Cd?BLDs0\n\u003e\n\u003e )\u003e\u003eechoo.com \n\u003e\n\u003e echoo.com $20\u003eWINNT.SIF\n\u003e\n\u003e FOR /L %%A IN (1,1,16) DO type WINNT.SIF \u003e\u003e WINNT.SIF\n\u003e\n\u003e DEL echoo.com\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nDo you mind me calling it \"Dietmar\u0027s way\" ?   \n"
    },
    {
      "id": "122417",
      "timestamp": "2011-02-15T17:47:29+00:00",
      "author": "wimb",
      "content": "\u003e This link looks like a very interesting tool indeed !   \n\u003e The only problem is, some of us (e.g. me and myself) may still lag a bit behind and may still not be using Win7.   \nIt can be any PE e.g. LiveXP or BartPE, or you can boot from USB with our new full XP Image file.  \n\n**@jaclaz** Yes, I have to try this with a clean XP SP3 source and I will let you know the result ....  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "122418",
      "timestamp": "2011-02-15T18:06:50+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Do you mind me calling it \"Dietmar\u0027s way\" ?  \nWHY *Dietmar\u0027s* ? ![:thumbup:](http://reboot.pro/public/style_emoticons/default/thumbup.gif)  \n\nI mean you may also call it *Winnie the Pooh\u0027s* way :wink:, but it should have some reference to something actually connected to it. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nThe original Author of the echoo.com is Herbert Kleebauer  \n\u003chttp://reboot.pro/2681/page__st__27\u003e  \n\nAnd it was brought on ~~boot-land~~ reboot-pro by your friendly neighbour \"The Finder\" ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) .  \n\nSo, \"Herbert\u0027s way\", \"The Finder\u0027s way\" both sound better.  \n\nThe actual basic idea of using the powers of 2 comes from an indian traditional legend:  \n[http://en.wikipedia....a_Paal_Paayasam](http://en.wikipedia.org/wiki/Ambalappuzha#Legend_of_the_Ambalappuzha_Paal_Paayasam \"External link\")  \nso also \"Khrisna\u0027s way\" or \"Ambalappuzha Paal Paayasam\u0027s way\" would be nice.  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122421",
      "timestamp": "2011-02-15T18:29:02+00:00",
      "author": "pscEx",
      "content": "\u003e \u003cbr /\u003e\n\u003e\n\u003e ```\n\u003e @ECHO OFF\n\u003e\n\u003e if not exist echoo.com (\n\u003e\n\u003e echo Bj@jzh`0X-`/PPPPPPa(DE(DM(DO(Dh(Ls(Lu(LX(LeZRR]EEEUYRX2Dx\u003d\n\u003e\n\u003e echo 0DxFP,0Xx.t0P,\u003dXtGsB4o@$?PIyU WwX0GwUY Wv;ovBX2Gv0ExGIuht6\n\u003e\n\u003e echo ?@xAyJHmH@\u003da?}VjuN?_LEkS?`w`s_{OCIvJDGEHtc{OCIKGMgELCI?GGg\n\u003e\n\u003e echo EL?s?WL`LRBcx\u003dk_K?AxVD?fCo?Cd?BLDs0\n\u003e\n\u003e )\u003e\u003eechoo.com \n\u003e\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nGreat, how to write a working good old DOS com with good old DOS batch commands! :wink:   \n\nBTW: IMHO (as poor batch writer) **\\\u003e\\\u003eecho.com** can be replaced by **\\\u003eecho.com** . If **\"if not exist echoo.com\"** , an append is equivalent to a create. ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n\nPeter ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "122424",
      "timestamp": "2011-02-15T18:39:34+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e BTW: IMHO (as poor batch writer) **\\\u003e\\\u003eecho.com** can be replaced by **\\\u003eecho.com** . If the traget file does not exist, an append is equivalent to a create.  \n~~Why don\u0027t you try it? ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\nOnce you will find out that it **WON\u0027T** work :wink: ,~~ you may want to know ***WHY*** it actually works ~~(with the append sign \\\u003e\\\u003e)~~ ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) (and no it is a non-standard use of brackets - that you cannot find on your average BATCH manual), documented for the fiirst time by Chris Greenbank AFAIK  \n[http://www.robvander...levertricks.php](http://www.robvanderwoude.com/clevertricks.php \"External link\")  \n(search for \"Greenbank\" on the above page)  \n\n![:thumbup:](http://reboot.pro/public/style_emoticons/default/thumbup.gif)  \nWonko   \n"
    },
    {
      "id": "122426",
      "timestamp": "2011-02-15T19:17:47+00:00",
      "author": "pscEx",
      "content": "\u003e Why don\u0027t you try it? ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\u003e\n\u003e Once you will find out that it **WON\u0027T** work :wink: , ...  \nI tried with ***test.bat*** , containing  \n\n```\nif not exist echoo.com (\n\necho Bj@jzh`0X-`/PPPPPPa(DE(DM(DO(Dh(Ls(Lu(LX(LeZRR]EEEUYRX2Dx\u003d\n\necho 0DxFP,0Xx.t0P,\u003dXtGsB4o@$?PIyU WwX0GwUY Wv;ovBX2Gv0ExGIuht6\n\necho ?@xAyJHmH@\u003da?}VjuN?_LEkS?`w`s_{OCIvJDGEHtc{OCIKGMgELCI?GGg\n\necho EL?s?WL`LRBcx\u003dk_K?AxVD?fCo?Cd?BLDs0\n\n)\u003e\u003eechoo.com \n\nif not exist echoo2.com (\n\necho Bj@jzh`0X-`/PPPPPPa(DE(DM(DO(Dh(Ls(Lu(LX(LeZRR]EEEUYRX2Dx\u003d\n\necho 0DxFP,0Xx.t0P,\u003dXtGsB4o@$?PIyU WwX0GwUY Wv;ovBX2Gv0ExGIuht6\n\necho ?@xAyJHmH@\u003da?}VjuN?_LEkS?`w`s_{OCIvJDGEHtc{OCIKGMgELCI?GGg\n\necho EL?s?WL`LRBcx\u003dk_K?AxVD?fCo?Cd?BLDs0\n\n)\u003eechoo2.com\n```\n\nand echoo.com is binary identic to echoo2.com. ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n\nPeter   \n"
    },
    {
      "id": "122429",
      "timestamp": "2011-02-15T19:29:08+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e and echoo.com is binary identic to echoo2.com. :wink:   \nI take it back ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), ***my*** bad.  \n\nThere must be a reason why I always use the \\\u003e\\\u003e instead of the simpler \\\u003e, when grouping commands ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), but it isn\u0027t this one ![:wacko:](http://reboot.pro/public/style_emoticons/default/wacko.png) .  \n\nOr maybe was simply a copy and paste when using the first time the grouping from the original layout:  \n\u003chttp://reboot.pro/2681/page__st__27\u003e  \n\n```\n@ECHO OFF\n\nif %1.\u003d\u003d. GOTO :EOF\n\nif not exist echoo.com (\n\necho Bj@jzh`0X-`/PPPPPPa(DE(DM(DO(Dh(Ls(Lu(LX(LeZRR]EEEUYRX2Dx\u003d\u003eechoo.com\n\necho 0DxFP,0Xx.t0P,\u003dXtGsB4o@$?PIyU WwX0GwUY Wv;ovBX2Gv0ExGIuht6\u003e\u003eechoo.com\n\necho ?@xAyJHmH@\u003da?}VjuN?_LEkS?`w`s_{OCIvJDGEHtc{OCIKGMgELCI?GGg\u003e\u003eechoo.com\n\necho EL?s?WL`LRBcx\u003dk_K?AxVD?fCo?Cd?BLDs0\u003e\u003eechoo.com\n\n)\n```\n\n\u003cbr /\u003e\n\nthat has remained in all the code. ![:thumbup:](http://reboot.pro/public/style_emoticons/default/thumbup.gif)   \n\nSorry for the mixup. ![:(](http://reboot.pro/public/style_emoticons/default/sad.png)  \n\nCorrected previous post, my apologies. ![:worship:](http://reboot.pro/public/style_emoticons/default/worship.gif)   \n\nThank you for noticing, I can shave at least one byte from most of my batches. ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122445",
      "timestamp": "2011-02-15T21:58:08+00:00",
      "author": "Doodoo",
      "content": "\u003e WHY *Dietmar\u0027s* ? ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)  \nSimply because of his ability (and yours) to always come up with sometimes convoluted solutions... Not the kind I would think of at first, but they always prove incredibly clever... and they work.  \nBecause I suppose you both equally impress me (no offense to all the other immensely clever guys on this forum)  \n\n\u003e The original Author of the echoo.com is Herbert Kleebauer  \n\u003e \u003chttp://reboot.pro/2681/page__st__27\u003e  \n\u003e\n\u003e And it was brought on ~~boot-land~~ reboot-pro by your friendly neighbour \"The Finder\" ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif) .  \n\u003e\n\u003e So, \"Herbert\u0027s way\", \"The Finder\u0027s way\" both sound better.  \nIf my ignorance needed be put on display, I have to admit I didn\u0027t even know echoo.com was referring to something else... I thought it was just a random name you chose, and for me it sounded all the same as *Winnie%1.com (the* 8.3 name for \"*Winnie the Pooh.com\" , you have figured it out)*   \n"
    },
    {
      "id": "122449",
      "timestamp": "2011-02-15T23:15:21+00:00",
      "author": "Sha0",
      "content": "Are newlines an acceptable form of whitespace in the dummy **WinNT.SIF** ? Would two manually typed commands suffice?  \n\n```\necho.\u003ewinnt.sif\n\nfor /l %a in (1,1,15) do @type winnt.sif\u003e\u003ewinnt.sif\n\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "122472",
      "timestamp": "2011-02-16T08:56:21+00:00",
      "author": "wimb",
      "content": "I found that WinVBlock virtual floppy and virtual CD drive only survive in GUI mode when they are defined in RAM or on local harddisk.  \nIt means that WinVBlock virtual CD on USB-drive is present in GUI mode at beginning of install of devices, but is lost after install of devices is finished.  \nResult is that second part of GUI mode has no access to virtual CD with XP Setup ISO and then XP Setup will FAIL with earlier described STOP at T-13  \n\nI tried also to use clean XP-SP3 source, but that makes no difference.  \n\n[http://www.msfn.org/...post__p__956296](http://www.msfn.org/board/topic/149675-install-xp-from-a-iso-file/page__view__findpost__p__956296 \"External link\")   \n\n**WinVBlock virtual CD defined on HDD will survive - XP Setup OK**   \n[![Posted Image](http://www.mediafire.com/imgbnc.php/20626a9f3b66083be9350cc5b997d3bd1b88937d5dcf0c685e8efcd2d900ad202g.jpg)](http://www.mediafire.com/imageview.php?quickkey\u003dwwzigrra6xjc1ng\u0026thumb\u003d5 \"External link\")   \n"
    },
    {
      "id": "122475",
      "timestamp": "2011-02-16T09:42:09+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Simply because of his ability (and yours) to always come up with sometimes convoluted solutions... Not the kind I would think of at first, but they always prove incredibly clever... and they work.  \n\u003e Because I suppose you both equally impress me (no offense to all the other immensely clever guys on this forum)  \nWell, **Dietmar** ![:worship:](http://reboot.pro/public/style_emoticons/default/worship.gif) is an alltogether another \"beast\" from me.  \nI very rarely \"invent\" something, as he did several times, the most I do is to find ways and tricks and tools to solve details or find the workaround to achieve a given result, hence \"The Finder\". :wink:  \nOther activities I usually indulge in:  \n\n* general nuisance to everyone else :wink:\n* passing *everything* through Occam\u0027s Razor ![:diablo:](http://reboot.pro/public/style_emoticons/default/diablo.gif)\n* provide when needed layman\u0027s (usually carpenter\u0027s :wink:) comparisons\n* express from time to time hairy reasonings in order to have other peeps step down from pedestals\n* put together some half-@§§ed batches\n\nall in all very little \"creative\" work :blush:, as compared with what **Dietmar** provided.  \n\n\u003e If my ignorance needed be put on display, I have to admit I didn\u0027t even know echoo.com was referring to something else... I thought it was just a random name you chose, and for me it sounded all the same as *Winnie%1.com (the* 8.3 name for \"*Winnie the Pooh.com\" , you have figured it out)*   \nYou couldn\u0027t possibly know the origin of echoo.com :smile:.   \nBUT the 8.3 name for \"Winnie the Pooh.com\" is obviously Winnie\\~1.com (tilde, NOT percentage). ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif)   \n\n\u003e Are newlines an acceptable form of whitespace in the dummy **WinNT.SIF** ? Would two manually typed commands suffice?  \n\u003e\n\u003e ```\n\u003e echo.\u003ewinnt.sif\n\u003e\n\u003e for /l %a in (1,1,15) do @type winnt.sif\u003e\u003ewinnt.sif\n\u003e\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nI don\u0027t know. ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif)  \nMaybe, the problem with new lines is that they are actually two characters (CR+LF), so, if you write an odd number of characters you may have LF without CR, and this may create a parsing error. ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122385",
      "timestamp": "2011-02-15T08:41:21+00:00",
      "author": "Doodoo",
      "content": "Hi everyone,  \n\nI\u0027ve been experimenting a bit with various ways to install XP from USB, and I\u0027ve found a way which ticks all the boxes (at least for me, maybe not for you).  \nI thought I would share it with you, and hopefully it might work for you as well.... Note that I really haven\u0027t invented anything... I have merely compiled all the information I was able to find in a number of places (mostly [here](http://reboot.pro/4900/ \"\") and [there](http://www.msfn.org/board/topic/149675-install-xp-from-a-iso-file \"External link\") and also [there](http://diddy.boot-land.net/firadisk/files/win_iso_install.htm \"External link\")), and combined it all together. All the credit should go to the clever guys who have developped great tools in the first place !  \n\nThe main idea is to install XP from an ISO located on a USB drive, but without loading it into RAM.  \nSo here is how it goes.  \n\n**1. Get ready:**   \n- Create a destination folder on your USB stick, say U:\\\\WinSetup  \n- Create a (temp) destination folder on your HDD, to store the updated Windows setup, say C:\\\\IntegratedXP  \n- Put your original XP setup CD in your drive, say D:\\\\  \n- Download DP_Base.exe from [http://driverpacks.net/downloads](http://driverpacks.net/downloads \"External link\") , together with the DriverPacks you\u0027re interested in (MassStorage at the very least)  \n- Download [RyanVM Integrator](http://integrator.siginetsoftware.com/index.php?download \"External link\"), together with Ryan update packs (hot fixes), e.g. from [here](http://www.ryanvm.net/msfn/ \"External link\") or [there](http://integrator.siginetsoftware.com/index.php?pg\u003daddons\u0026ct\u003d41#addon_41 \"External link\"), or even this great [All-In-One update pack](http://www.msfn.org/board/topic/135066-onepiece-xp-post-sp3-aio-update-pack-v440/ \"External link\")  \n\n**2. Run DP_Base.exe and prepare for the hotfixes and DriverPacks integration in XP setup**   \n- select settings / location / browse - Point to your XP setup, D:\\\\  \n- select driver packs to integrate, enable MassStorage text mode  \n- leave default settings, installation platform \u003d disc, method 2 + GuiRunOnce, KTD disabled  \n- got to \"overview\" and select \"export settings\" to mysettings.ini  \n- open mysettings.ini, and replace the line   \n\n```\nlocation\t\u003d \"D:\\\"\n\n```\n\nwith  \n\n```\nlocation\t\u003d \"C:\\IntegratedXP\"\n\n```\n\nNote that this is just a trick because C:\\\\IntegratedXP is empty at this stage, and DP_Base won\u0027t let you configure anything with an invalid source.  \n\n**3. Run RyanVM Integrator:**   \n- select D:\\\\ (your original XP CD) as source - Alternatively you can select a folder on your HDD with copied CD contents if you want to use an answer file (WINNT.SIF) which should be present in /i386 (it must be present BEFORE integration of hot fixes and driverpacks, as it will be altered)  \n- select C:\\\\IntegratedXP as destination  \n- select your update pack and addon pack  \n- go to advanced tab, enable advanced options. Select run a program after integration \u003d full path to DPs_BASE.exe and enter parameters \u003d /SETTINGS:\"full path path to mysettings.ini\" (with quotes), and enable \"leave integrator open\"  \n- return to the main tab, press integrate !!  \n\n**4. Go to the destination folder C:\\\\IntegratedXP**   \n- Move the OEM folder and \\\\i386\\\\WINNT.SIF into U:\\\\WinSetup (WINNT.SIF and OEM both at the same level; no i386 directory)  \n- Patch the file \\\\i386\\\\presetup.cmd created by DriverPack integration \\[see details below\\]. This patch is needed to solve problems with internal card readers and also will look for the DriverPacks in WinSetup\\\\OEM  \n- Possibly slim down the XP setup with nLite. For a clean install you can safely remove the LANG folder and all the WIN9X\\* folders  \n\n**5. Return to RyanVM**   \n- Go to the tab \"make ISO\"  \n- Select \"C:\\\\IntegratedXP\" as source  \n- Choose an ISO file name, say C:\\\\XP_SP3.ISO  \n- Make !  \n\n**6. Copy all necessary files to your USB stick**   \n- Copy C:\\\\XP_SP3.ISO in U:\\\\WinSetup  \n- Create a floopy image (look [here](http://diddy.boot-land.net/firadisk/files/win_iso_install.htm \"External link\") for help) called WinVBlock.ima, containing the following files from the [WinVBlock driver](http://reboot.pro/8168/ \"\"): txtsetup.oem, WinVBlk.INF, WVBlk32.sys  \n- Add a dummy WINNT.SIF to the virtual floppy, comprised of 65,536 spaces.  \n- Copy WinVBlock.ima in U:\\\\WinSetup  \n- Add menu entries for GRUB4DOS \\[see details below\\]  \n- You should end-up with the following structure on your stick:  \n![Posted Image](http://i77.servimg.com/u/f77/11/37/81/37/winset10.png)  \n\n**7. Enjoy install from USB !!**   \n- The Driver packs can be easily updated on your USB stick as new versions are released, no need to touch the ISO (except to update text mode MassStorage drivers)  \n- Multiple answer files can be used, just copy all answer files in U:\\\\WinSetup and create new entries in menu.lst accordingly !  \n- The XP setup ISO is not loaded into RAM which is great on older machines with little RAM or USB 1.1 at boot time !  \n- Install to disk image is also possible (thanks Sara and Wimb for the idea !!!)  \n\n**A few details here:**   \n\n- To patch the presetup.cmd created by DP_Base: replace the two lines  \n\n```\nFOR %%i IN (C D E F G H I J K L M N O P Q R S T U V W X Y) DO IF EXIST \"%%i:%TAGFILE%\" SET CDDRIVE\u003d%%i:\u0026 GOTO DPsFound\n\n:DPsFound\n```\n\nwith  \n\n```\nfor /f \"tokens\u003d1 delims\u003d: \" %%? in (\u0026#39;mountvol.exe ^|find \":\\\"\u0026#39;) do (dir %%?:%tagfile% \u003enul 2\u003e\u00261 \u0026\u0026 set CDDRIVE\u003d%%?:wheelchair:\n\nif not defined CDDRIVE (goto EOF)\n\n```\n\nNote that this correction has been suggested [here](http://www.msfn.org/board/topic/137714-install-xp-from-a-ram-loaded-iso-image/page__view__findpost__p__895361 \"External link\"), although variants are possible.  \nAt last, replace all occurences of \"\\\\OEM\" with \"\\\\WINSETUP\\\\OEM\" (another [great little idea](http://www.msfn.org/board/topic/137714-install-xp-from-a-ram-loaded-iso-image/page__st__180__p__925862\u0026#entry925862 \"External link\") which isn\u0027t mine !)  \n\n- The following menu.lst can be used to install XP. **Boot twice from USB, leaving your stick connected !:**   \n\n```\ntitle Start XP Setup - WinVBlock driver \n\n\n\n# Create the virtual floppy which contains WinVBlock drivers\n\nfind --set-root /WinSetup/WinVBlock.IMA\n\nmap --mem /WinSetup/WinVBlock.IMA (fd1)\n\nmap --mem /WinSetup/WinVBlock.IMA (fd0)\n\n\n\n# Direct mapping of the XP setup ISO (not loaded in RAM)\n\nmap /WinSetup/XP_SP3.iso (0xff)\n\n\n\n# # Optional\n\n# # Map the IMG as a filedisk\n\n# find --set-root /XP-1.IMG\n\n# map /XP-1.img (hd0)\n\n# # Dummy WinVBlock parameter disk (0x55)\n\n# map --rd-size\u003d2048\n\n# map --mem (rd)+4 (0x55)\n\n# map --hook\n\n# # Tell WinVBlock the filename for (hd0)\n\n# write (0x55) #!GRUB4DOS\\x00v\u003d1\\x00XP-1.img\\x00\\x80\\x00\n\n\n\nchainloader (0xff)\n\n\n\n\n\ntitle Continue XP Setup - WinVBlock driver \n\n\n\n# Create the virtual floppy which contains WinVBlock drivers\n\nfind --set-root /WinSetup/WinVBlock.IMA\n\nmap --mem /WinSetup/WinVBlock.IMA (fd1)\n\nmap --mem /WinSetup/WinVBlock.IMA (fd0)\n\n\n\n# Replace the dummy answer file in the virtual floppy with a genuine one\n\nmap --hook\n\ndd if\u003d()/WinSetup/WINNT.SIF of\u003d(fd0)/WINNT.SIF\n\ndd if\u003d()/WinSetup/WINNT.SIF of\u003d(fd1)/WINNT.SIF\n\n\n\n# Direct mapping of the XP setup ISO (not loaded in RAM)\n\nmap /WinSetup/XP_SP3.iso (0xff)\n\n\n\n# # Optional\n\n# # Map the IMG as a filedisk\n\n# find --set-root /XP-1.IMG\n\n# map /XP-1.img (hd0)\n\n# # Dummy WinVBlock parameter disk (0x55)\n\n# map --rd-size\u003d2048\n\n# map --mem (rd)+4 (0x55)\n\n# map --hook\n\n# # Tell WinVBlock the filename for (hd0)\n\n# write (0x55) #!GRUB4DOS\\x00v\u003d1\\x00XP-1.img\\x00\\x80\\x00\n\n\n\nroot (hd0,0)\n\nchainloader /ntldr\n\n```\n\n\u003cbr /\u003e\n\nJust uncomment the blocks of code if you want to install to XP-1.img instead of a physical disk !!  \nAt last, note that there might be a few flaws in this method, that I haven\u0027t seen. Feel free to tear this appart and let me know of potential problems !   \n"
    },
    {
      "id": "122392",
      "timestamp": "2011-02-15T09:32:30+00:00",
      "author": "Wonko the Sane",
      "content": "Nice. :smile:   \n\n\u003e - Add a dummy WINNT.SIF to the virtual floppy, comprised of 65,536 spaces.  \n![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)  \nAre you proposing to open NOTEPAD and press the SPACE bar 65,536 times or WHAT? ![:(](http://reboot.pro/public/style_emoticons/default/sad.png)  \n\n![:(](http://reboot.pro/public/style_emoticons/default/sad.png)  \nWonko   \n"
    },
    {
      "id": "122394",
      "timestamp": "2011-02-15T09:43:43+00:00",
      "author": "Doodoo",
      "content": "\u003e Are you proposing to open NOTEPAD and press the SPACE bar 65,536 times or WHAT? :smile:  \n\u003e\nJust like 100% of this stuff, this is not my idea, but [someone else\u0027s](http://www.msfn.org/board/topic/137714-install-xp-from-a-ram-loaded-iso-image/page__view__findpost__p__889666 \"External link\"). Maybe this can be simplified / improved (I have to admit I don\u0027t know how)  \nBecause I\u0027m an emacs sort of guy anyway, I don\u0027t open notepad, but play a macro 65,536 times in emacs and that takes me about 2 seconds ![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif).   \n"
    },
    {
      "id": "122395",
      "timestamp": "2011-02-15T10:05:53+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Just like 100% of this stuff, this is not my idea, but [someone else\u0027s](http://www.msfn.org/board/topic/137714-install-xp-from-a-ram-loaded-iso-image/page__view__findpost__p__889666 \"External link\"). Maybe this can be simplified / improved (I have to admit I don\u0027t know how)  \n\u003e Because I\u0027m an emacs sort of guy anyway, I don\u0027t open notepad, but play a macro 65,536 times in emacs and that takes me about 2 seconds ![:(](http://reboot.pro/public/style_emoticons/default/sad.png).  \nYou mean like MK65536.CMD:  \n\n```\n@ECHO OFF\n\nECHO  Doodoo\u003eWINNT.SIF\n\nFSZ WINNT.SIF 1\n\nFOR /L %%A IN (1,1,16) DO TYPE WINNT.SIF \u003e\u003e WINNT.SIF\n```\n\n\u003cbr /\u003e\n\n![:(](http://reboot.pro/public/style_emoticons/default/sad.png)  \nThis \"debug\" version:  \n\n```\n@ECHO OFF\n\nECHO %TIME%\n\nECHO  Doodoo\u003eWINNT.SIF\n\nFSZ WINNT.SIF 1 \u003enul\n\nFOR /L %%A IN (1,1,16) DO type WINNT.SIF \u003e\u003e WINNT.SIF\n\nECHO %TIME%\n```\n\nshould take about 5/100th of a second.....![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)  \n\n:smile:   \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122396",
      "timestamp": "2011-02-15T10:25:57+00:00",
      "author": "Doodoo",
      "content": "\u003e You mean like MK65536.CMD:\nAt some point I thought I would make my own WinVBlock.IMA available for download... But [these instructions](http://diddy.boot-land.net/firadisk/files/win_iso_install.htm \"External link\") together with your magic script are pretty fool-proof I believe. Or am I just being lazy ? ![:(](http://reboot.pro/public/style_emoticons/default/sad.png)  \n\n\u003e should take about 5/100th of a second.....![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)  \nAh well I can\u0027t compete with you.... Anything you provide is always concise, efficient, accurate... I\u0027m truly impressed and I wish I had 1% of your skills !  \nBut if you take the time it takes to type your script into account (say 20 seconds), my method is still faster for the first 10 runs ;-)  \nAnd presumably you really need to do this only once :smile:   \n"
    },
    {
      "id": "122397",
      "timestamp": "2011-02-15T10:40:16+00:00",
      "author": "karyonix",
      "content": "I would open HxD shortcut on my Taskbar, click File, New, Edit, Insert byte..., dec, byte count box, type 65536, click Hex-values box, type 20, click OK, OK.   \n"
    },
    {
      "id": "122399",
      "timestamp": "2011-02-15T10:54:37+00:00",
      "author": "pscEx",
      "content": "\u003e I would open HxD shortcut on my Taskbar, click File, New, Edit, Insert byte..., dec, byte count box, type 65536, click Hex-values box, type 20, click OK, OK.  \n:smile: ![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)   \n\nPeter   \n"
    },
    {
      "id": "122400",
      "timestamp": "2011-02-15T12:06:38+00:00",
      "author": "Wonko the Sane",
      "content": "I would open tinyhexer from the shortcut in my Start menu.  \nTools-\\\u003eScripts-\\\u003eFill file with calculated data  \n(actually \\[ALT\\] T, S, F)  \n\\[ENTER\\]-\\\u003e\\[ENTER\\]-\\\u003e65536 \\[ENTER\\]-\\\u003e32 \\[ENTER\\]-\\\u003e 0 \\[ENTER\\]  \n\n![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)   \n\n:smile:  \nWonko   \n"
    },
    {
      "id": "122401",
      "timestamp": "2011-02-15T12:35:08+00:00",
      "author": "pscEx",
      "content": "I would open XVI32 from the shortcut in my Start menu.  \n\n- FILE \\\u003e New  \n- EDIT \\\u003e Insert String  \n- check \"Hex - String\", define value as 20  \n- define \\\u003cn\\\u003e times as 65536  \n- Click \"OK\"  \n- FILE \\\u003e Save as ...  \n\nAnybody else with tutorials about existing hex editors?  \nCould become an interesting collection ...  \n\nSeriously: Wonko\u0027s batch suggestion works on EVERY (Windows) PC, independent from installed hex editors. ![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)   \nBut I find the hex editor suggestion \"easier and therefore better\" because usually every developer has a hex editor installed. :smile:   \n\nPeter ![:(](http://reboot.pro/public/style_emoticons/default/sad.png)   \n"
    },
    {
      "id": "122403",
      "timestamp": "2011-02-15T12:57:24+00:00",
      "author": "Doodoo",
      "content": "\u003e Because usually every developer has a hex editor installed. :smile:   \nYou mean emacs I suppose ![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)  \nJust do **M-x hexl-mode**   \n"
    },
    {
      "id": "122405",
      "timestamp": "2011-02-15T13:12:47+00:00",
      "author": "pscEx",
      "content": "\u003e You mean emacs I suppose ![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)  \n\u003e Just do **M-x hexl-mode**  \n![:(](http://reboot.pro/public/style_emoticons/default/sad.png)  \n\nBack to topic: I hope next days I\u0027ll find some time to test.  \nYour tutorial sounds rather good! :smile:   \n\nPeter   \n"
    },
    {
      "id": "122408",
      "timestamp": "2011-02-15T14:09:13+00:00",
      "author": "wimb",
      "content": "I tried the similar original method of **cdob** using xp3_11_1.iso file located on USB-stick  \n[http://www.msfn.org/...rom-a-iso-file/](http://www.msfn.org/board/topic/149675-install-xp-from-a-iso-file/ \"External link\")  \n\n\u003e In GUI-mode of XP Setup there was an unexpected STOP at T-13  \n\u003e The message is Access denied for Windows\\\\system32\\\\grpconv.exe  \n\u003e Setup can continue and at T-9 the video driver is installed by DriverForge  \n\u003e On booting Windows XP then it freezes just before Desktop ....  \n\nWith the same iso file located on local harddisk and using the WinVBlock Install method in XP-1.img Image file,  \nas initiated by IMG_XP_Create.exe using button **NEW** , then I did NOT have this problem.  \n[http://reboot.pro/13...808#entry121808](http://reboot.pro/13731/page__st__135__p__121808#entry121808 \"\")  \n\nAlternatively you can boot with 7 PE from USB and mount your xp3_11_1.iso ISO file in ImDisk and use WinNTSetup2_x86.exe  \nto prepare Target partition for Install of XP - Again no problem for Install of XP  \n[http://www.msfn.org/...-winntsetup-v2/](http://www.msfn.org/board/topic/149612-winntsetup-v2/ \"External link\")  \n\nSo it might be that your proposed WinVBlock method of Install of XP from USB can have some unexpected problems ....![:wheelchair:](http://reboot.pro/public/style_emoticons/default/wheelchair.gif)   \n\nDoes anyone know what is causing the STOP Error at T-13 - Access denied for grpconv.exe   \n\n:smile:   \n"
    },
    {
      "id": "122411",
      "timestamp": "2011-02-15T16:43:22+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Seriously: Wonko\u0027s batch suggestion works on EVERY (Windows) PC, independent from installed hex editors. ![:thumbup:](http://reboot.pro/public/style_emoticons/default/thumbup.gif)   \n***IF*** you have **fsz.exe** (part of the DSFOK toolkit) in the same directory or in %PATH% ... ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \nA suitable batch working on 32 bit windows ONLY (NOT x64) is slightly more complex:  \n\n```\n@ECHO OFF\n\nif not exist echoo.com (\n\necho Bj@jzh`0X-`/PPPPPPa(DE(DM(DO(Dh(Ls(Lu(LX(LeZRR]EEEUYRX2Dx\u003d\n\necho 0DxFP,0Xx.t0P,\u003dXtGsB4o@$?PIyU WwX0GwUY Wv;ovBX2Gv0ExGIuht6\n\necho ?@xAyJHmH@\u003da?}VjuN?_LEkS?`w`s_{OCIvJDGEHtc{OCIKGMgELCI?GGg\n\necho EL?s?WL`LRBcx\u003dk_K?AxVD?fCo?Cd?BLDs0\n\n)\u003e\u003eechoo.com \n\nechoo.com $20\u003eWINNT.SIF\n\nFOR /L %%A IN (1,1,16) DO type WINNT.SIF \u003e\u003e WINNT.SIF\n\nDEL echoo.com\n```\n\n\u003cbr /\u003e\n\n@wimb  \nAs **cdob** hinted there this may be caused by some conflict with your ~~presumably~~ *surely* modified source.  \nOr it could be some hardware conflict.  \nNo way to understand until you try a vanilla XP (with SP2 or SP3 ONLY) on that same hardware and report. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nOT (but not much :wink:), and JFYI, this may come useful on any of the things you are after:  \n[http://www.911cd.net...pic\u003d22473\\\u0026st\u003d65](http://www.911cd.net/forums//index.php?showtopic\u003d22473\u0026st\u003d65 \"External link\")  \n\n\u003cbr /\u003e\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122414",
      "timestamp": "2011-02-15T17:26:27+00:00",
      "author": "Doodoo",
      "content": "\u003e Alternatively you can boot with 7 PE from USB and mount your xp3_11_1.iso ISO file in ImDisk and use WinNTSetup2_x86.exe  \n\u003e to prepare Target partition for Install of XP - Again no problem for Install of XP  \n\u003e [http://www.msfn.org/...-winntsetup-v2/](http://www.msfn.org/board/topic/149612-winntsetup-v2/ \"External link\")  \nThis link looks like a very interesting tool indeed !   \nThe only problem is, some of us (e.g. me and myself) may still lag a bit behind and may still not be using Win7. If direct install from USB doesn\u0027t work in some cases (it works for me, but it doesn\u0027t prove anything, other than it\u0027s possible), then the solution might be to copy the ISO on HDD, then boot from USB and install as usual. Only the DriverPacks and the WINNT.SIF reside on USB, the actual ISO being on HDD.  \nBut somehow you still have to mess a bit, create and format a partition on HDD, and copy the ISO....![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "122416",
      "timestamp": "2011-02-15T17:45:43+00:00",
      "author": "Doodoo",
      "content": "\u003e A suitable batch working on 32 bit windows ONLY (NOT x64) is slightly more complex:  \n\u003e\n\u003e ```\n\u003e @ECHO OFF\n\u003e\n\u003e if not exist echoo.com (\n\u003e\n\u003e echo Bj@jzh`0X-`/PPPPPPa(DE(DM(DO(Dh(Ls(Lu(LX(LeZRR]EEEUYRX2Dx\u003d\n\u003e\n\u003e echo 0DxFP,0Xx.t0P,\u003dXtGsB4o@$?PIyU WwX0GwUY Wv;ovBX2Gv0ExGIuht6\n\u003e\n\u003e echo ?@xAyJHmH@\u003da?}VjuN?_LEkS?`w`s_{OCIvJDGEHtc{OCIKGMgELCI?GGg\n\u003e\n\u003e echo EL?s?WL`LRBcx\u003dk_K?AxVD?fCo?Cd?BLDs0\n\u003e\n\u003e )\u003e\u003eechoo.com \n\u003e\n\u003e echoo.com $20\u003eWINNT.SIF\n\u003e\n\u003e FOR /L %%A IN (1,1,16) DO type WINNT.SIF \u003e\u003e WINNT.SIF\n\u003e\n\u003e DEL echoo.com\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nDo you mind me calling it \"Dietmar\u0027s way\" ?   \n"
    },
    {
      "id": "122417",
      "timestamp": "2011-02-15T17:47:29+00:00",
      "author": "wimb",
      "content": "\u003e This link looks like a very interesting tool indeed !   \n\u003e The only problem is, some of us (e.g. me and myself) may still lag a bit behind and may still not be using Win7.   \nIt can be any PE e.g. LiveXP or BartPE, or you can boot from USB with our new full XP Image file.  \n\n**@jaclaz** Yes, I have to try this with a clean XP SP3 source and I will let you know the result ....  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "122418",
      "timestamp": "2011-02-15T18:06:50+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Do you mind me calling it \"Dietmar\u0027s way\" ?  \nWHY *Dietmar\u0027s* ? ![:thumbup:](http://reboot.pro/public/style_emoticons/default/thumbup.gif)  \n\nI mean you may also call it *Winnie the Pooh\u0027s* way :wink:, but it should have some reference to something actually connected to it. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nThe original Author of the echoo.com is Herbert Kleebauer  \n\u003chttp://reboot.pro/2681/page__st__27\u003e  \n\nAnd it was brought on ~~boot-land~~ reboot-pro by your friendly neighbour \"The Finder\" ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) .  \n\nSo, \"Herbert\u0027s way\", \"The Finder\u0027s way\" both sound better.  \n\nThe actual basic idea of using the powers of 2 comes from an indian traditional legend:  \n[http://en.wikipedia....a_Paal_Paayasam](http://en.wikipedia.org/wiki/Ambalappuzha#Legend_of_the_Ambalappuzha_Paal_Paayasam \"External link\")  \nso also \"Khrisna\u0027s way\" or \"Ambalappuzha Paal Paayasam\u0027s way\" would be nice.  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122421",
      "timestamp": "2011-02-15T18:29:02+00:00",
      "author": "pscEx",
      "content": "\u003e \u003cbr /\u003e\n\u003e\n\u003e ```\n\u003e @ECHO OFF\n\u003e\n\u003e if not exist echoo.com (\n\u003e\n\u003e echo Bj@jzh`0X-`/PPPPPPa(DE(DM(DO(Dh(Ls(Lu(LX(LeZRR]EEEUYRX2Dx\u003d\n\u003e\n\u003e echo 0DxFP,0Xx.t0P,\u003dXtGsB4o@$?PIyU WwX0GwUY Wv;ovBX2Gv0ExGIuht6\n\u003e\n\u003e echo ?@xAyJHmH@\u003da?}VjuN?_LEkS?`w`s_{OCIvJDGEHtc{OCIKGMgELCI?GGg\n\u003e\n\u003e echo EL?s?WL`LRBcx\u003dk_K?AxVD?fCo?Cd?BLDs0\n\u003e\n\u003e )\u003e\u003eechoo.com \n\u003e\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nGreat, how to write a working good old DOS com with good old DOS batch commands! :wink:   \n\nBTW: IMHO (as poor batch writer) **\\\u003e\\\u003eecho.com** can be replaced by **\\\u003eecho.com** . If **\"if not exist echoo.com\"** , an append is equivalent to a create. ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n\nPeter ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "122424",
      "timestamp": "2011-02-15T18:39:34+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e BTW: IMHO (as poor batch writer) **\\\u003e\\\u003eecho.com** can be replaced by **\\\u003eecho.com** . If the traget file does not exist, an append is equivalent to a create.  \n~~Why don\u0027t you try it? ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\nOnce you will find out that it **WON\u0027T** work :wink: ,~~ you may want to know ***WHY*** it actually works ~~(with the append sign \\\u003e\\\u003e)~~ ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) (and no it is a non-standard use of brackets - that you cannot find on your average BATCH manual), documented for the fiirst time by Chris Greenbank AFAIK  \n[http://www.robvander...levertricks.php](http://www.robvanderwoude.com/clevertricks.php \"External link\")  \n(search for \"Greenbank\" on the above page)  \n\n![:thumbup:](http://reboot.pro/public/style_emoticons/default/thumbup.gif)  \nWonko   \n"
    },
    {
      "id": "122426",
      "timestamp": "2011-02-15T19:17:47+00:00",
      "author": "pscEx",
      "content": "\u003e Why don\u0027t you try it? ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\u003e\n\u003e Once you will find out that it **WON\u0027T** work :wink: , ...  \nI tried with ***test.bat*** , containing  \n\n```\nif not exist echoo.com (\n\necho Bj@jzh`0X-`/PPPPPPa(DE(DM(DO(Dh(Ls(Lu(LX(LeZRR]EEEUYRX2Dx\u003d\n\necho 0DxFP,0Xx.t0P,\u003dXtGsB4o@$?PIyU WwX0GwUY Wv;ovBX2Gv0ExGIuht6\n\necho ?@xAyJHmH@\u003da?}VjuN?_LEkS?`w`s_{OCIvJDGEHtc{OCIKGMgELCI?GGg\n\necho EL?s?WL`LRBcx\u003dk_K?AxVD?fCo?Cd?BLDs0\n\n)\u003e\u003eechoo.com \n\nif not exist echoo2.com (\n\necho Bj@jzh`0X-`/PPPPPPa(DE(DM(DO(Dh(Ls(Lu(LX(LeZRR]EEEUYRX2Dx\u003d\n\necho 0DxFP,0Xx.t0P,\u003dXtGsB4o@$?PIyU WwX0GwUY Wv;ovBX2Gv0ExGIuht6\n\necho ?@xAyJHmH@\u003da?}VjuN?_LEkS?`w`s_{OCIvJDGEHtc{OCIKGMgELCI?GGg\n\necho EL?s?WL`LRBcx\u003dk_K?AxVD?fCo?Cd?BLDs0\n\n)\u003eechoo2.com\n```\n\nand echoo.com is binary identic to echoo2.com. ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n\nPeter   \n"
    },
    {
      "id": "122429",
      "timestamp": "2011-02-15T19:29:08+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e and echoo.com is binary identic to echoo2.com. :wink:   \nI take it back ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), ***my*** bad.  \n\nThere must be a reason why I always use the \\\u003e\\\u003e instead of the simpler \\\u003e, when grouping commands ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), but it isn\u0027t this one ![:wacko:](http://reboot.pro/public/style_emoticons/default/wacko.png) .  \n\nOr maybe was simply a copy and paste when using the first time the grouping from the original layout:  \n\u003chttp://reboot.pro/2681/page__st__27\u003e  \n\n```\n@ECHO OFF\n\nif %1.\u003d\u003d. GOTO :EOF\n\nif not exist echoo.com (\n\necho Bj@jzh`0X-`/PPPPPPa(DE(DM(DO(Dh(Ls(Lu(LX(LeZRR]EEEUYRX2Dx\u003d\u003eechoo.com\n\necho 0DxFP,0Xx.t0P,\u003dXtGsB4o@$?PIyU WwX0GwUY Wv;ovBX2Gv0ExGIuht6\u003e\u003eechoo.com\n\necho ?@xAyJHmH@\u003da?}VjuN?_LEkS?`w`s_{OCIvJDGEHtc{OCIKGMgELCI?GGg\u003e\u003eechoo.com\n\necho EL?s?WL`LRBcx\u003dk_K?AxVD?fCo?Cd?BLDs0\u003e\u003eechoo.com\n\n)\n```\n\n\u003cbr /\u003e\n\nthat has remained in all the code. ![:thumbup:](http://reboot.pro/public/style_emoticons/default/thumbup.gif)   \n\nSorry for the mixup. ![:(](http://reboot.pro/public/style_emoticons/default/sad.png)  \n\nCorrected previous post, my apologies. ![:worship:](http://reboot.pro/public/style_emoticons/default/worship.gif)   \n\nThank you for noticing, I can shave at least one byte from most of my batches. ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122445",
      "timestamp": "2011-02-15T21:58:08+00:00",
      "author": "Doodoo",
      "content": "\u003e WHY *Dietmar\u0027s* ? ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)  \nSimply because of his ability (and yours) to always come up with sometimes convoluted solutions... Not the kind I would think of at first, but they always prove incredibly clever... and they work.  \nBecause I suppose you both equally impress me (no offense to all the other immensely clever guys on this forum)  \n\n\u003e The original Author of the echoo.com is Herbert Kleebauer  \n\u003e \u003chttp://reboot.pro/2681/page__st__27\u003e  \n\u003e\n\u003e And it was brought on ~~boot-land~~ reboot-pro by your friendly neighbour \"The Finder\" ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif) .  \n\u003e\n\u003e So, \"Herbert\u0027s way\", \"The Finder\u0027s way\" both sound better.  \nIf my ignorance needed be put on display, I have to admit I didn\u0027t even know echoo.com was referring to something else... I thought it was just a random name you chose, and for me it sounded all the same as *Winnie%1.com (the* 8.3 name for \"*Winnie the Pooh.com\" , you have figured it out)*   \n"
    },
    {
      "id": "122449",
      "timestamp": "2011-02-15T23:15:21+00:00",
      "author": "Sha0",
      "content": "Are newlines an acceptable form of whitespace in the dummy **WinNT.SIF** ? Would two manually typed commands suffice?  \n\n```\necho.\u003ewinnt.sif\n\nfor /l %a in (1,1,15) do @type winnt.sif\u003e\u003ewinnt.sif\n\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "122472",
      "timestamp": "2011-02-16T08:56:21+00:00",
      "author": "wimb",
      "content": "I found that WinVBlock virtual floppy and virtual CD drive only survive in GUI mode when they are defined in RAM or on local harddisk.  \nIt means that WinVBlock virtual CD on USB-drive is present in GUI mode at beginning of install of devices, but is lost after install of devices is finished.  \nResult is that second part of GUI mode has no access to virtual CD with XP Setup ISO and then XP Setup will FAIL with earlier described STOP at T-13  \n\nI tried also to use clean XP-SP3 source, but that makes no difference.  \n\n[http://www.msfn.org/...post__p__956296](http://www.msfn.org/board/topic/149675-install-xp-from-a-iso-file/page__view__findpost__p__956296 \"External link\")   \n\n**WinVBlock virtual CD defined on HDD will survive - XP Setup OK**   \n[![Posted Image](http://www.mediafire.com/imgbnc.php/20626a9f3b66083be9350cc5b997d3bd1b88937d5dcf0c685e8efcd2d900ad202g.jpg)](http://www.mediafire.com/imageview.php?quickkey\u003dwwzigrra6xjc1ng\u0026thumb\u003d5 \"External link\")   \n"
    },
    {
      "id": "122475",
      "timestamp": "2011-02-16T09:42:09+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Simply because of his ability (and yours) to always come up with sometimes convoluted solutions... Not the kind I would think of at first, but they always prove incredibly clever... and they work.  \n\u003e Because I suppose you both equally impress me (no offense to all the other immensely clever guys on this forum)  \nWell, **Dietmar** ![:worship:](http://reboot.pro/public/style_emoticons/default/worship.gif) is an alltogether another \"beast\" from me.  \nI very rarely \"invent\" something, as he did several times, the most I do is to find ways and tricks and tools to solve details or find the workaround to achieve a given result, hence \"The Finder\". :wink:  \nOther activities I usually indulge in:  \n\n* general nuisance to everyone else :wink:\n* passing *everything* through Occam\u0027s Razor ![:diablo:](http://reboot.pro/public/style_emoticons/default/diablo.gif)\n* provide when needed layman\u0027s (usually carpenter\u0027s :wink:) comparisons\n* express from time to time hairy reasonings in order to have other peeps step down from pedestals\n* put together some half-@§§ed batches\n\nall in all very little \"creative\" work :blush:, as compared with what **Dietmar** provided.  \n\n\u003e If my ignorance needed be put on display, I have to admit I didn\u0027t even know echoo.com was referring to something else... I thought it was just a random name you chose, and for me it sounded all the same as *Winnie%1.com (the* 8.3 name for \"*Winnie the Pooh.com\" , you have figured it out)*   \nYou couldn\u0027t possibly know the origin of echoo.com :smile:.   \nBUT the 8.3 name for \"Winnie the Pooh.com\" is obviously Winnie\\~1.com (tilde, NOT percentage). ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif)   \n\n\u003e Are newlines an acceptable form of whitespace in the dummy **WinNT.SIF** ? Would two manually typed commands suffice?  \n\u003e\n\u003e ```\n\u003e echo.\u003ewinnt.sif\n\u003e\n\u003e for /l %a in (1,1,15) do @type winnt.sif\u003e\u003ewinnt.sif\n\u003e\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nI don\u0027t know. ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif)  \nMaybe, the problem with new lines is that they are actually two characters (CR+LF), so, if you write an odd number of characters you may have LF without CR, and this may create a parsing error. ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122479",
      "timestamp": "2011-02-16T10:10:15+00:00",
      "author": "karyonix",
      "content": "Why don\u0027t you just copy the correct WINNT.SIF into floppy image ?   \nThere is no need for dummy file.   \n"
    },
    {
      "id": "122481",
      "timestamp": "2011-02-16T10:35:53+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Why don\u0027t you just copy the correct WINNT.SIF into floppy image ?   \n\u003e There is no need for dummy file.  \nWell it\u0027s something **ktp** originated, I have NO idea WHY it is used:  \n[http://www.msfn.org/...666#entry889666](http://www.msfn.org/board/topic/137714-install-xp-from-a-ram-loaded-iso-image/page__st__60__p__889666#entry889666 \"External link\")  \n\nWhat provoked this abnormal OT was simply that the OP said \"use a 65,536 bytes file full of spaces\" without providing a way to create it.  \n\npeter or some other Admin may want to move all this \"65,536 bytes spaces\" related posts to another thread....  \n\n![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)  \nWonko   \n"
    },
    {
      "id": "122484",
      "timestamp": "2011-02-16T10:52:25+00:00",
      "author": "Doodoo",
      "content": "\u003e Why don\u0027t you just copy the correct WINNT.SIF into floppy image ?   \n\u003e There is no need for dummy file.  \nThe way I understand it, the idea is to be able to use multiple answer files. But given the size of a floppy image, you could just as well have several ones, each with a different WINNT.SIF within them, and just mount the one you want from menu.lst   \n"
    },
    {
      "id": "122487",
      "timestamp": "2011-02-16T11:03:10+00:00",
      "author": "Doodoo",
      "content": "\u003e I found that WinVBlock virtual floppy and virtual CD drive only survive in GUI mode when they are defined in RAM or on local harddisk.  \nAnd yet it works fine for me..... So it\u0027s not a systematic behaviour, but it looks like the method is not universal...  \nI didn\u0027t realise it could be important, but note from my menu.lst that the virtual floppy is defined in RAM indeed. Only the ISO is directly mapped from USB.   \n"
    },
    {
      "id": "122488",
      "timestamp": "2011-02-16T11:12:16+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e And yet it works fine for me..... So it\u0027s not a systematic behaviour, but it looks like the method is not universal...  \n\u003e I didn\u0027t realise it could be important, but note from my menu.lst that the virtual floppy is defined in RAM indeed. Only the ISO is directly mapped from USB.  \nI strongly suspect that it is connected with BIOS/hardware, compare with this note by **cdob** :  \n[http://www.911cd.net...pic\u003d22473\\\u0026st\u003d37](http://www.911cd.net/forums//index.php?showtopic\u003d22473\u0026st\u003d37 \"External link\")  \n\u003e Some strange machines may require changed files, e.g. Dietmar\u0027s ntdetect.com.  \n\u003e [http://www.911cd.net...ndpost\\\u0026p\u003d153804](http://www.911cd.net/forums//index.php?s\u003d\u0026showtopic\u003d22636\u0026view\u003dfindpost\u0026p\u003d153804 \"External link\")  \n\u003e Or USB drivers from XP SP1, SP3, XP Embedded or 2003.  \n\u003e Plain XP SP2 files does work at a friendly machine.\n\nCompare with this also:  \n\u003chttp://reboot.pro/13139/\u003e  \n\u003chttp://reboot.pro/13139/page__st__17\u003e  \n\u003e I understand:  \n\u003e some USB drive relating settings are missing at default installation media.  \n\u003e It may be possible to add this settings to a XP installation media.  \n\u003e However this XP installation media would match this USB drive only.  \n\u003e Details are misssing.\n\n![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)  \nWonko   \n"
    },
    {
      "id": "122491",
      "timestamp": "2011-02-16T12:32:54+00:00",
      "author": "wimb",
      "content": "\u003e And yet it works fine for me..... So it\u0027s not a systematic behaviour, but it looks like the method is not universal...  \n\u003e I didn\u0027t realise it could be important, but note from my menu.lst that the virtual floppy is defined in RAM indeed. Only the ISO is directly mapped from USB.  \nThat makes the difference **DooDoo** ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)   \n\nThe WinVBlock virtual floppy drive must be defined in RAM by using --mem option.  \nIn that case the WinVBLock virtual CD drive with XP Setup ISO can be located on USB ![:diablo:](https://reboot.pro/public/style_emoticons/default/diablo.gif)   \n\nThis works OK for me for Install of XP from USB using XP Setup ISO file on USB  \n\n```\ntitle 1 Start Windows XP setup - XP3_11_1.iso\n\nmap --mem /winvblock.ima (fd0)\n\nmap --mem /winvblock.ima (fd1)\n\nmap /XP3_11_1.iso (0xff)\n\ncheckrange 0x80 read 0x8280 \u0026\u0026 map (hd0) (hd1)\n\ncheckrange 0x80 read 0x8280 \u0026\u0026 map (hd1) (hd0)\n\nmap --hook\n\nchainloader (0xff)\n\n\n\ntitle 2 Continue Windows XP setup\n\nmap --mem /winvblock.ima (fd0)\n\nmap --mem /winvblock.ima (fd1)\n\nmap /XP3_11_1.iso (0xff)\n\ncheckrange 0x80 read 0x8280 \u0026\u0026 map (hd0) (hd1)\n\ncheckrange 0x80 read 0x8280 \u0026\u0026 map (hd1) (hd0)\n\nmap --hook\n\nchainloader (hd0)+1\n\n```\n\n\u003cbr /\u003e\n\n[![D_CD_USB.png](http://reboot.pro/uploads/monthly_02_2011/post-9517-0-79096700-1297859544_thumb.png)](http://reboot.pro/uploads/monthly_02_2011/post-9517-0-79096700-1297859544.png \"D_CD_USB.png - Size: 103.81KB\"){#ipb-attach-url-11825-0-64651800-1676066621}   \n\n:blush:   \n"
    },
    {
      "id": "122498",
      "timestamp": "2011-02-16T13:05:45+00:00",
      "author": "Doodoo",
      "content": "\u003e That makes the difference **DooDoo** ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)   \nThat\u0027s what they call serendipity. Please don\u0027t give me any credit for that, but I\u0027m really glad it now works for you too ![:diablo:](https://reboot.pro/public/style_emoticons/default/diablo.gif)  \nIt would be nice to have feedback from other people to know if this method can be considered as universal or if it just \"happens to work\" on a few machines.  \n\nAlso, to be fair, I noticed that setup is significantly slower compared to direct install from USB, using [WinSetupFromUSB](http://www.msfn.org/board/topic/120444-how-to-install-windows-from-usb-winsetupfromusb-with-gui/ \"External link\") (on the same stick). Any ideas why ?  \nSo far I\u0027ve always used [WinSetupFromUSB](http://www.msfn.org/board/topic/120444-how-to-install-windows-from-usb-winsetupfromusb-with-gui/ \"External link\"), but I was keen to try the ISO method because I don\u0027t like to have 7000 files on my stick, plus it takes forever to copy them. It\u0027s so much faster to just copy the ISO, although the overall amount of data is the same indeed :blush:. On the downside, you have to make sure the ISO is contiguous.... Which can be tricky on a nearly full stick.  \n\nSlightly out of topic, but could you explain how you run DriverForge directly during setup ?  \nI\u0027m only familiar with the manual way, i.e. after XP is installed and once you\u0027re logged on.   \n"
    },
    {
      "id": "122505",
      "timestamp": "2011-02-16T14:20:26+00:00",
      "author": "wimb",
      "content": "Section 4 in [http://www.911cd.net...showtopic\u003d21883](http://www.911cd.net/forums//index.php?showtopic\u003d21883 \"External link\")  \n\n\u003e For Auto Use of DriverForge at T-9 you can place uncompressed drivers (or folders) in Drivers of $OEM$  \n\u003e and then Uncomment two rules by removing ; in U_XP_SET\\\\USB_XP_Setup\\\\w_sif\\\\winnt.sif file (see below).  \n\u003e You can also change driverforge.ini to your needs if you want to use drivers on a different location,  \n\u003e or you may even use the compressed DriverPacks.  \n\u003e\n\u003e \\[SetupParams\\]  \n\u003e UserExecute \u003d \"%SystemDrive%\\\\INSTALL\\\\SetupPar.cmd\"  \n\u003e\n\u003e Method 2 can be very fast because you can just use in Drivers your well known set of required drivers.  \n\nIf you download U_XP_SET then you find everything there ....  \n\n![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)   \n"
    },
    {
      "id": "122510",
      "timestamp": "2011-02-16T14:42:33+00:00",
      "author": "wimb",
      "content": "To improve speed:  \nAlternatively you can boot from RAMDISK with 7 PE or LiveXP (RAMDISK loaded from HDD),   \nor you can boot from USB with our new full XP Image file  \nand mount your xp3_11_1.iso ISO file in ImDisk and use WinNTSetup2_x86.exe  \nto prepare Target partition for Install of XP  \n[http://www.msfn.org/...-winntsetup-v2/](http://www.msfn.org/board/topic/149612-winntsetup-v2/ \"External link\")  \n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "122513",
      "timestamp": "2011-02-16T14:53:19+00:00",
      "author": "Doodoo",
      "content": "\u003e Alternatively you can boot from RAMDISK with 7 PE or LiveXP (RAMDISK loaded from HDD),   \n\u003e or you can boot from USB with our new full XP Image file  \n\u003e and mount your xp3_11_1.iso ISO file in ImDisk and use WinNTSetup2_x86.exe  \n\u003e to prepare Target partition for Install of XP  \n\u003e [http://www.msfn.org/...-winntsetup-v2/](http://www.msfn.org/board/topic/149612-winntsetup-v2/ \"External link\")  \nIn essence you boot XP from USB, in order to install XP from USB ?  \n\nBack to DriverForge again, what is the difference between :  \n\n* adding DriverForge to XP setup and pointing to the OEM folder where the compressed drivers are\n* leaving DriverPacks do the job, which runs presetup.cmd and also points to the same OEM folder\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "122516",
      "timestamp": "2011-02-16T15:04:20+00:00",
      "author": "MedEvil",
      "content": "\u003e Also, to be fair, I noticed that setup is significantly slower compared to direct install from USB, using [WinSetupFromUSB](http://www.msfn.org/board/topic/120444-how-to-install-windows-from-usb-winsetupfromusb-with-gui/ \"External link\") (on the same stick). Any ideas why ?\nCD-drives run in PIO mode during setup, while HDD get UDMA support right from the start.  \nBut if that\u0027s **the** reason or if simply the additional needed translation eats up too much performance, is hard to say.  \n\n\u003cbr /\u003e\n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "122520",
      "timestamp": "2011-02-16T15:20:14+00:00",
      "author": "wimb",
      "content": "\u003e In essence you boot XP from USB, in order to install XP from USB ?  \nYes, why not. You boot from full XP HDD Image file and you mount xpsp3.iso XP Setup ISO file  \nand prepare Target drive for Install of XP.  \n\nOn the other hand:  \nBoot with PE from RAMDISK loaded from HDD and then use IMG_XP_Restore.exe to restore Universal full XP Image file  \nis for speed far superior compared to Install of XP followed by Install of Apps.   \nYou can boot PE in 30 sec and do a Restore in 4 minutes (XP + all Apps) .  \n\nThe point is that you can use DriverForge at T-9, that is when Install is almost finished.  \nAt that point you can install perfectly and very fast your missing well known audio and video driver.  \nAt reboot everything is working ....   \nIt is better NOT to install audio and video driver in the beginning of XP Setup.   \n"
    },
    {
      "id": "122529",
      "timestamp": "2011-02-16T16:09:52+00:00",
      "author": "Doodoo",
      "content": "\u003e The point is that you can use DriverForge at T-9, that is when Install is almost finished.  \n\u003e At that point you can install perfectly and very fast your missing well known audio and video driver.  \n\u003e At reboot everything is working ....   \n\u003e It is better NOT to install audio and video driver in the beginning of XP Setup.  \nOK, so what you\u0027re saying is that because multimedia drivers are very big, DriverForge is useful because it allows you to install ONLY the SPECIFIC drivers for the machine you\u0027re working on.  \nBut my question is, when you point DriverForge to compressed DriverPacks, these ones are NOT specific. In this case, is the effect of DriverForge different from that of presetup.cmd created by DP_Base ?   \n"
    },
    {
      "id": "122538",
      "timestamp": "2011-02-16T16:56:01+00:00",
      "author": "wimb",
      "content": "\u003e But my question is, when you point DriverForge to compressed DriverPacks, these ones are NOT specific. In this case, is the effect of DriverForge different from that of presetup.cmd created by DP_Base ?  \nI would prefer to have Chipset + Processor + MassStorage + LAN + WLAN drivers   \navailable in the very early stage of GUI mode of Install of XP as offered by presetup.cmd  \nDriverForge is launched at T-9, that is too late for proper install of these drivers in XP.   \n"
    },
    {
      "id": "122540",
      "timestamp": "2011-02-16T17:04:08+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e DriverForge is launched at T-9, that is too late for proper install of these drivers in XP.  \nJust to clarify to the less experienced readers, here is a nice timeline:  \n[http://unattended.ms...xp/view/web/13/](http://unattended.msfn.org/unattended.xp/view/web/13/ \"External link\")  \n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122542",
      "timestamp": "2011-02-16T17:52:06+00:00",
      "author": "Doodoo",
      "content": "\u003e Just to clarify to the less experienced readers\nHehe that\u0027s exactly the kinda reader I am  \n\n\u003e here is a nice timeline:  \n\u003e [http://unattended.ms...xp/view/web/13/](http://unattended.msfn.org/unattended.xp/view/web/13/ \"External link\")  \nVery interesting Wonko ! I\u0027ve learnt something today again.  \n\nOK let me ask a few more questions.... Maybe I\u0027m a bit thick, but there is still something I don\u0027t get. I understand the timing is different, presetup.cmd is launched early, which is great for chipset, LAN, WAN drivers. On the other hand, DriverForge is launched later, which is great for multimedia drivers.  \n\nBut is the fundamental principle of presetup.cmd and DriverForge the same ? To me it sounds like:  \n\n* presetup.cmd creates a \"library\" of drivers and makes all drivers in a compressed DriverPack (potentially) available to Windows\n* DriverForge somehow selects, within a compressed DriverPack, ONLY the SPECIFIC driver for the current hardware.\n\nIs this correct ? Another way to ask the same question would be: suppose I install XP, some drivers (chipset, LAN, WAN) installed during setup with presetup.cmd and some others (audio, video) installed during setup by DriverForge; then I create an image with IMG_XP_Create, and patch it with USB_XP_Fix in order to boot it direct from USB on many different machines:  \n\n* will the drivers for all devices covered in the DriverPacks processed by presetup.cmd (chipset, LAN, WAN) be automatically installed ?\n* will the drivers for all devices covered in the DriverPacks processed by DriverForge (audio, video) be automatically installed ?\n\nOr is this all comple rubbish and I just totally missed the point ?   \n"
    },
    {
      "id": "122548",
      "timestamp": "2011-02-16T18:08:28+00:00",
      "author": "wimb",
      "content": "\u003e \u003cbr /\u003e\n\u003e\n\u003e * will the drivers for all devices covered in the DriverPacks processed by presetup.cmd (chipset, LAN, WAN) be automatically installed ?\n\u003e * will the drivers for all devices covered in the DriverPacks processed by DriverForge (audio, video) be automatically installed ?\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\npresetup.cmd makes the library of drivers available, but XP will only install the ones that correspond to the hardware.  \nAlso DriverForge will only install the drivers that correspond to the hardware.  \nIt means if you go to other machine, that the complete library is not installed and is NOT used automatically.  \n\nOf course you can let DriverForge use such library to install any missing drivers after that XP has adjusted itselves in 2-3 min to the new hardware (a silent and automatic process, so really wait a few minutes).  \nI prefer then to have 2.6 GB folder D available on USB-harddisk with all extracted XP x86 DriverPacks.  \nSo I point DriverForge for Post Install to folder D and any missing drivers are installed in about 2 minutes.   \nThe process is fast since you don\u0027t need to unpack the drivers. There is enough space on USB-harddisk ....   \n"
    },
    {
      "id": "122551",
      "timestamp": "2011-02-16T18:32:20+00:00",
      "author": "Doodoo",
      "content": "Thanks for your time and your patience, Wimb. I really appreciate ![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)  \nBut I\u0027m afraid I\u0027m still a bit lost  \n\n\u003e It means if you go to other machine, that the complete library is not installed and is NOT used automatically.  \nFrom this I understand that the library of drivers created by presetup.cmd and DriverForge during the initial XP setup **WILL NOT** be used if the image is booted on a different hardware. If this is true, then why bother with integration of DriverPacks to XP setup ? Post-install does the same thing.  \n\n\u003e any missing drivers after that XP has adjusted itselves in 2-3 min to the new hardware (a silent and automatic process, so really wait a few minutes).\nFrom this I understand that the library of drivers created by presetup.cmd and DriverForge during the initial XP setup **WILL** be used if the image is booted on a different hardware, and it effectively takes a few minutes for all drivers to be found and installed. Or is this \"adjustment\" only relevant for drivers included in Windows ? (i.e. not for the DriverPacks)   \n"
    },
    {
      "id": "122586",
      "timestamp": "2011-02-17T08:55:46+00:00",
      "author": "davlak",
      "content": "Doodoo! your tutorial is really NICE!  \nI\u0027m interested into testing if it works with DP\u0027s KTD enabled AND more WINSETUP folders each renamed containing different ISOs. i.e. : 2003 - xp home - xp pro etc.  \nI think it\u0027s impossible to use a single WINSETUP folder because of the winnt.sif inside, is it right?   \n"
    },
    {
      "id": "122590",
      "timestamp": "2011-02-17T09:29:44+00:00",
      "author": "Doodoo",
      "content": "\u003e Doodoo! your tutorial is really NICE!  \nThanks for the feedback !! I would not pretend this is a tutorial, I don\u0027t have the knowledge nor the experience to write a tutorial. I just wanted to \"share my experience\", and as you may have noticed, I am probably asking more questions in this thread than I am giving answers.  \n\n\u003e I\u0027m interested into testing if it works with DP\u0027s KTD enabled  \nI think you\u0027re not learning anything here, but I have learnt a lot in the last hours. Having experimented a bit last night, further to Wimb\u0027s very useful inputs, I now understand that neither presetup.cmd nor DriverForge create **persistent** libraries of drivers, in the sense that when the image is booted on a different hardware, Windows would be able the scan the libraries and install the required drivers. However, you would effectively allow this behaviour with \"KTD enabled\", right ? Other than it will bloat your image and make it big, there is no reason why it wouldn\u0027t work (this is what all ignorants say !)  \n\n\u003e AND more WINSETUP folders each renamed containing different ISOs. i.e. : 2003 - xp home - xp pro etc.  \n\u003e I think it\u0027s impossible to use a single WINSETUP folder because of the winnt.sif inside, is it right?  \nNo I think you can have a single WINSETUP folder, with multiple ISOs inside, i.e. : 2003 - xp home - xp pro etc.  \nThen, you have two options of what you can put in this folder:  \n\n* either you put one virtual floppy image, and multiple answer files, say WINNT.SI1, WINNT.SI2, etc... Then you create seperate entries in your menu.lst, to copy the wanted one (say WINNT.SI3) in the virtual floppy drive (which replaces the dummy file).\n\nActually I\u0027ve just realised this requires the file name to be changed as it is being copied (the destination must always be named WINNT.SIF). Is this feasible with grub4dos dd ?  \n\n* or you put multiple virtual floppy images, each containing a different answer file (all properly named WINNT.SIF, no need to distinguish them here), and again you create seperate entries in your menu.lst, to load the wanted image.\n\nPresumably, the same answer file cannot be used for all windows flavours (2003, XP, etc...), or can it ?  \nTherefore, because all combinations are not allowed, you probably need to organise things a bit better. For example within the WINSETUP folder, you can create subfolders to contain flavour-specific versions of the answer files (say, folders SIF.XP, SIF.2003, etc...). Then you can boot an ISO, and select the answer file in the appropriate sub-folder.  \nBut don\u0027t take everything I say for granted. This is only conceptual, and I haven\u0027t tried it myself. So I wouldn\u0027t swear it is all going to work ![:confused1:](https://reboot.pro/public/style_emoticons/default/confused1.gif)   \n"
    },
    {
      "id": "122593",
      "timestamp": "2011-02-17T09:44:58+00:00",
      "author": "Doodoo",
      "content": "\u003e For example within the WINSETUP folder, you can create subfolders to contain flavour-specific versions of the answer files (say, folders SIF.XP, SIF.2003, etc...). Then you can boot an ISO, and select the answer file in the appropriate sub-folder.  \nTo take the concept further, you can probably create a submenu.lst in each folder SIF.XP, SIF.2003, etc...  \nThis submenu.lst would contain a number of entries, each corresponding to an answer file of the current sub-folder.  \nAt the top, the main menu.lst would only allow you to select between flavours XP, 2003, etc... and the sub-menu would in a second step allow you to select the answer file.   \n"
    },
    {
      "id": "122598",
      "timestamp": "2011-02-17T11:16:18+00:00",
      "author": "wimb",
      "content": "\u003e I\u0027m interested into testing if it works with DP\u0027s KTD enabled   \nYes, that can be quite useful.  \nYou can select to Keep The Drivers for Chipset + Processor + MassStorage ( + LAN )  \nThat will only use about 70 MB (or 135 MB) which is acceptable and provides a lot of extra useful driver support.  \n\nIn that case the DevicePath is set accordingly in key  \nHKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\Microsoft\\\\Windows\\\\CurrentVersion   \n\nso that XP can automatically make use of these drivers for adjusting to New Hardware. ![:confused1:](https://reboot.pro/public/style_emoticons/default/confused1.gif)   \n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "122603",
      "timestamp": "2011-02-17T12:05:01+00:00",
      "author": "Doodoo",
      "content": "Just a few questions for my general culture ![:confused1:](https://reboot.pro/public/style_emoticons/default/confused1.gif)  \n\n\u003e You can select to Keep The Drivers for Chipset + Processor + MassStorage ( + LAN )  \nHas KTD for MassStorage the same effect as \"Add text mode drivers\" ? For an ignorant like me, it sounds like the same thing, in the sense that it creates a persistent library of drivers, but I might be missing a few subtleties....  \n\nAlso, it has previously been said that :  \n\n\u003e I would prefer to have Chipset + Processor + MassStorage + LAN + WLAN drivers   \n\u003e available in the very early stage of GUI mode of Install of XP as offered by presetup.cmd  \n\u003e DriverForge is launched at T-9, that is too late for proper install of these drivers in XP.  \n\n\u003e It is better NOT to install audio and video driver in the beginning of XP Setup.  \nIf i\u0027m not mistaken, I now understand that neither presetup.cmd nor DriverForge create persistent libraries of drivers. So from this point of view, it\u0027s the same thing. But I would like to understand:  \n\n* why it is a bad idea to use presetup.cmd to install **audio** and **video** at the **beginning** of XP setup ? To me it seems that Driverforge will do exactly the same job, except at a **later**stage of XP setup.\n\n\u003c!-- --\u003e\n\n* why is it a bad idea to use DriverForge to install**Chipset + Processor + MassStorage** at the **end** of XP setup ? To me it seems that presetup.cmd will do exactly the same job, except at an **earlier**stage of XP setup.\n\nAll drivers can always be installed post-setup anyway, so why is timing important ? How can it be \"too early\" or \"too late\" during setup for proper install of some drivers ?   \n"
    },
    {
      "id": "122616",
      "timestamp": "2011-02-17T18:31:08+00:00",
      "author": "wimb",
      "content": "\u003e Yes, that can be quite useful.  \n\u003e You can select to Keep The Drivers for Chipset + Processor + MassStorage ( + LAN )  \n\u003e That will only use about 70 MB (or 135 MB) which is acceptable and provides a lot of extra useful driver support.  \n\u003e\n\u003e In that case the DevicePath is set accordingly in key  \n\u003e HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\Microsoft\\\\Windows\\\\CurrentVersion   \n\u003e\n\u003e so that XP can automatically make use of these drivers for adjusting to New Hardware. ![:thumbup:](https://reboot.pro/public/style_emoticons/default/thumbup.gif)   \n\u003e\n\u003e ![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nI can confirm that this approach is extremely useful ![:lol:](https://reboot.pro/public/style_emoticons/default/laugh.png) :cool: :cool:   \nfor booting Universal XP Image file from USB-harddisk and using WinVBlock driver.  \nHaving all Chipset and Processor and MassStorage drivers available  \nmakes it for XP very easy to adapt to new and very different hardware.   \n\n[http://www.911cd.net...showtopic\u003d23553](http://www.911cd.net/forums//index.php?showtopic\u003d23553 \"External link\")  \n\u003chttp://reboot.pro/13731/\u003e  \n\nAny missing Video + Audio + WLAN drivers are subsequently easily installed in 2 minutes   \nby using DriverForge and pointing to the 2.6 GB folder D on USB-harddisk with all extracted DriverPacks.  \n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)   \n"
    },
    {
      "id": "122640",
      "timestamp": "2011-02-18T07:25:41+00:00",
      "author": "wimb",
      "content": "\u003e Has KTD for MassStorage the same effect as \"Add text mode drivers\" ? For an ignorant like me, it sounds like the same thing, in the sense that it creates a persistent library of drivers, but I might be missing a few subtleties....  \nTotally different.  \nMassStorage TXT-mode drivers are needed in early mode of TXT-mode of XP Setup to allow you to detect your MassStorage device,   \nso that you can select where to install and let XP setup copy the files (otherwise harddisk would be invisible).  \nSo this mechanism only loads more boot drivers that allow XP Setup to see your harddisk.  \n\nIn GUI mode there is initially Install of devices which is made possible   \nbecause presetup.cmd has first unpacked the ChipSet and MassStorage DriverPacks to folder C:\\\\D and has updated DevicePath in  \nHKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\Microsoft\\\\Windows\\\\CurrentVersion   \nso that XP Setup can make use of it and install the ones that correspond to your hardware (other drivers are not installed).  \n\nNow with KTD you can decide to let DPsFnshr after Reboot to keep some of the unpacked DriverPacks and move them to C:\\\\WINDOWS\\\\DriverPacks  \nAt the same time DevicePath is updated accordingly.  \nNOW you have your desired DriverStore in XP that will be used to install drivers for new hardware found,  \nlike what occurs when you boot with XP Image file on new hardware.  \n\nFor the timing of Install I can say that offering the Chipset and MassStorage drivers too late would mean   \nthat XP Setup has in GUI-mode no access to your harddisk.  \nOffering Audio and Video drivers too early would mean a lot of fixing as being done by DPsFnshr.exe on Reboot for Desktop  \nSee the DriverPack_\\*. ini files.  \nIt is better to wait a bit and let DriverForge install your specific Audio and Video driver at T-9 when XP Setup has almost finished.  \n\nAny missing Audio and Video or WLAN driver can then be installed from XP Desktop   \nby letting DriverForge search in 2.6 GB folder D on USB-harddisk with all unpacked DriverPacks.  \n\n\u003cbr /\u003e\n\n![:lol:](https://reboot.pro/public/style_emoticons/default/laugh.png)   \n"
    },
    {
      "id": "122647",
      "timestamp": "2011-02-18T09:28:56+00:00",
      "author": "Doodoo",
      "content": "Thanks for your time and all the information you provide, Wimb !! ![:lol:](https://reboot.pro/public/style_emoticons/default/laugh.png)  \n\n\u003e MassStorage TXT-mode drivers are needed in early mode of TXT-mode of XP Setup to allow you to detect your MassStorage device,   \n\u003e so that you can select where to install and let XP setup copy the files (otherwise harddisk would be invisible).  \n\u003e So this mechanism only loads more boot drivers that allow XP Setup to see your harddisk.  \nThat is absolutely crystal clear, but I\u0027ve always assumed (maybe wrongly) that as soon as the HDD can be seen by the TXT-mode part of XP setup, it will also be seen by the GUI-mode part.  \n\n\u003e For the timing of Install I can say that offering the Chipset and MassStorage drivers too late would mean   \n\u003e that XP Setup has in GUI-mode no access to your harddisk.  \nThis also seem to imply that TXT-mode and GUI-mode parts of XP setup need different drivers. But imagine a plain vanilla XP setup (no driver packs included), to be installed on a SATA HDD. Isn\u0027t it enough to provide drivers with the F6 floppy ? I mean \"enough\" in the sense that both TXT-mode and GUI-mode parts of XP setup will use that very same driver.  \n\nTherefore it sounds to me as if integrating MassStorage TXT-mode drivers to XP setup is definately a must-have, but all the rest can be installed as late as desired (included post-install); however I understand that too early is not a good thing.   \n"
    },
    {
      "id": "122653",
      "timestamp": "2011-02-18T11:15:01+00:00",
      "author": "wimb",
      "content": "After using DriverForge then the DevicePath settings of KTD are lost,  \nsince DriverForge will Set DevicePath to what it needs.  \nIt is a good idea to Reset DevicePath to the KTD values by using the DevicePath_Reset_KTD.reg tweak  \n\nI found also that in some cases intelppm service was loosing its preferred Start\u003d3 value  \ne.g. Start\u003d1 was installed at Intel machine, giving BSOD 7E when booting on AMD machine.  \n\nUsbBootWatcher can be used to keep the Start\u003d3 value  \nAdd rules for intelppm service in UsbBootWatcher.conf   \n\nBoth changes will be added to next version of IMG_XP package.   \n"
    },
    {
      "id": "122657",
      "timestamp": "2011-02-18T12:53:57+00:00",
      "author": "Doodoo",
      "content": "\u003e After using DriverForge then the DevicePath settings of KTD are lost,  \n\u003e since DriverForge will Set DevicePath to what it needs.  \n\u003e It is a good idea to Reset DevicePath to the KTD values by using the DevicePath_Reset_KTD.reg tweak  \nIsn\u0027t that something which should ideally be fixed in DriverForge itself ? It should update but not overwrite DevicePath, shouldn\u0027 it ?  \n\n\u003e I found also that in some cases intelppm service was loosing its preferred Start\u003d3 value  \n\u003e e.g. Start\u003d1 was installed at Intel machine, giving BSOD 7E when booting on AMD machine.  \n\u003e\n\u003e UsbBootWatcher can be used to keep the Start\u003d3 value  \n\u003e Add rules for intelppm service in UsbBootWatcher.conf  \nThis has also been reported here: [http://reboot.pro/98...post__p__121965](http://reboot.pro/9830/page__view__findpost__p__121965 \"\") \\[EDIT: no, I was completely wrong, this is a different issue\\]  \nAgain, isn\u0027t that something that should ideally be fixed in UsbBootWatcher ? Unless I misunderstand the cause / problem / solution ![:lol:](https://reboot.pro/public/style_emoticons/default/laugh.png)   \n\n**Edited by Doodoo, 18 February 2011 - 01:52 PM.**\n"
    },
    {
      "id": "122659",
      "timestamp": "2011-02-18T13:13:13+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Again, isn\u0027t that something that should ideally be fixed in UsbBootWatcher ? Unless I misunderstand the cause / problem / solution ![:lol:](https://reboot.pro/public/style_emoticons/default/laugh.png)  \nUsbbootwatcher is a tool in your hands.  \nIt has a configuration file to tell it WHAT it should do.  \nChoose a configuration, but choose it ***wisely*** .  \n[http://www.imdb.com/...uotes?qt0357926](http://www.imdb.com/title/tt0097576/quotes?qt0357926 \"External link\")  \n\u003e Grail Knight: But choose wisely, for while the true Grail will bring you life, the false Grail will take it from you.  \nHere:  \n[http://www.911cd.net...pic\u003d22473\\\u0026st\u003d23](http://www.911cd.net/forums//index.php?showtopic\u003d22473\u0026st\u003d23 \"External link\")  \n\n:cool:  \nWonko   \n"
    },
    {
      "id": "122665",
      "timestamp": "2011-02-18T13:45:57+00:00",
      "author": "wimb",
      "content": "\u003e Isn\u0027t that something which should ideally be fixed in DriverForge itself ? It should update but not overwrite DevicePath, shouldn\u0027 it ?  \nYes, I agree, but DriverForge 4.5.4 overwrites DevicePath with what it needs and leaves it like that ....  \nSo it is really advised to Reset DevicePath, so that XP default can make use of the DriverPacks store in WINDOWS  \nI don\u0027t know if it is the same in later version 5.0 ![:ph34r:](https://reboot.pro/public/style_emoticons/default/scared9.gif) Have to check that ....  \n\n\u003e This has also been reported here: [http://reboot.pro/98...post__p__121965](http://reboot.pro/9830/page__view__findpost__p__121965 \"\")  \n\u003e Again, isn\u0027t that something that should ideally be fixed in UsbBootWatcher ? Unless I misunderstand the cause / problem / solution ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)  \nWell I was a bit to early, because I think intelppm Start\u003d3 in UsbBootWatcher.conf does NOT work reliable ...  \n\nFirst I install XP on AMD machine and then use USB_XP_Fix.exe to fix XP Image file copied to USB.  \nWhen I next boot from USB on Intel machine then on Install of CPU the intelppm Service is set to Start\u003d1  \nI need to change that to Start\u003d3 since otherwise next boot from USB on AMD machine will give BSOD 7E  \n\nI can use registry tweak online or use USB_XP_Fix.exe again offline to set intelppm Start\u003d3  \n\nAnyway that is also something that needs more attention ....  \n\n:wink:   \n"
    },
    {
      "id": "122699",
      "timestamp": "2011-02-18T18:42:14+00:00",
      "author": "Sha0",
      "content": "\u003e ...I\u0027ve always assumed (maybe wrongly) that as soon as the HDD can be seen by the TXT-mode part of XP setup, it will also be seen by the GUI-mode part...\nI believe that in the text-mode portion of Windows XP/2003 installation, you are booted from the installation medium. I believe that in the GUI-mode portion of Windows XP/2003 isntallation, you are booted from the installed-to medium. I believe that \"F6\" drivers (drivers loaded during the text-mode portion) will be injected into the Windows installation, though I am not sure of the criteria (all F6 drivers or just some). This is, in fact, the nature of a current outstanding bug with WinVBlock: When the text-mode portion prepares the Windows installation for the GUI-mode portion, it injects the WinVBlock driver with a \"wvblk32\" service name, instead of the preferred \"WinVBlock\" service name. Disclaimer: I could be wrong.   \n"
    },
    {
      "id": "122735",
      "timestamp": "2011-02-19T07:37:03+00:00",
      "author": "wimb",
      "content": "I did some analysis of the situation just after TXT-mode has finished and before GUI mode has to begin.  \n\nThe WinVBlock driver is injected in WINDOWS\\\\OemDir which has oemscs01.inf   \nand is specified in \\[OemInfFiles\\] section of WINDOWS\\\\system32\\\\$winnt$.inf  \n$winnt$.inf contains in fact the setup info as specified in winnt.sif file plus this \\[OemInfFiles\\] section specified in OemDrivers \u003d \"OemInfFiles\"  \nWVBlk32.Sys is already present in WINDOWS\\\\system32 and registry contains wvblk32 Service  \n\nTXT-mode boots with **all** MassStorage drivers to support all kind of hardware and   \nthen Hardware detect (NTDETECT.COM) determines which drivers can be used and presents what partition can be used.  \nOnly the **needed** MassStorage drivers are copied in second part of TXT-mode to WINDOWS\\\\system32\\\\drivers  \nGUI-mode is then capable to boot since it has the required MassStorage and WVBlk32.sys driver available.  \n\nSo it means that the C:\\\\WINDOWS\\\\DriverPacks store as made by the KTD option,  \nis the way to support all kind of hardware, since in that case **all** MassStorage and Chipset drivers are available for XP to adapt to new hardware.   \n"
    },
    {
      "id": "122909",
      "timestamp": "2011-02-21T10:10:09+00:00",
      "author": "Doodoo",
      "content": "\u003e I believe that in the text-mode portion of Windows XP/2003 installation, you are booted from the installation medium. I believe that in the GUI-mode portion of Windows XP/2003 isntallation, you are booted from the installed-to medium. I believe that \"F6\" drivers (drivers loaded during the text-mode portion) will be injected into the Windows installation, though I am not sure of the criteria (all F6 drivers or just some).   \nMany thanks Shao for the clarification ![:lol:](https://reboot.pro/public/style_emoticons/default/laugh.png) This is more or less the concept I had in mind, but it\u0027s easy to live all one\u0027s life with misconceptions ;-)  \nBravo Wimb ![:confused1:](https://reboot.pro/public/style_emoticons/default/confused1.gif) I\u0027ve seen you keep up the great work and have come up with yet another release of IMG_XP !!!  \n\nOn a completely different note, I just wanted to mention that the menu.lst in my very first post should perhaps be slightly modified, when installing XP to an image file. On some machines, the wanted partition in the mounted image does not get assigned driver letter C.  \nIn this case Karyonix has suggested a simple workaround [here](http://reboot.pro/8804/page__view__findpost__p__122617 \"\")  \n\nThe following can optionally be added (in the already optional part of menu.lst), after map /XP-1.img (hd0)  \n\n```\n# Hide other disks, so partition in virtual disk will get C letter. \n\nmap --harddrives\u003d1\n\n```\n\nIt would have been nice to edit the first post but for some reason it won\u0027t let me.... ![:smiling9:](https://reboot.pro/public/style_emoticons/default/smiling9.gif)   \n"
    },
    {
      "id": "122915",
      "timestamp": "2011-02-21T11:56:28+00:00",
      "author": "Doodoo",
      "content": "\u003e On some machines, the wanted partition in the mounted image does not get assigned driver letter C.  \n\u003e In this case Karyonix has suggested a simple workaround [here](http://reboot.pro/8804/page__view__findpost__p__122617 \"\")  \n\u003e\n\u003e The following can optionally be added (in the already optional part of menu.lst), after map /XP-1.img (hd0)  \n\u003e\n\u003e ```\n\u003e # Hide other disks, so partition in virtual disk will get C letter. \n\u003e\n\u003e map --harddrives\u003d1\n\u003e\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nI\u0027ve seen Wimb uses this bit of code instead in this menu.lst:  \n\n```\ncheckrange 0x80 read 0x8280 \u0026\u0026 map (hd0) (hd1)\n\ncheckrange 0x80 read 0x8280 \u0026\u0026 map (hd1) (hd0)\n\n```\n\nI know all the information is available if I look a bit carrefully, but without asking to be spoon-fed, can anyone advise as to what this bit of code really does ? Does it replace Karyonix\u0027s suggestion ? Or should come on top ?   \n"
    },
    {
      "id": "122916",
      "timestamp": "2011-02-21T12:02:23+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I know all the information is available if I look a bit carrefully, but without asking to be spoon-fed, can anyone advise as to what this bit of code really does ? Does it replace Karyonix\u0027s suggestion ? Or should come on top ?  \nThe code does exactly what is written in it.  \n\nIf the contents of 0x8280 is 0x80, then map (hd0) (hd1).  \nIf the contents of 0x8280 is 0x80, then map (hd1) (hd0).  \n\nIt exchanges drives on a condition (location 0x8280 being equal to 0x80), see here:  \n\u003chttp://reboot.pro/9733/\u003e  \nSomething else (more) here:  \n\u003chttp://reboot.pro/12449/\u003e  \n\nThis is not categorized as \"spoon-feeding\" but rather in \"your google-fu is low, my young padawan\" ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif).  \n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122919",
      "timestamp": "2011-02-21T12:17:07+00:00",
      "author": "Doodoo",
      "content": "\u003e The code does exactly what is written in it.  \n\u003e\n\u003e If the contents of 0x8280 is 0x80, then map (hd0) (hd1).  \n\u003e If the contents of 0x8280 is 0x80, then map (hd1) (hd0).  \n\nI did work out this bit by myself... But the thing is, I had no idea what the contents of 0x8280 was supposed to mean or represent. Hence my question.  \nI suppose [this](http://reboot.pro/9733/page__view__findpost__p__85014 \"\") is what I really needed to know, thanks Wonko.  \n\nTherefore, if my understanding is correct, it looks like this bit of code can just replace Karyonix\u0027s as suggested above, unless it only partially solves it when several HDDs are connected.   \n\n**Edited by Doodoo, 21 February 2011 - 12:21 PM.**\n"
    },
    {
      "id": "122924",
      "timestamp": "2011-02-21T12:39:33+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Therefore, if my understanding is correct, it looks like this bit of code can just replace Karyonix\u0027s as suggested above, unless it only partially solves it when several HDDs are connected.  \nI don\u0027t see a \"therefore\" connection. ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)  \nThat code is used, mainly in the case of USB booting, to re-establish \"normal drive order\" for the first internal drive.  \n\nWhen you boot \"normally\", the first internal hard disk is (hd0) or disk 0x80 or disk 128.  \nIf you boot from USB it is likely that the USB device becomes (hd0) and internal HD is \"shifted\" to (hd1).  \n(subsequent internal hard disks -if any - are also \"shifted\" by one).  \nThe mentioned code will re-set the internal first hard disk to (hd0) and set the USB device to (hd1), leaving all other internal hard disks - if any - as they were.  \n\nThis:  \n\n```\nmap --harddrives\u003d1\n```\n\nshould tell the BIOS that ONLY disk (hd0) exists.  \n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122926",
      "timestamp": "2011-02-21T12:57:07+00:00",
      "author": "Doodoo",
      "content": "\u003e I don\u0027t see a \"therefore\" connection. ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)  \nHmmm yes and no.  \nAs you explained, the code will re-set the internal first hard disk to (hd0) and set the USB device to (hd1), leaving all other internal hard disks - if any - as they were. So the mounted disk image (where XP is to be installed) will appear as C: if it was set to (hd1) originally. When that is the case, the problem is solved... Doesn\u0027t this establish a connection ?  \nBut to be fair, I guess it\u0027s unlikely the mounted disk image would appear as (hd1) since any physical HDDs would have already been set to that. But again I really don\u0027t know much about these things and i\u0027m just guessing here.  \n\n\u003e This:  \n\u003e\n\u003e ```\n\u003e map --harddrives\u003d1\n\u003e ```\n\u003e\n\u003e should tell the BIOS that ONLY disk (hd0) exists.  \n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nTo cut a long story short it seems to be the safest thing to do, to make sure the disk image appears as C:   \n"
    },
    {
      "id": "122931",
      "timestamp": "2011-02-21T13:42:49+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e To cut a long story short it seems to be the safest thing to do, to make sure the disk image appears as C:  \nActually, if I get right what is the intended result ![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif), a migrate.inf file might give even safer results. ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)  \n[http://www.911cd.net...showtopic\u003d19663](http://www.911cd.net/forums//index.php?showtopic\u003d19663 \"External link\")  \n(or a direct offline registry injection in the \\\\dosdevices\\\\)   \n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122935",
      "timestamp": "2011-02-21T14:01:55+00:00",
      "author": "Doodoo",
      "content": "\u003e Actually, if I get right what is the intended result ![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)  \nThe whole point is that when installing XP to a disk image (not a physical disk), you want to make sure it will be assigned letter C (well ok, i know we should talk about paritions within the disk image, but you get the idea).  \n\n\u003e a migrate.inf file might give even safer results. ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)  \nI can\u0027t argue with that. I don\u0027t really understand how this thing works for now. Most importantly, I don\u0027t see how it could be used with the install method suggested in this thread, i.e. direct from ISO located on USB, because at first sight I understand migrate.inf must be in the ISO.   \n\n**Edited by Doodoo, 21 February 2011 - 02:40 PM.**\n"
    },
    {
      "id": "122940",
      "timestamp": "2011-02-21T14:43:30+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I can\u0027t argue with that. I don\u0027t really understand how this thing works for now. Most importantly, I don\u0027t see how it could be used with the install method suggested in this thread, i.e. direct from ISO located on USB.  \nYes, I am not sure what the \"goal\" is. ![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nIf I get it right the thread is to install from .iso (on USB device) to internal hard disk.  \nThen you are doing a \"spin-off\" to install from .iso (on USB device - WHY?) to hard disk image.  \n\nSince the target is anyway a hard disk partition (real or within the .img), and the \"source .iso\" is NOT \"vanilla\" you can add a migrate.inf to the source and then \"force\" a disk signature on the target device, or use grub4dos to \"patch on the fly\" the added migrate.inf with the actual target disk signature.  \n\nThe good thing about a migrate.inf for a single partition is that it\u0027s length is fixed, so it can be easily manipulated by grub4dos commands as long as such a file does exist inside \\\\$WIN-NT.\\~BT\\\\ ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)  \n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122943",
      "timestamp": "2011-02-21T15:06:38+00:00",
      "author": "Doodoo",
      "content": "The least I can say Wonko, is that you get me to think really hard ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)  \n\n\u003e If I get it right the thread is to install from .iso (on USB device) to internal hard disk.  \n\u003e Then you are doing a \"spin-off\" to install from .iso (on USB device - WHY?) to hard disk image.  \nAt first sight it might seem really odd to install from USB to hard-disk image.... But the thing is I don\u0027t want to mess with plenty of partitions on my HDD, so using disk images is definitely great. Why install from USB ? Because I happen to carry out my experiments on a notebook without an optical drive. I have also tried to install from ISO (on HDD) to disk image (on HDD), and funnily enough it\u0027s not really faster than from ISO (on USB stick). But the portable aspect of the USB version is very convenient I think.  \n\n\u003e Since the target is anyway a hard disk partition (real or within the .img), and the \"source .iso\" is NOT \"vanilla\" you can add a migrate.inf to the source and then \"force\" a disk signature on the target device, or use grub4dos to \"patch on the fly\" the added migrate.inf with the actual target disk signature.  \nThe source is not \"vanilla\" , but one (implicit) idea is that you don\u0027t want to regenerate the ISO every day.... For instance, having the DriverPacks outside the ISO is very convenient from that point of view (OK, you have to make a new ISO when you want to update the txt-mode mass-storage drivers).  \nConceptually, your suggestions to force the disk signature or to patch the migrate.inf with gru4dos make complete sense to me. But in practise we\u0027re getting to the limits of my free time to experiment ![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif) (I know you\u0027d do it in 15 seconds, but I\u0027m not as familiar as you are with all this... It would take me quite a bit more time). For now I think a good effort / result ratio consists in hiding all disks but the target one (physical or image).   \n"
    },
    {
      "id": "122944",
      "timestamp": "2011-02-21T15:19:19+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e The least I can say Wonko, is that you get me to think really hard ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)  \nSure :smile:, that\u0027s EXACTLY the idea. ![:smiling9:](https://reboot.pro/public/style_emoticons/default/smiling9.gif)   \n\n\u003e The source is not \"vanilla\" , but one (implicit) idea is that you don\u0027t want to regenerate the ISO every day....   \nSure :smile:, but nothing prevents you from adding to it a migrate.inf file filled with (say) 512 spaces.  \nYou should know how to create such a file without emac ![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)   \n![:rofl:](https://reboot.pro/public/style_emoticons/default/roll1.gif)   \n\nYou just mark it mentally \"reserved for future use\"....  \n\n\u003e Conceptually, your suggestions to force the disk signature or to patch the migrate.inf with gru4dos make complete sense to me. But in practise we\u0027re getting to the limits of my free time to experiment ![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif) (I know you\u0027d do it in 15 seconds, but I\u0027m not as familiar as you are with all this... It would take me quite a bit more time). For now I think a good effort / result ratio consists in hiding all disks but the target one (physical or image).  \nI don\u0027t think you were given a timetable and certainly NOT a deadline. ![:w00t:](https://reboot.pro/public/style_emoticons/default/w00t.gif)   \nTake your time, have fun, experiment whatever you like when you have time to do so. :smile:  \n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "122945",
      "timestamp": "2011-02-21T15:29:15+00:00",
      "author": "Doodoo",
      "content": "\u003e Sure ![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif), but nothing prevents you from adding to it a migrate.inf file filled with (say) 512 spaces.  \n\u003e You should know how to create such a file without emac ![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)   \n\u003e You just mark it mentally \"reserved for future use\"....  \nIf XP setup can live with a blank migrate.inf, then it\u0027s certainly worth adding it to the ISO. Then you\u0027re free to overwrite it or not.  \nJust for the record, I can\u0027t help showing off some emacs skills.... Open emacs, CTRL-u 512 \\[SPC\\], finished.... Other ways are fun but not as short ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)  \n\n\u003e I don\u0027t think you were given a timetable and certainly NOT a deadline. :smile:   \n\u003e Take your time, have fun, experiment whatever you like when you have time to do so. ![:smiling9:](https://reboot.pro/public/style_emoticons/default/smiling9.gif)  \nMost likely my future free time (between nappies, bottles, and work) will be spent playing with Win 7. I have seen quite a few threads related to setting up Win7 from ISO (at least [this one](http://reboot.pro/13738/ \"\"),and [that one](http://reboot.pro/11855 \"\"), and also [that one](http://reboot.pro/8804/ \"\")), but at this point I don\u0027t understand the conclusion...  \nCan anyone tell me if install from ISO (on USB or HDD) to disk image works ? Not knowing anything about Win7 doesn\u0027t help, given the number of new tools to be aware of, and ideally master...   \n\n**Edited by Doodoo, 21 February 2011 - 03:34 PM.**\n"
    },
    {
      "id": "123252",
      "timestamp": "2011-02-24T09:50:09+00:00",
      "author": "Doodoo",
      "content": "Just for the record, it looks like the install method in this thread may not work 100% of the time, on tricky machines....  \nBut it has been reported [here](http://www.msfn.org/board/topic/149675-install-xp-from-a-iso-file/page__view__findpost__p__956987 \"External link\") that remaining problems can be fixed by adding in presetup.cmd the following code:  \n\n```\nstart /b \"Open handle to virtual CD-ROM drive.\" pushd \"%CDDRIVE%\"\n\n```\n\nimmediately after the (already patched) line, see post #1:  \n\n```\nif not defined CDDRIVE (goto EOF)\n\n```\n\nI haven\u0027t had any problems myself, but I\u0027d be happy to hear from anyone who was able to solve all problems that way !   \n\n**Edited by Doodoo, 24 February 2011 - 10:01 AM.**\n"
    },
    {
      "id": "123269",
      "timestamp": "2011-02-24T15:08:00+00:00",
      "author": "Sha0",
      "content": "\u003e I did some analysis of the situation just after TXT-mode has finished and before GUI mode has to begin...\nVery nice analysis! Thanks!   \n"
    }
  ]
}