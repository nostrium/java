{
  "id": "16935",
  "title": "Info About MBR and PBR",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "155097",
      "timestamp": "2012-05-23T13:13:40+00:00",
      "author": "Michele13",
      "content": "* What are MBR (Master Boot Record) and PBR (partition boot record)? The PBR is also known as VBR (Volume Boot Record)\n* What is the difference between MBR and PBR (aka VBR)?\n\nI have made a usb flash drive bootable with BootICE (A nice program for partitioning your flash drive and install various MBR or PBR in it, as syslinux, grub, bootmgr, ntldr, ms-dos boot sector, make partition active, change partition ID,etc) I\u0027ve Installed the PloP Boot Manager on my Sandisk USB flashdrive but formatting it with the standard format tool that comes with windows does not erase PloP but it boots up everytime I start my PC from USB with that USB stick inserted.  \n\n* That means that windows cannot erase the MBR by default, but it can only erase the PBR?\n\nI have a Kingston Data Traveller G3 (4GB). Unfortunately my pc is not able to boot from it. I try to make bootable usb sticks with Grub4Dos, syslinux but it does not boot unless I reboot the PC for one hundred times. I\u0027ve installed a nt60 mbr in it with boot ice and it boots now.  \n\n* Why I have this problem? With others USB sticks i have no probrlems.\n* Somone can describe me the boot process of the computer? (from the Bios to the OS). What does the bios read first from the hard disk? The MBR of the PBR?\n* Can someone describe me how syslinux is loaded? when I install it does it write something to the MBR or it just copy itself to the PBR?\n\nThanks for the help. I really need it. I\u0027m curious. that would help me to know how to use bootice properly. I suggest you to try it. You can find it on the net.   \n"
    },
    {
      "id": "155102",
      "timestamp": "2012-05-23T14:43:42+00:00",
      "author": "Wonko the Sane",
      "content": "You seem like missing the very basics.  \nYou must first thing read the Starman\u0027s pages on the matter:  \n[http://thestarman.pcministry.com/](http://thestarman.pcministry.com/ \"External link\")  \nthis way you will find answers to most of your questions (if not all of them).  \nSome very interesting info, ONCE you have digested the basics above can be found among the FGA\u0027s here:  \n[http://homepage.ntlw...ynepollard/FGA/](http://homepage.ntlworld.com/jonathan.deboynepollard/FGA/ \"External link\")  \nthose under:  \nOperating system bootstraps  \nVolumes and filesystem formats  \nshould be of interest/enlarge/enrich your vision.  \n\nObviously a \"format\" action WILL NOT affect the MBR (the MBR is part of the DISK and NOT of a VOLUME), additionally \"by design\" any NT system won\u0027t replace the MBR with the use of Disk Management unless it is found invalid (that is when the initialize the disk is triggered).  \nBut you may use diskpart or the bootsect.exe (only the version that comes with windows 7, not earlier versions) or third party tools such as MBRFIX or MBRWizard.  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko  \n\n\u003cbr /\u003e\n\nP.S. About the specific issue with that stick, more often than not that may be due to timing problems.  \nIf a given MBR works, then use it, and then chainload Syslinux/grub4dos/whatever from the working MBR or from the laoder that the working MBR actually invokes.Usually this kind of issues are \"combined effect\" of a given stick with a given motherboard make/model, on a desktop motherboard always try the ports on the back (those directly soldered to the motherboard) first.   \n"
    },
    {
      "id": "155109",
      "timestamp": "2012-05-23T15:26:15+00:00",
      "author": "Michele13",
      "content": "Well I actualy know what is the MBR. I asked questions about the MBR because someone that does not know what it is, now, can know it. that\u0027s all :smile:  \n\nSo what does the BIOS read first? the MBR or the PBR? it sounds like the flash memory can\u0027t be mounted directly by the bios but it shou, old be mounted by a third loader (or OS) in order to work. I thought about timing problems too infact I\u0027ve set the bios in order to wait a while before to boot any kind of device but it did not work... Well, there are some software such as HP USB Format Tool that claims to make usb flash drives bootable but when I re-format it normally it is not bootable anymore. Why? It actually writes the PBR instead of the MBR?   \n"
    },
    {
      "id": "155120",
      "timestamp": "2012-05-23T17:19:01+00:00",
      "author": "Wonko the Sane",
      "content": "\\\u003cp\\\u003e Well I actualy know what is the MBR.\n\nLet me doubt it, from the rest of your questions.  \nBIOS reads 1st sector of a device.  \nThis can be EITHER a MBR or a PBR (device \"hard disk like\" or floppy/superfloppy-like\").  \nThe HP USB tools always attempts to write a MBR to first sector (\"hd-like\" formatting), BUT, as seen in a number of threads here and on 911CD it often produces and invalid CHS/LBA scheme, and has been replaced by \"better\" utilities, such as RMPREPUSB.  \nThen there are several possible incompatibilities and/or conflicts between the BIOS and the MBR or PBR code and/or \"wrong\" behaviours of BIOS with Int13, etc.  \nReally you should read the given links assuming that all you know now is either partial or not fully correct, so that you can make yourself a \"more accurate\" idea of the topic.  \n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "155122",
      "timestamp": "2012-05-23T17:34:59+00:00",
      "author": "panreyes",
      "content": "Also, some BIOS ~~treat~~ \"see\" pendrives differently if they have less capacity than 2GB.  \nI\u0027ve seen some motherboards seeing a 2GB pendrive as a \"hard disk\" and a 1GB pendrive as a \"USB floppy\".  \n\nBoth were \"created\" with HP\u0027s utility.  \nPs: Sorry for my bad grammar :!   \n"
    },
    {
      "id": "155138",
      "timestamp": "2012-05-23T21:47:44+00:00",
      "author": "Michele13",
      "content": "\u003e \\\u003cp\\\u003e  \n\u003e\n\u003e Let me doubt it, from the rest of your questions.  \n\u003e BIOS reads 1st sector of a device.  \n\u003e This can be EITHER a MBR or a PBR (device \"hard disk like\" or floppy/superfloppy-like\").  \n\u003e The HP USB tools always attempts to write a MBR to first sector (\"hd-like\" formatting), BUT, as seen in a number of threads here and on 911CD it often produces and invalid CHS/LBA scheme, and has been replaced by \"better\" utilities, such as RMPREPUSB.  \n\u003e Then there are several possible incompatibilities and/or conflicts between the BIOS and the MBR or PBR code and/or \"wrong\" behaviours of BIOS with Int13, etc.  \n\u003e Really you should read the given links assuming that all you know now is either partial or not fully correct, so that you can make yourself a \"more accurate\" idea of the topic.  \n\u003e ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\u003e Wonko  \n\nAnd that\u0027s why it is not bootable when I re-format it with the windows format tool? I thought that it writes something to the PBR   \n"
    },
    {
      "id": "155209",
      "timestamp": "2012-05-25T15:04:35+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e And that\u0027s why it is not bootable when I re-format it with the windows format tool? I thought that it writes something to the PBR  \nI\u0027ll try to write this ***slower*** :wink::  \nthe FORMAT command is relative to a VOLUME, NOT to a disk.  \n\nThe MBR is part of the DISK (AND NOT of the volume) thus it is NOT affected by the FORMAT command.  \nTo tell the whole truth, the Windows FORMAT command does affect the MBR, but EXCLUSIVELY the MBR DATA and EXCLUSIVELY, withing the MBR DATA, the partition ID field.  \nIf your stick is not botable there are several possible reasons, if the issue is within EITHER the MBR Code or MBR Data, you can stamp your feet as hard and as long as you like and use the FORMAT command all the times that you want, but it is very UNlikely it would change anything.  \nTo re-cap, a non bootable USB stick may be caused by 5 (five) main issues:\n\n* BIOS (in an absolute sense or only when coupled with a given MBR CODE, or a given MBR DATA, or a given PBR CODE or a given PBR DATA)\n* MBR CODE\n* MBR DATA\n* PBR CODE\n* PBR DATA\n\nThe FORMAT command ONLY affects #4 (and in some rare cases #5 - BIOS using non standard 255/63 geometry) and only marginally (ONLY the Partition ID field) the MBR DATA.  \nThe HP utility is known to create in most cases NOT FULLY VALID MBR DATA, and this WILL NOT be changed by using the Format command.  \nMy increasingly outdated FAQ\u0027s page (point #10):  \n[http://jaclaz.alterv...SB/USBfaqs.html](http://jaclaz.altervista.org/Projects/USB/USBfaqs.html \"External link\")  \nlists some of the possible known issues/behaviours.  \nAnd the other (still increasingly getting outdated page):  \n[http://jaclaz.alterv...B/USBstick.html](http://jaclaz.altervista.org/Projects/USB/USBstick.html \"External link\")  \nexplains the how and why the HP USB tool can create an issue.  \n\nNow, WHAT do you want? ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)  \nIf learning about MBR, PBR, FDISK, disk management, etc. READ the given links, BEFORE anything else (by the kind of questions you are posing it is clear that you are not -yet :wink: - familiar with the matter at hand).  \nIf solving the issue with your new USB stick, please start a specific new thread about it.  \nBTW, in that neew thread you will probably be suggested two things:\n\n* DO NOT use the HP tool\n* try using the RMPREPUSB instead\n\n\u003cbr /\u003e\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "155224",
      "timestamp": "2012-05-25T17:13:54+00:00",
      "author": "Michele13",
      "content": "\u003e I\u0027ll try to write this ***slower*** :wink::  \n\u003e the FORMAT command is relative to a VOLUME, NOT to a disk.  \n\u003e\n\u003e The MBR is part of the DISK (AND NOT of the volume) thus it is NOT affected by the FORMAT command.  \n\u003e To tell the whole truth, the Windows FORMAT command does affect the MBR, but EXCLUSIVELY the MBR DATA and EXCLUSIVELY, withing the MBR DATA, the partition ID field.  \n\u003e If your stick is not botable there are several possible reasons, if the issue is within EITHER the MBR Code or MBR Data, you can stamp your feet as hard and as long as you like and use the FORMAT command all the times that you want, but it is very UNlikely it would change anything.  \n\u003e To re-cap, a non bootable USB stick may be caused by 5 (five) main issues:\n\u003e\n\u003e * BIOS (in an absolute sense or only when coupled with a given MBR CODE, or a given MBR DATA, or a given PBR CODE or a given PBR DATA)\n\u003e * MBR CODE\n\u003e * MBR DATA\n\u003e * PBR CODE\n\u003e * PBR DATA\n\u003e\n\u003e The FORMAT command ONLY affects #4 (and in some rare cases #5 - BIOS using non standard 255/63 geometry) and only marginally (ONLY the Partition ID field) the MBR DATA.  \n\u003e The HP utility is known to create in most cases NOT FULLY VALID MBR DATA, and this WILL NOT be changed by using the Format command.  \n\u003e My increasingly outdated FAQ\u0027s page (point #10):  \n\u003e [http://jaclaz.alterv...SB/USBfaqs.html](http://jaclaz.altervista.org/Projects/USB/USBfaqs.html \"External link\")  \n\u003e lists some of the possible known issues/behaviours.  \n\u003e And the other (still increasingly getting outdated page):  \n\u003e [http://jaclaz.alterv...B/USBstick.html](http://jaclaz.altervista.org/Projects/USB/USBstick.html \"External link\")  \n\u003e explains the how and why the HP USB tool can create an issue.  \n\u003e\n\u003e Now, WHAT do you want? ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)  \n\u003e If learning about MBR, PBR, FDISK, disk management, etc. READ the given links, BEFORE anything else (by the kind of questions you are posing it is clear that you are not -yet :wink: - familiar with the matter at hand).  \n\u003e If solving the issue with your new USB stick, please start a specific new thread about it.  \n\u003e BTW, in that neew thread you will probably be suggested two things:\n\u003e\n\u003e * DO NOT use the HP tool\n\u003e * try using the RMPREPUSB instead\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003e ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\u003e Wonko  \n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003cbr /\u003e\n\n\u003cbr /\u003e\n\nOk I\u0027ll try it. But i\u0027ve realized that BootICE is a good software too! Why don\u0027t you try it? it is awesome! :wink:   \n"
    },
    {
      "id": "155229",
      "timestamp": "2012-05-25T17:36:32+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Ok I\u0027ll try it. But i\u0027ve realized that BootICE is a good software too! Why don\u0027t you try it? it is awesome! :wink:  \nYou must be joking ![:w00t:](http://reboot.pro/public/style_emoticons/default/w00t.gif), I\u0027ve probably have used it since long before you were born ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)  \nGuess WHO contributed to have BootIce Listed here? ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif):  \n\n\u003chttp://reboot.pro/9460/\u003e  \n\nHere :wink::  \n\u003chttp://reboot.pro/9368/\u003e  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "155241",
      "timestamp": "2012-05-25T19:12:25+00:00",
      "author": "Michele13",
      "content": "OK, thanks a lot for the help! :smile:   \n"
    }
  ]
}