{
  "id": "11684",
  "title": "USB BIOS 128GiB size limit",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "102235",
      "timestamp": "2010-06-13T12:34:37+00:00",
      "author": "karyonix",
      "content": "I just discover the size limit of USB functionality of my computer BIOS while testing booting from USB hard disk.   \nWhen GRUB4DOS read data (through BIOS) beyond the limit it does not show any error message. It just give me corrupted data.  \nIt take me whole day to find out the limit. It\u0027s 0x10000000 sectors \u003d 128GiB.   \nWhen my docking station (with 250GB or 640GB hard disk) is connected with SATA, GRUB4DOS can read data (through BIOS) beyond 128GiB correctly.   \nWindows can access the data on whole disk when the docking station is connected with either USB or SATA, so I think it is not docking station\u0027s limit. It is BIOS\u0027 limit.   \n\nMy motherboard is ASUS P5Q PRO (chipset Intel P45 ICH10R). It is not old.   \nIt\u0027s a surprise to see this small USB size limit while SATA (on same motherboard) does not have the same limit.   \nThis problem may affect other people too.  \n\nEDIT : change 128GB to 128GiB   \n"
    },
    {
      "id": "102236",
      "timestamp": "2010-06-13T12:41:38+00:00",
      "author": "Icecube",
      "content": "Yes, it affects me too. My internal SATA drive also doesn\u0027t has the 128 GiB (137GB) limit.  \nUsing PLoP for booting the USB drive solves the problem for me.  \nElmar (developer of PLoP) told me that PLoP should support drives up to 2 Terabyte (MBR limit).   \n"
    },
    {
      "id": "102237",
      "timestamp": "2010-06-13T12:50:32+00:00",
      "author": "MedEvil",
      "content": "Wow! Running into a 128GB problem with USB-Booting.   \nSometimes i really wish, people would post here, what wonders they\u0027re creating. :smile:  \n\n\u003cbr /\u003e\n\n:smile:   \n"
    },
    {
      "id": "102239",
      "timestamp": "2010-06-13T12:54:57+00:00",
      "author": "steve6375",
      "content": "Is this a BIOS limitiation or grub4dos? How can you tell?   \n"
    },
    {
      "id": "102241",
      "timestamp": "2010-06-13T13:03:10+00:00",
      "author": "Icecube",
      "content": "\u003e Is this a BIOS limitiation or grub4dos? How can you tell?\nIt is a BIOS limitation.  \nI discovered it some months ago, while testing Syslinux-4.00-preXX.  \nThe Syslinux-4.00 branch has EXT4 support.  \nSyslinux didn\u0027t fully boot. The partition on which I installed Syslinux started at 126GiB. I could display some files and directories with the \"ls\" command of grub4dos on that partition. But grub4dos couldn\u0027t display the files in a certain subdirectory. When using the \"cat\" command, grub4dos couldn\u0027t display the contents of some files which did show up in the output of \"ls\". I also tried to display and read files with grub2, but it also couldn\u0027t read all files.  \nFirst I was suspecting, filesystem implementation bugs in Syslinux, Grub4dos and grub2 (EXT4 is relatively new), but When I attached the USB drive to qemu, all bootloaders did work.  \n\n```\nqemu -boot c -hda /dev/sdf\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "102243",
      "timestamp": "2010-06-13T13:28:32+00:00",
      "author": "karyonix",
      "content": "\u003e Is this a BIOS limitiation or grub4dos? How can you tell?\nGRUB4DOS knows nothing about USB or SATA. It use BIOS to read disk.  \nWhen I detach USB cable, attach eSATA cable to docking station and computer, and reboot. GRUB4DOS can read the disk correctly to the last sector of my 640GB disk.   \nWhen connected with eSATA cable, the result of dd command in GRUB4DOS is the same as result of dd for Windows.   \n"
    },
    {
      "id": "102252",
      "timestamp": "2010-06-13T16:09:19+00:00",
      "author": "steve6375",
      "content": "Thanks for replies. Must be USB BIOS issue. I thought perhaps may be a bug in grub4dos as grub4dos has to call the BIOS using Extended Int13h BIOS calls, but obviously not if grub4dos works on same pc but not as USB device.   \n"
    },
    {
      "id": "104131",
      "timestamp": "2010-07-07T16:51:37+00:00",
      "author": "ktp",
      "content": "\u003e Yes, it affects me too. My internal SATA drive also doesn\u0027t has the 128 GiB (137GB) limit.  \n\u003e Using PLoP for booting the USB drive solves the problem for me.  \n\u003e Elmar (developer of PLoP) told me that PLoP should support drives up to 2 Terabyte (MBR limit).\n\nI have the same problem, grub4dos, GRUB or GRUB2 or Smart Boot Manager did not find the ext3 partition beyond 128GB, and even PloP latest version (5.0.10) did not find it.  \n\nI am relocating my big NTFS data partition to the end of my 500GB USB HDD and try again.   \n"
    },
    {
      "id": "104171",
      "timestamp": "2010-07-08T17:02:19+00:00",
      "author": "Sha0",
      "content": "Perhaps the particular USB BIOS driver only implements ATA-1?  \n\nPossibly useful: [Logical block addressing - LBA, ATA devices and Enhanced BIOS](http://en.wikipedia.org/wiki/Logical_block_addressing#LBA.2C_ATA_devices_and_Enhanced_BIOS \"External link\")   \n"
    },
    {
      "id": "104191",
      "timestamp": "2010-07-09T04:59:16+00:00",
      "author": "ktp",
      "content": "I tried on 3 computers with AMI BIOS (2006 2009, 2010) : same problem. Even the \"find (hd0,\" with Tab completion from grub4dos hang (infinite disk access) while it attempts to show (hd0,8) file system type.  \n\nThe same USB HDD has no problem so far (grub4dos OK) under VMware machine which has Phoenix BIOS.   \n"
    },
    {
      "id": "104192",
      "timestamp": "2010-07-09T04:59:16+00:00",
      "author": "ktp",
      "content": "I tried on 3 computers with AMI BIOS (2006 2009, 2010) : same problem. Even the \"find (hd0,\" with Tab completion from grub4dos hang (infinite disk access) while it attempts to show (hd0,8) file system type.  \n\nThe same USB HDD has no problem so far (grub4dos OK) under VMware machine which has Phoenix BIOS.   \n"
    },
    {
      "id": "104203",
      "timestamp": "2010-07-09T17:10:49+00:00",
      "author": "Wonko the Sane",
      "content": "It is strangely similar to the 28/48 bit BIOS LBA address limit:  \n[http://www.48bitlba.com/](http://www.48bitlba.com/ \"External link\")  \n\nIt is possible that for USB (and possibly for USB only) BIOS use 28 bit LBA addresses.  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "142520",
      "timestamp": "2011-11-23T13:45:05+00:00",
      "author": "laddanator",
      "content": "I just ran into this same issue but it took me three 13 hours days and pulling all my hair out til I figured it must be the hard drive size. I wish I had saw this post first. I was using a 500 gig external and I was getting that data corrupted error but if I pulled the drive out of the enclosure and plug it straight into the pc, it would work fine. So last night I grabbed a few 80 gigs and set them up the same way as I did the 500 gig. Three partitions with Acronis, all ntfs, all primary, and set grub4dos to partition 1 and boot. I then hit c and at the grub prompt typed uuid and I was amazed all the partitions showed up this time! Really didn\u0027t see the need for anything bigger than 80 gig anyway.   \n"
    },
    {
      "id": "142591",
      "timestamp": "2011-11-24T05:20:28+00:00",
      "author": "laddanator",
      "content": "I kinda got this same topic going on in another post. I reformatted my 500 gig external USD Hard Drive and moved the bigger partition to the end. So partition 1 is 60 gig and partition 2 is 10gig and partition 3 is 10gig and I get the same fatal error from grub. I wonder if the bigger 300 plus partition should be unformatted?   \n"
    },
    {
      "id": "142599",
      "timestamp": "2011-11-24T08:57:45+00:00",
      "author": "steve6375",
      "content": "That is a strange result and worth investigating further.   \n"
    },
    {
      "id": "142631",
      "timestamp": "2011-11-24T13:56:36+00:00",
      "author": "laddanator",
      "content": "\u003e That is a strange result and worth investigating further.  \n\nSo I left the 367 gig partition I moved to the end unformatted and no luck,. Like ktp, I can pull that same 500 gig hard drive out of the USB case and plug the drive in internally to my computer and it works fine and I know now about the 128 gig limit. What I don\u0027t understand is since I have three partitions spread across less than 128 gig why am I still getting the error. PLoP boots the drive perfect from USB. I included a picture of the error. I am using 80gig hard drives now and of course no errors.  \n\n[http://img716.images...11122155350.jpg](http://img716.imageshack.us/img716/2299/img20111122155350.jpg \"External link\")   \n"
    },
    {
      "id": "142743",
      "timestamp": "2011-11-25T18:11:51+00:00",
      "author": "laddanator",
      "content": "Ok, fixed it. The bigger part of the partition that you are not using has to be at the very end of disk. So my drive looks like this. Partition 1, 60gig. Partition 2, 15gig. Partition 3, 15gig which I have extra and I am under 128gig with the remaining at the very end of hard drive.   \n"
    },
    {
      "id": "142747",
      "timestamp": "2011-11-25T18:57:50+00:00",
      "author": "steve6375",
      "content": "Of course the partitions have to be at the beginning! The problem is that the BIOS cannot address sector addresses past 128GiB, so all partitions must be before that point! Your previous post implied that the unformatted area was at the end of the drive, otherwise we would have pointed that out immediately!   \n"
    },
    {
      "id": "142752",
      "timestamp": "2011-11-25T19:28:36+00:00",
      "author": "laddanator",
      "content": "\u003e Of course the partitions have to be at the beginning! The problem is that the BIOS cannot address sector addresses past 128GiB, so all partitions must be before that point! Your previous post implied that the unformatted area was at the end of the drive, otherwise we would have pointed that out immediately!  \n\nWhats with all the ! ? Didn\u0027t mean to upset you. I have been up for the past week til 4 in the am and I was looking at it wrong. Actually now the 367 gig partition has been moved to the end and formatted logical.. Your right Steve6375, as long as the first parts are not over 128, then all is good. I must have went crossed eye because before today, I would have bet my life that partition was at the end. Sorry guys. :smile:  \n\nI have 5 partitions now  \n\n1.60gig  \n2.15gig  \n3.15gig  \n4.15gig  \n5.367 gig(at the end of the disk)  \n\nuuid shows:  \nhd0,0  \nhd0,1  \nhd0,2  \nhd0,3   \n"
    },
    {
      "id": "158064",
      "timestamp": "2012-07-22T11:26:02+00:00",
      "author": "skyide",
      "content": "Hey all,  \n\nI am glad I saw this thread. Yep, I fell for it too :smile: ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png) :smile:  \n\nI spent over a week experimenting. I knew it had to do something with the size of the partition, I just didn\u0027t know what and why.   \n"
    }
  ]
}