{
  "id": "6996",
  "title": "How can i run XP in SAFEMODE from USB (on any pc) ??",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "58177",
      "timestamp": "2009-02-06T02:12:32+00:00",
      "author": "AlexData",
      "content": "I want to run XP from an USB on any computer  \n\nam i right if i say that XP running in SAFE MODE is using virtual drivers  \nand drivers that all hardware capable of running xp, can use  \nso that an XP install running in safemode would be usable on any pc?  \n\nI want this to be only the files neccessary to get into XP (desktop enviroment)  \nand be able to use EXPLORER (file managing) and to run programs (GHOST, DEFRAG)  \n\nSimply put...   \nXP as small as possible (only those files loaded when runnning safemode)  \nno need for fancy grafic or games/other utilities...  \nJust plain XP with NTFS read/write, ability to use EXPLORER for file copying  \nand running programs (standalone .EXE or thinstalls perhaps)  \nfrom an USB drive preferrably...  \n\nIt could also be some type of IMAGE loaded from the USB and into RAM  \nrunning XP, and then I could simply browse TOOLS from a folder on the USB  \n\nIs this possible, and HOW to make it so that I can use this as a backup/fix tool  \non any pc (capable of running windows) using VGA and/or virtual drivers  \njust like SAFEMODE does...?   \n"
    },
    {
      "id": "58192",
      "timestamp": "2009-02-06T07:19:13+00:00",
      "author": "was_jaclaz",
      "content": "First thing, welcome to the board. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nThe biggest problem would be accessing SATA/AHCI drives.  \n\nI don\u0027t think, but I may be completely and utterly wrong :cool:, that safe mode would work without them. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nA \"Full XP on USB\" is anyway something that is a bit more difficult to achieve, a \"basic\" PE should be much easier to achieve on USB, something like picoXP.  \n\nInstalling XP on a USB stick may be daunting, you should read the tutorials by Dietmar (find links to them in his signature):  \n[http://www.911cd.net...showtopic\u003d14181](http://www.911cd.net/forums//index.php?showtopic\u003d14181 \"External link\")  \nThe ngine.de \"simplified\" tutorial:  \n[http://www.ngine.de/article/id/8](http://www.ngine.de/article/id/8 \"External link\")  \nAnd try the automated way (simpler):  \n[http://www.usboot.org/tiki-index.php](http://www.usboot.org/tiki-index.php \"External link\")  \n\nExplorer is both a filemanager and a shell, I would rather use cmd.exe as a shell and another filemanager.  \n\nA project, completely and utterly experimental, but that seems to me exactly what you need/want, is XPCLI:  \n[http://www.boot-land...?showtopic\u003d3717](http://www.boot-land.net/forums/?showtopic\u003d3717 \"External link\")  \n\nThough building procedure is awful (I did it with one of my \"dinosaur\" batch scripts, and USB support has to be added manually) but once built, it is already fairly \"portable\".  \n\nSince you will use SuperVGA resolution, 800x600, you\u0027ll have no problems with video.  \n\nYou may want to try adding UNIATA to the build:  \n[http://alter.org.ua/...ft/win/uni_ata/](http://alter.org.ua/en/soft/win/uni_ata/ \"External link\")  \n\nAny motherboard that has in BIOS a setting for SATA/AHCI\\\u003c-\\\u003eIDE emulation (the large majority) will work with \"plain\" \"Dual channel PCI IDE\", in the rare case UNIATA won\u0027t work.  \n\nYou have LOTS of thing to read, understand, search, experiment with: you\u0027d better start....![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\njaclaz   \n"
    },
    {
      "id": "58197",
      "timestamp": "2009-02-06T08:04:48+00:00",
      "author": "wendy",
      "content": "Build your windows with the generic SATA drives in place. This would solve this problem.  \n\nI am not sure that a full Winxp on a flash-drive would be good, but a USB hard drive should not cause hassles. Still.  \n\nTo boot windows in safe mode, create a boot.ini on the USB, and put an operating system with a /SOS at the end of it. You can select from this menu, eg Windows full, or windows safe mode, or (eg) something else.   \n"
    },
    {
      "id": "58198",
      "timestamp": "2009-02-06T08:56:29+00:00",
      "author": "AlexData",
      "content": "Hehe... Thanks for all the links and info Jacklaz.  \nand for your Sata/Boot.ini tip Wendy!  \n\nJust to make sure we\u0027re on the same page!  \nThe XP install on this USB doesnt need to be FULL, just big enough (read; the needed files) to be able to display explorer, and to run apps like Ghost and Defrags, and perhaps Thinstalled programs (standalone virtualized programs)  \n\nI\u0027ve been playing with some of this before, and I once made a CD based on MiniPE (years ago) that still works, and another simple CD with a DOS boot sector that displays an CONFIG.SYS menu and then influences AUTOEXEC.BAT to do specific things, after you\u0027ve chosen something from the menu. Both these CD\u0027s are working, and are used weekly as they are some of the greatest tools i have!  \n(Credit to whoever made it able for me to make those!!!)  \n\nThing is, USB media is larger (2-8gb without a problem) and is REWRITABLE, and I can store different .GHO images on them!  \nOne for my main pc\u0027s, and one SYSPREP\u0027ped image to re-install XP on other pc\u0027s, fully updated and included with the most used programs..(all we need to add later is drivers, yeah!)  \n\nSo, I\u0027ll read your links, and think a little about what I read, and then see if any of that can be used the way I want...  \n\nThing is, If we have availible all the files XP uses to SAFEMODE, and then make a bootable USB-stick with a BOOT.INI with the /SOS switch, then in theory, this XP should be able to load on most common pc\u0027s (and yes, we might add SATA drivers too, just in case!!)   \n\nAny idea\u0027s on how to get XP narrowed down to only the SAFEMODE files?  \nIm tempted to install XP on a VirtualPC, using a REAL partition, where i at will can delete files and folders until safemode does no longer work, but if anyone else has better idea\u0027s, I\u0027ll try them too!   \n"
    },
    {
      "id": "58201",
      "timestamp": "2009-02-06T09:14:55+00:00",
      "author": "wimb",
      "content": "You can boot with 115 MB LiveXP BootSDI.img IMAGE file in 30 sec from RAMDISK loaded in few seconds from Harddisk or in about 5 minutes from USB-stick.  \nThis is useful as Escape Boot Option in case Booting with Windows XP may fail, so that you can Repair your System or use Ghost for System Backup and System Restore (with speed of 3 GB / min from Harddisk to Harddisk).  \n\nYou can use **Make_USB.exe** of **U_XP_SET** package to make USB-stick Bootable with LiveXP or use **BOOT_IMG.exe** to Install LiveXP as Boot Option in boot.ini Menu or GRUB4DOS menu.lst on your Harddisk.  \n[http://www.boot-land...?showtopic\u003d5306](http://www.boot-land.net/forums/index.php?showtopic\u003d5306 \"External link\")  \n\nLiveXP BootSDI.img file is most easily made by using one of the Stable Projects of **amalux** e.g. lx101408cxs.exe where you have to add Ghost Plus!.script  \nTutorial of amalux [http://www.boot-land...?showtopic\u003d4111](http://www.boot-land.net/forums/index.php?showtopic\u003d4111 \"External link\")  \nDownload from [http://amalux.winbuilder.net/](http://amalux.winbuilder.net/ \"External link\")   \n"
    },
    {
      "id": "58205",
      "timestamp": "2009-02-06T09:41:26+00:00",
      "author": "was_jaclaz",
      "content": "\u003e So, I\u0027ll read your links, and think a little about what I read, and then see if any of that can be used the way I want...\nGood. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\n\u003e Thing is, If we have availible all the files XP uses to SAFEMODE, and then make a bootable USB-stick with a BOOT.INI with the /SOS switch, then in theory, this XP should be able to load on most common pc\u0027s (and yes, we might add SATA drivers too, just in case!!)   \n\u003e\n\u003e Any idea\u0027s on how to get XP narrowed down to only the SAFEMODE files?  \n\u003e Im tempted to install XP on a VirtualPC, using a REAL partition, where i at will can delete files and folders until safemode does no longer work, but if anyone else has better idea\u0027s, I\u0027ll try them too!\nYep, lot\u0027s of ideas :cool: , but we should wait for your checking the \"catalog\" of what has already been done.  \n\nMind you, I do like people willing to experiment and opening new paths ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), but if you are wanting to re-invent the wheel:  \n[http://www.boot-land...?...c\u003d2037\\\u0026st\u003d8](http://www.boot-land.net/forums/index.php?showtopic\u003d2037\u0026st\u003d8 \"External link\")  \nmake sure you invent a \"better wheel\":  \n[http://www.boot-land...?...c\u003d5881\\\u0026st\u003d5](http://www.boot-land.net/forums/index.php?showtopic\u003d5881\u0026st\u003d5 \"External link\")  \n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\n\u003cbr /\u003e\n\nI forgot to give you a pointer to an \"evolution\" or, maybe better said \"branch\" of XPCLI, GluonXP:  \n[http://www.boot-land...?...c\u003d6393\\\u0026st\u003d0](http://www.boot-land.net/forums/index.php?showtopic\u003d6393\u0026st\u003d0 \"External link\")  \n\n(as well highly experimental and limited in features)  \n\nYou\u0027ve got LOTS of things to read, understand and try, you\u0027d better start working! ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n\njaclaz   \n"
    },
    {
      "id": "58215",
      "timestamp": "2009-02-06T10:57:54+00:00",
      "author": "AlexData",
      "content": "Oki...  \n\nGood tips, and yes, a LOT to read...  \nsome of the idea\u0027s fits, some is a bit \"out-there\" (maybe)  \n\nAnyhow...  \n\nI got down to buisness, trying the simple path first!  \n\nTook mu USB-STICK and formatted it into FAT (4gb stick)  \nusing the HP-Format Tool (I\u0027ll post it on my homepage)  \n\n[http://www.alexdata.com/USBBOOT](http://www.alexdata.com/USBBOOT \"External link\")  \n\nAnd then copied the following files to the USB-STICK:  \n\n**ntldr\nntdetect.com\nboot.ini**   \n\nand modified BOOT.INI to look like this:  \n\n```\n;ALEXDATA BOOT MENU - Boot XP into SAFEMODE from USB\n\n\u0026#91;boot loader\u0026#93;\n\ntimeout\u003d30\n\ndefault\u003dmulti\u0026#40;0\u0026#41;disk\u0026#40;0\u0026#41;rdisk\u0026#40;0\u0026#41;partition\u0026#40;1\u0026#41;\\WINDOWS\n\n\u0026#91;operating systems\u0026#93;\n\nmulti\u0026#40;0\u0026#41;disk\u0026#40;0\u0026#41;rdisk\u0026#40;0\u0026#41;partition\u0026#40;1\u0026#41;\\WINDOWS\u003d\u0026#34;WINDOWS SAFEMODE DISK0\u0026#58;PART1\u0026#34; /SOS\n\nmulti\u0026#40;0\u0026#41;disk\u0026#40;0\u0026#41;rdisk\u0026#40;0\u0026#41;partition\u0026#40;1\u0026#41;\\WINDOWS\u003d\u0026#34;WINDOWS NORMALE DISK0\u0026#58;PART1\u0026#34; /NOEXECUTE\u003dOPTIN /FASTDETECT\n```\n\n\u003cbr /\u003e\n\nSo when I boot my computer and it starts from the USB-STICK i get the menu where I can choose from the two above...  \n\nThen I went on to make an WINDOWS folder on my USB-STICK, and included the SYSTEM32 folder in it, and then the CONFIG folder inside there again...  \nI copied all .NLS files into SYSTEM32, and all .DLL files into SYSTEM32 on my USB-STICK (from my OS, xp-pro-sp3) and then some of the files I know windows uses, like;  \nntoskrnl.exe  \nand others  \n(i will make a filelist as soon as i get past the SAFEMODE\u0027s boottime filelisting, where it loads DLL\u0027s and such...)  \n\nAnyhow, maybe it all will fail when it tries to load NTOSKRNL.EXE and the BOOVID.DLL since my current os is not optimalized to boot from USB (it was not installed from an USB-ENABLED XP-INSTALL) hehe  \n\nAnyhow, I\u0027ll keep you posted on my progress, and my step-backs...  \n\nDue to work and GF, I have only limited time to create anything,hehe!   \n"
    },
    {
      "id": "58218",
      "timestamp": "2009-02-06T11:19:30+00:00",
      "author": "AlexData",
      "content": "Well.. after copying the files it asks for (and probably some more) it got past the black loading screen, where it lists the files that it loads...  \nThen it showed me the \"Welcome to windows\" screen (or similar to it) and stated how much RAM i had, and some other white text, before it BSOD\u0027ed and restarted!   \nSo, thing is... this seems rather possible, guess one of the files needed to be loaded, like NTOSKRNL.EXE is cutting the power to the USB and thus giving me the BSOD error...  \nI will have to modify my current REGISTRY to show the BSOD, then copy the C:\\\\windows\\\\system32\\\\config folder into the USB again, and then see what happens next... It will be easier once I can read the BSOD message, heh!   \n"
    },
    {
      "id": "58219",
      "timestamp": "2009-02-06T11:30:52+00:00",
      "author": "was_jaclaz",
      "content": "Bets are not allowed on the board, but predictions are. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nMy crystal ball tells me the it is a 0x0000007b STOP ERROR.......:cool:  \n\njaclaz   \n"
    },
    {
      "id": "58221",
      "timestamp": "2009-02-06T11:43:59+00:00",
      "author": "AlexData",
      "content": "Guess ya all saw it coming...  \n\nBSOD: 0x0000007B  \n\nSo it seems that just copying an already running XP (not clean) and not having enabled it for USB (during install) and so on, yields me an error...  \n\nAny good idea\u0027s (yes, i will do a clean install, preferrably an USB-enabled one) but other than that?  \n\nAnyone with an already USB-enabled install, trying the same, getting any closer than i did???   \n"
    },
    {
      "id": "58222",
      "timestamp": "2009-02-06T11:48:56+00:00",
      "author": "AlexData",
      "content": "Can anyone explain closer what that error might mean?  \n\nHow to fix it (other ways than those I\u0027ve already thinked about)  \n\nAny idea\u0027s... anyone tried the similar approach like me, but with an USB enabled OS... ?  \n\nI\u0027ll try to post my filelist so far \"Called FileList-1\" at my homepage, today perhaps...  \nwww.alexdata.com/USBBOOT   \n"
    },
    {
      "id": "58223",
      "timestamp": "2009-02-06T11:56:25+00:00",
      "author": "was_jaclaz",
      "content": "\u003e Guess ya all saw it coming...  \n\u003e\n\u003e BSOD: 0x0000007B  \n\u003e\n\u003e So it seems that just copying an already running XP (not clean) and not having enabled it for USB (during install) and so on, yields me an error...\nWaiter, taste the soup:  \n[http://gregdek.livej....com/14554.html](http://gregdek.livejournal.com/14554.html \"External link\")  \n\n**Aha. Aha!**   \n\n\u003e Any good idea\u0027s (yes, i will do a clean install, preferrably an USB-enabled one) but other than that?\nReading the whole loooong thread on 911CD and learn how to enable an already installed XP? ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \nbut it will take you some time....  \nMaybe Tutorial #3 may suit you:  \n[http://www.911cd.net...o...4181\\\u0026st\u003d228](http://www.911cd.net/forums//index.php?showtopic\u003d14181\u0026st\u003d228 \"External link\")  \n\n\u003e Anyone with an already USB-enabled install, trying the same, getting any closer than i did???\nYou appear to be missing a point, it\u0027s a binary 0/1 or ON/OFF switch :cool::  \nif the build is NOT \"USB enabled\", it will produce a 0x0000007b BSOD ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif) (binary 0/OFF)  \nif the build is \"USB enabled\" it will boot without errors ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif) (binary 1/ON)  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\njaclaz   \n"
    },
    {
      "id": "58502",
      "timestamp": "2009-02-08T19:45:20+00:00",
      "author": "AlexData",
      "content": "Okey...  \n\nI did make a new CD (XP Pro VLK SP1) with nothing more than the original cd + sp1 update (using nLite) and installed that to a HDD (to C: hdd0:partition1)  \n\nThen I got hold of the edited \"ntdetect.com\" and replaced that, I also edited the \"usb.inf\" the \"usbport.inf\" the \"usbstor.inf\" and created a new SYSTEM Hive following the GUIDE found at this location: [http://www.911cd.net...o...4181\\\u0026st\u003d228](http://www.911cd.net/forums//index.php?showtopic\u003d14181\u0026st\u003d228 \"External link\")  \n(also deleted the files the guide mentioned)  \n\nThen I copied this over to my USB-Stick (that is bootable and FAT formatted) and in my BOOT.INI file I have the /SOS option so to start the system in SAFEMODE, still i get a BSOD...  \n\nSo, SP1 whom is reported to work on with USB, and the necessary USB edits both in registry and in INF files...  \n\nStill.. no luck.. So my question is then, what might I be doing wrong? Anyone care to take a look at my files? I\u0027ll put the whole bunch of files into a ZIP and that can be found at [http://www.alexdata....guide1files.zip](http://www.alexdata.com/USBBOOT/guide1files.zip \"External link\")   \nand take a look, maybe i\u0027ve screwed up on something!?!?   \n"
    },
    {
      "id": "58505",
      "timestamp": "2009-02-08T19:56:39+00:00",
      "author": "AlexData",
      "content": "Wish someone could present a list of the only files needed to boot XP into the desktop enviroment, either in safemode or normal mode... and how to make that work with an USB-STICK (not usb-hdd)  \n\nWhat are the basic files XP needs to boot a workable explorer (the shell/ui) where we can do the normal file copy/paste and browse files... (basic desktop, no other programs, internet, only the pure basics that enables us to run the windows UI we all know... (something like miniPE for usb... hehe)   \n"
    },
    {
      "id": "58507",
      "timestamp": "2009-02-08T20:04:39+00:00",
      "author": "was_jaclaz",
      "content": "In other words we should check one by one everything you have done and find the solution.  \n\nThe alternative being you choosing and following EXACTLY one of the suggested methods, succeed, then compare yourself what the differences are.  \n\nNow, first one means a lot of work for us, the second lots of work for you....which one to choose?..... let me think....![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nFor once in my life (besides saying \"this is mine you cant take it\" ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)), I\u0027ll take the **BLUE PILL** :smile:  \n[http://www.arrod.co....says/matrix.php](http://www.arrod.co.uk/essays/matrix.php \"External link\")  \n\nSorry. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nIf you take the time to read the already given link to XPCLI (the WHOLE thread) you will find the answers to your last post.  \n\n\u003cbr /\u003e\n\nI guess it\u0027s time to suggest you reading points #f. (all of them) of \"common sense advice\" appended to the Board Rules:  \n[http://www.boot-land...?act\u003dboardrules](http://www.boot-land.net/forums/index.php?act\u003dboardrules \"External link\")  \n\n\u003cbr /\u003e\n\njaclaz   \n"
    },
    {
      "id": "58634",
      "timestamp": "2009-02-09T17:21:38+00:00",
      "author": "AlexData",
      "content": "Hi again...  \n\nAs you suggested Jaclaz, i\u0027ve read the post from A-Z and reinstalled XP SP1, re-edited the files, the registry, \"re-compiled\" the ntdetect.com, and put it all together (for the 4th time, following the guide on this page: [http://www.911cd.net...o...4181\\\u0026st\u003d228](http://www.911cd.net/forums//index.php?showtopic\u003d14181\u0026st\u003d228 \"External link\") )  \n\nThing is... it still doesn\u0027t work...  \n\nThe usb-stick is bootable, it fat formatted, and the files are copied while using a miniPE CD, so that all files are \"not in use\" while being copied...  \n\nWhen I have edited the reigstry, and the files, the machine (either from USB or from HDD) does the following...  \n\nIt shows the BOOT.INI menu, then it comes up with the screen \"windows did not successfully boot/shutdown last time you used it, what do you want to do?\" (free translation from norwegian to english,  \nand then if you choose safemode, or normal mode, it gives you either a BLUE SCREEN [http://www.alexdata....T/ErrorBLUE.jpg](http://www.alexdata.com/USBBOOT/ErrorBLUE.jpg \"External link\"), or just a black screen (not loading, not blinking cursor, just black)  \n\nSo, I might have edited some file wrong somehow? That is why I posted the files, so that you folks, whom are better than me, and may have done this before, might look at them and find the bug...  \nlike: \"ahh, you forgot to write usb.inf correctly\"  \n\nI\u0027ve read all suggested posts, several times, still have no luck replicating it...   \nMy \"first\" test where I made copies of all edited files is here:  \n[http://www.alexdata....guide1files.zip](http://www.alexdata.com/USBBOOT/guide1files.zip \"External link\")  \n\nand my \"second\" attempt is here:  \n[http://www.alexdata....guide2files.zip](http://www.alexdata.com/USBBOOT/guide2files.zip \"External link\")  \n(in this scenario, I made a .BAT file to automatically copy the correct files, to the correct locations, after I first copied all files to ONE folder, and edited them... Then I clicked the BAT and it did the magic of putting the correct files, in the correct places... Still I get the exact same errors...  \n\nI will read the XPCLI again.. just to see if I might have missed out on something... Or if something there, migth be usefull for the guide im following (see link above)  \n\nSo far, thanks for suggestions and idea\u0027s (i do indeed try all of them, up to several times, I do like to learn from this, not just download something already finished, that works)  \n\nIf i wanted to, i could download many different \"finished works\" and use them, but I do indeed want to learn from this... so i dont...  \n\nThanks a million Jaclaz,and all you others, for links and suggestions!!   \n"
    },
    {
      "id": "58652",
      "timestamp": "2009-02-09T19:32:31+00:00",
      "author": "AlexData",
      "content": "I\u0027ve now started again...  \nThis time I\u0027ll do it step-by-step in a Virtual (vmWare) machine.  \n\n[\\*Click here for the guide im following\\*](http://www.911cd.net/forums//index.php?showtopic\u003d14181\u0026st\u003d228 \"External link\")  \n\nStep1:   \na. Install XP SP1  \nb. Disable pagefile  \nc. edit boot.ini (so that I can see that im booting the right sys)  \n\n```\n[boot loader]timeout\u003d5default\u003dmulti(0)disk(0)rdisk(0)partition(1)\\WINDOWS[operating systems]multi(0)disk(0)rdisk(0)partition(1)\\WINDOWS\u003d\"Windows XP Pro SP1\" /fastdetectmulti(0)disk(0)rdisk(0)partition(1)\\WINDOWS\u003d\"Windows XP SafeMode\" /SOS\n```\n\nd. replace original NTDETECT.COM with Dietmar\u0027s NTDETECT.COMe. Edit boot-options to DONT-REBOOT-ON-BSODf. REBOOT 1 - Check if everything works...(system booted and everything seems normal)g. Apply the REG changes to the SYSTEM HIVE(mount vmdisk as virtual disk in XP, connect the hive in regedit, edit the hive accordingly (see AUTO-OTTO.REG) and save the new HIVE as SYSTEM (remove/replace the old one)h. REBOOT 2 - This gives me the BSOD 0x0000007B ( \"usb\" error)i. mount vmdisk as virtual disk in XP, and change the .INF files, remove the .PNF files...j. Went to C:\\\\Windows\\\\Inf and deleted the 3 \\*.PNF files(usb.pnf usbstor.pnf usbport.pnf)k. copied the usb.inf usbstor.inf usbport.inf files to the desktop and edited them according to the guide...usb-inf.zip)l. deleted the orginal files in the INF folder and copied in the edited one\u0027s ...m. Unmounted the vmdisk and started the virtual machine again  \n(edited until now: ntdetect, system hive, and 3 inf files)  \nn. The machine starts, but shows the BSOD 0x00007B again !?!?  \n\nI must say i\u0027ve followed things step-by-step here, as the guide says... Cant see what i\u0027ve done wrong, according to the guide?!?  \n\nIM LOST NOW... LOST...  \n\\*maybe to be continued\\*   \n"
    },
    {
      "id": "58705",
      "timestamp": "2009-02-10T07:58:13+00:00",
      "author": "was_jaclaz",
      "content": "Wait a minute. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\n\u003e \u003cbr /\u003e\n\u003e\n\u003e \u003e h. REBOOT 2 - This gives me the BSOD 0x0000007B ( \"usb\" error)\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003cbr /\u003e\n\nThe 0x0000007B is not necessarily a \"usb\" error.  \nIt means \"inaccessible boot device\".  \n\nBut this REBOOT, which is NOT detailed in the guide, may be the problem :smile: as it will probably reset Registry values.  \n\nTry again ***WITHOUT*** this REBOOT.  \n\nCheck also this thread, using **marv** \u0027s service you should be able to get away with it:  \n[http://www.911cd.net...showtopic\u003d22473](http://www.911cd.net/forums//index.php?showtopic\u003d22473 \"External link\")  \n\n\u003cbr /\u003e\n\n\u003e a. Install XP SP1\nOn where? ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nIf you are using VMWare, did you add the specific VMWare hardware drivers?  \n\nI guess that it is not the \"best\" testing environment in the world.  \n\nWhy don\u0027t you try with Qemu?  \n\nQemu is a bit slower, but it\u0027s hardware is more \"standard\", meaning that it works with \"normal\" \"Standard PCI dual Channel\" without additional Mass Storage Devices (the LSI driver VMWare uses).  \n\nGet Qemu+QemuManager here:  \n[http://www.davereyn.co.uk/download.htm](http://www.davereyn.co.uk/download.htm \"External link\")  \nit\u0027s interface is similar to VMware, it shouldn\u0027t be difficult to get the hang of it.  \n\nI don\u0027t think the problem is your (Norwegian ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)) source, as Dietmar did it with a German one. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nTry reviewing this:  \n[http://www.msfn.org/...o...19963\\\u0026st\u003d23](http://www.msfn.org/board/index.php?showtopic\u003d119963\u0026st\u003d23 \"External link\")  \n\nTry using the .in_ files attached there (you can use 7-zip to extract .in_ to .inf)  \n\n\u003cbr /\u003e\n\njaclaz   \n"
    },
    {
      "id": "58791",
      "timestamp": "2009-02-10T17:57:19+00:00",
      "author": "AlexData",
      "content": "Now... tried without that reboot (the H. step) and with it... still no luck...  \n\nAlso...i checked out the...  \n\u003e Check also this thread, using marv\u0027s service you should be able to get away with it:  \n\u003e [http://www.911cd.net...showtopic\u003d22473](http://www.911cd.net/forums//index.php?showtopic\u003d22473 \"External link\")\n\nAnd as you can read at the END of that post, I ran into some problems using his BAT file... Strange error indeed...  \n\nSo, at the time being, im looking for ways to get to EDIT the SYSTEM hive, after doing the partial install as suggested by MARV... (read the last posts in there, and you\u0027ll better understand my current problem)  \n\nThis is a struggle to get to work...  \n\nWhat XP versions do you folks got this to work on... and by versions I mean both type and servicepack level...  \n\nIm trying to get this to work on:  \n*type: VLK Professional XP\nlevel: SP1 (servicepack1)\nlang: Norwegian*   \n"
    },
    {
      "id": "58810",
      "timestamp": "2009-02-10T19:55:45+00:00",
      "author": "was_jaclaz",
      "content": "My previous post contains, besides 1 statement:  \n2 suggestions about possible causes  \n3 questions  \n1 another suggestion to try  \n\nIf the first 2 suggestions do not work/are wrong, you shouldn\u0027t \"branch\" in finding out why program in 2nd suggestion is not working, you should for the moment set it aside, and go on along the \"main\" path, possibly answering to the questions and reporting about result of further suggestion.  \n\nAt this point it is clear that *something* is \"not as it should\". ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)   \n\nMaybe it\u0027s time to forget EVERYTHING written before on this thread and every attempt done till now and try the automated way:  \n[http://www.usboot.org/tiki-index.php](http://www.usboot.org/tiki-index.php \"External link\")  \n\nSince the latter works 99% of the times (or even more), it is anyway a method to check that (for example) Norwegian source (or it\u0027s SP1) or your testing environment, or whatever you are currently doing/using/running is OK.  \n\nTry to see it not as the way to produce the final result that you seek, but only as a kind of \"diagnostic program\" to exclude some of the possible causes for your current problems.  \n\njaclaz   \n"
    },
    {
      "id": "58819",
      "timestamp": "2009-02-10T20:27:05+00:00",
      "author": "AlexData",
      "content": "\u003e My previous post contains, besides 1 statement:  \n\u003e 2 suggestions about possible causes  \n\u003e 3 questions  \n\u003e 1 another suggestion to try\n\n**Question1:** I did not install any vmWare drivers, or the vmWare addon, that makes everything run faster/smoother.  \n\n**Question2:** Qemu and vmWare is much the same, if you install no drivers, I haven\u0027t tried QEMU, but i\u0027ve tried on a normal intel-pc (installing to the HDD C: and using MiniPE to edit the files) same results on all approaches so far...  \nGuess, I will try the QEMU too...  \n\n**Question3:** the MARV service. I tried that, and it failed.  \nCould not write to the SYSTEM hive, for reasons unknown!  \n\n*I seem to have forgotten to try **the .INF files** from that one post there... Will have a look at them...*   \n\nI will try your suggestions as to move on and go with the USBBOT-WIKI thingy...   \nsomething must work, and that one sounds like a winner...  \n\nThanks again for all your suggestions, and all! you\u0027re really something of a genious Jaclaz! you\u0027re a good man!   \n"
    },
    {
      "id": "58820",
      "timestamp": "2009-02-10T20:33:03+00:00",
      "author": "was_jaclaz",
      "content": "I see that you are quite used to common conventions used on PC\u0027s ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif), thus I will try and repeat question **0** ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\n\u003e \u003cbr /\u003e\n\u003e\n\u003e \u003e a. Install XP SP1\n\u003e On where? ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003cbr /\u003e\n\nI meant on WHAT device?  \n\nExamples:  \n\n* An internal HD mapped as physicaldrive\n* An USB device mapped as physicaldrive\n* A RAW disk image\n* A RAW disk image with a proper .pln description\n* Using the image as SCSI disk or IDE?\n\n\u003cbr /\u003e\n\njaclaz   \n"
    },
    {
      "id": "58858",
      "timestamp": "2009-02-11T05:11:07+00:00",
      "author": "AlexData",
      "content": "\u003e a. Install XP SP1  \n\u003e **On where???**   \n\u003e\n\u003e I meant on WHAT device?  \n\u003e EX:   \n\u003e An internal HD mapped as physicaldrive  \n\u003e An USB device mapped as physicaldrive  \n\u003e A RAW disk image  \n\u003e A RAW disk image with a proper .pln description  \n\u003e Using the image as SCSI disk or IDE?\n\nAll my tests has been tested on both vmware on one of its standard disk images (.vmdk)  \nAnd also tested by installing into via vmware and into a physical partition on my hdd (a partition previously formatted using Logical Disk Manager in XP)  \nAnd then finally, all methods has also been tested using my laptop (Lenovo - Celeron M 530(1.73GHz), 512MB RAM, 120GB)  \nand installing to C:\\\\ and using miniPE to do edits in the registry/files...  \n\nPS: im usally quite tired when reading and replying to posts, as I do so like 5or6 in the morning, and 10or11 in the night... after or before work...hehe   \n"
    },
    {
      "id": "59331",
      "timestamp": "2009-02-15T20:23:31+00:00",
      "author": "AlexData",
      "content": "Hi all...  \n\nThis weekend i\u0027ve been able to test the USBOOT.ORG method, aswell as QEMU... And I succeded in getting the USB-STICK to boot using USBOOT.ORG method...  \n\nI learnt that USBOOT needed SP2, so I installed XP SP1 on an QEMU virtual machine, then I upgraded it to SP2 from inside the virtual machine, then I copied over USBOOT and ran that, and got that almost successfully installed (some errors on some KBD drivers)  \nThen I shutdown the qemu-vm and mounted the image as a partition in my normal XP, formatted the partition using the HP tool that i\u0027ve mentioned before (also on my homepage) and then copied the files from the mounted partition and over to the usb-stick...  \nBooted the machine from the USB-STICK and got into windows from there...  \n\nSo I guess that shows us the following:  \n1.My machine can boot from usb.  \n2.My usb-stick can be used as bootable device.  \n3.XP SP2 VLK Norwegian can be USB BOOT ENABLED.  \n\nOnly thing is... I NLITED the SP1 install inorder to get it down to about 7-800mb (after installation) so its not an totally unmodified XP SP2 install (I removed all crap software and DLLCACHE and some other stuff from the ROOT of the CD)  \n\nAnyhow.. Now that we for sure know that my PC and USBSTICK is bootable, how do you suggest I continue from here?  \n\nShould I perhaps try the REG+INF on a SP2 install instead of an SP1?  \n\nIm sure that SP2 does work with this, but can I apply the REG+INF on an SP2 install and expect it to work? Installing a clean SP2 into a QEMU VM and mount it as a partition, then do the REG+INF modifications and copy all that to a USB-STICK... (after modifying the SP2, and copying it to USB, can i restart the QEMU VM and expect it to boot?)  \n\nIts been a busy weekend of work and valentinesday (gf is happy now)  \nbut I managed to get something working!  \nLooking for suggestions, and I like the way Jaclaz thinks! hehe!  \n(and the way all the others who have managed this, think too!)   \n"
    },
    {
      "id": "59392",
      "timestamp": "2009-02-16T07:34:25+00:00",
      "author": "was_jaclaz",
      "content": "Good. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nSP2 is NOT a requisite of USB booting (since Dietmar did it with SP1 originally) probably it is a requisite of USBoot.org.  \n\nIn the XPCLI thread I used both \"gold\" and SP1, and **cdob** tested SP2.  \n\nNow that you have a working USB build, export the relevant keys from the Registry, create a new \"plain\" install in Qemu, try applying the .REG\u0027s, and try placing the image on the stick.  \n\nIt is possible that in the non-nlited install you have some service that causes conflicts.  \n\nYou should check which services you have running in \"normal\" build and on the nlited install.  \n\n\u003e Then I shutdown the qemu-vm and mounted the image as a partition in my normal XP, formatted the partition using the HP tool that i\u0027ve mentioned before (also on my homepage) and then copied the files from the mounted partition and over to the usb-stick...\n\nI am not sure to have understood the process you followed. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nIf you \"copied files\" you are deemed to failure ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif) as WHAT will take care of the Disk Signature in the MBR? :smile:  \n\nI am NOT familiar with the innards of the Usboot.org workings, it is possible that **...Tim...** (the Author) has a workaround for it implemented in his program. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nYou could alternatively use a \"plainer\" approach, something along the lines of this:  \n[http://www.boot-land...?showtopic\u003d5000](http://www.boot-land.net/forums/index.php?showtopic\u003d5000 \"External link\")  \n[http://www.boot-land...?...c\u003d5000\\\u0026st\u003d1](http://www.boot-land.net/forums/index.php?showtopic\u003d5000\u0026st\u003d1 \"External link\")  \n\ni.e. having an image which ***IS*** the stick and the stick that ***IS*** the image.  \n\njaclaz   \n"
    },
    {
      "id": "58177",
      "timestamp": "2009-02-06T02:12:32+00:00",
      "author": "AlexData",
      "content": "I want to run XP from an USB on any computer  \n\nam i right if i say that XP running in SAFE MODE is using virtual drivers  \nand drivers that all hardware capable of running xp, can use  \nso that an XP install running in safemode would be usable on any pc?  \n\nI want this to be only the files neccessary to get into XP (desktop enviroment)  \nand be able to use EXPLORER (file managing) and to run programs (GHOST, DEFRAG)  \n\nSimply put...   \nXP as small as possible (only those files loaded when runnning safemode)  \nno need for fancy grafic or games/other utilities...  \nJust plain XP with NTFS read/write, ability to use EXPLORER for file copying  \nand running programs (standalone .EXE or thinstalls perhaps)  \nfrom an USB drive preferrably...  \n\nIt could also be some type of IMAGE loaded from the USB and into RAM  \nrunning XP, and then I could simply browse TOOLS from a folder on the USB  \n\nIs this possible, and HOW to make it so that I can use this as a backup/fix tool  \non any pc (capable of running windows) using VGA and/or virtual drivers  \njust like SAFEMODE does...?   \n"
    },
    {
      "id": "58192",
      "timestamp": "2009-02-06T07:19:13+00:00",
      "author": "was_jaclaz",
      "content": "First thing, welcome to the board. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nThe biggest problem would be accessing SATA/AHCI drives.  \n\nI don\u0027t think, but I may be completely and utterly wrong :cool:, that safe mode would work without them. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nA \"Full XP on USB\" is anyway something that is a bit more difficult to achieve, a \"basic\" PE should be much easier to achieve on USB, something like picoXP.  \n\nInstalling XP on a USB stick may be daunting, you should read the tutorials by Dietmar (find links to them in his signature):  \n[http://www.911cd.net...showtopic\u003d14181](http://www.911cd.net/forums//index.php?showtopic\u003d14181 \"External link\")  \nThe ngine.de \"simplified\" tutorial:  \n[http://www.ngine.de/article/id/8](http://www.ngine.de/article/id/8 \"External link\")  \nAnd try the automated way (simpler):  \n[http://www.usboot.org/tiki-index.php](http://www.usboot.org/tiki-index.php \"External link\")  \n\nExplorer is both a filemanager and a shell, I would rather use cmd.exe as a shell and another filemanager.  \n\nA project, completely and utterly experimental, but that seems to me exactly what you need/want, is XPCLI:  \n[http://www.boot-land...?showtopic\u003d3717](http://www.boot-land.net/forums/?showtopic\u003d3717 \"External link\")  \n\nThough building procedure is awful (I did it with one of my \"dinosaur\" batch scripts, and USB support has to be added manually) but once built, it is already fairly \"portable\".  \n\nSince you will use SuperVGA resolution, 800x600, you\u0027ll have no problems with video.  \n\nYou may want to try adding UNIATA to the build:  \n[http://alter.org.ua/...ft/win/uni_ata/](http://alter.org.ua/en/soft/win/uni_ata/ \"External link\")  \n\nAny motherboard that has in BIOS a setting for SATA/AHCI\\\u003c-\\\u003eIDE emulation (the large majority) will work with \"plain\" \"Dual channel PCI IDE\", in the rare case UNIATA won\u0027t work.  \n\nYou have LOTS of thing to read, understand, search, experiment with: you\u0027d better start....![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\njaclaz   \n"
    },
    {
      "id": "58197",
      "timestamp": "2009-02-06T08:04:48+00:00",
      "author": "wendy",
      "content": "Build your windows with the generic SATA drives in place. This would solve this problem.  \n\nI am not sure that a full Winxp on a flash-drive would be good, but a USB hard drive should not cause hassles. Still.  \n\nTo boot windows in safe mode, create a boot.ini on the USB, and put an operating system with a /SOS at the end of it. You can select from this menu, eg Windows full, or windows safe mode, or (eg) something else.   \n"
    },
    {
      "id": "58198",
      "timestamp": "2009-02-06T08:56:29+00:00",
      "author": "AlexData",
      "content": "Hehe... Thanks for all the links and info Jacklaz.  \nand for your Sata/Boot.ini tip Wendy!  \n\nJust to make sure we\u0027re on the same page!  \nThe XP install on this USB doesnt need to be FULL, just big enough (read; the needed files) to be able to display explorer, and to run apps like Ghost and Defrags, and perhaps Thinstalled programs (standalone virtualized programs)  \n\nI\u0027ve been playing with some of this before, and I once made a CD based on MiniPE (years ago) that still works, and another simple CD with a DOS boot sector that displays an CONFIG.SYS menu and then influences AUTOEXEC.BAT to do specific things, after you\u0027ve chosen something from the menu. Both these CD\u0027s are working, and are used weekly as they are some of the greatest tools i have!  \n(Credit to whoever made it able for me to make those!!!)  \n\nThing is, USB media is larger (2-8gb without a problem) and is REWRITABLE, and I can store different .GHO images on them!  \nOne for my main pc\u0027s, and one SYSPREP\u0027ped image to re-install XP on other pc\u0027s, fully updated and included with the most used programs..(all we need to add later is drivers, yeah!)  \n\nSo, I\u0027ll read your links, and think a little about what I read, and then see if any of that can be used the way I want...  \n\nThing is, If we have availible all the files XP uses to SAFEMODE, and then make a bootable USB-stick with a BOOT.INI with the /SOS switch, then in theory, this XP should be able to load on most common pc\u0027s (and yes, we might add SATA drivers too, just in case!!)   \n\nAny idea\u0027s on how to get XP narrowed down to only the SAFEMODE files?  \nIm tempted to install XP on a VirtualPC, using a REAL partition, where i at will can delete files and folders until safemode does no longer work, but if anyone else has better idea\u0027s, I\u0027ll try them too!   \n"
    },
    {
      "id": "58201",
      "timestamp": "2009-02-06T09:14:55+00:00",
      "author": "wimb",
      "content": "You can boot with 115 MB LiveXP BootSDI.img IMAGE file in 30 sec from RAMDISK loaded in few seconds from Harddisk or in about 5 minutes from USB-stick.  \nThis is useful as Escape Boot Option in case Booting with Windows XP may fail, so that you can Repair your System or use Ghost for System Backup and System Restore (with speed of 3 GB / min from Harddisk to Harddisk).  \n\nYou can use **Make_USB.exe** of **U_XP_SET** package to make USB-stick Bootable with LiveXP or use **BOOT_IMG.exe** to Install LiveXP as Boot Option in boot.ini Menu or GRUB4DOS menu.lst on your Harddisk.  \n[http://www.boot-land...?showtopic\u003d5306](http://www.boot-land.net/forums/index.php?showtopic\u003d5306 \"External link\")  \n\nLiveXP BootSDI.img file is most easily made by using one of the Stable Projects of **amalux** e.g. lx101408cxs.exe where you have to add Ghost Plus!.script  \nTutorial of amalux [http://www.boot-land...?showtopic\u003d4111](http://www.boot-land.net/forums/index.php?showtopic\u003d4111 \"External link\")  \nDownload from [http://amalux.winbuilder.net/](http://amalux.winbuilder.net/ \"External link\")   \n"
    },
    {
      "id": "58205",
      "timestamp": "2009-02-06T09:41:26+00:00",
      "author": "was_jaclaz",
      "content": "\u003e So, I\u0027ll read your links, and think a little about what I read, and then see if any of that can be used the way I want...\nGood. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\n\u003e Thing is, If we have availible all the files XP uses to SAFEMODE, and then make a bootable USB-stick with a BOOT.INI with the /SOS switch, then in theory, this XP should be able to load on most common pc\u0027s (and yes, we might add SATA drivers too, just in case!!)   \n\u003e\n\u003e Any idea\u0027s on how to get XP narrowed down to only the SAFEMODE files?  \n\u003e Im tempted to install XP on a VirtualPC, using a REAL partition, where i at will can delete files and folders until safemode does no longer work, but if anyone else has better idea\u0027s, I\u0027ll try them too!\nYep, lot\u0027s of ideas :cool: , but we should wait for your checking the \"catalog\" of what has already been done.  \n\nMind you, I do like people willing to experiment and opening new paths ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), but if you are wanting to re-invent the wheel:  \n[http://www.boot-land...?...c\u003d2037\\\u0026st\u003d8](http://www.boot-land.net/forums/index.php?showtopic\u003d2037\u0026st\u003d8 \"External link\")  \nmake sure you invent a \"better wheel\":  \n[http://www.boot-land...?...c\u003d5881\\\u0026st\u003d5](http://www.boot-land.net/forums/index.php?showtopic\u003d5881\u0026st\u003d5 \"External link\")  \n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\n\u003cbr /\u003e\n\nI forgot to give you a pointer to an \"evolution\" or, maybe better said \"branch\" of XPCLI, GluonXP:  \n[http://www.boot-land...?...c\u003d6393\\\u0026st\u003d0](http://www.boot-land.net/forums/index.php?showtopic\u003d6393\u0026st\u003d0 \"External link\")  \n\n(as well highly experimental and limited in features)  \n\nYou\u0027ve got LOTS of things to read, understand and try, you\u0027d better start working! ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n\njaclaz   \n"
    },
    {
      "id": "58215",
      "timestamp": "2009-02-06T10:57:54+00:00",
      "author": "AlexData",
      "content": "Oki...  \n\nGood tips, and yes, a LOT to read...  \nsome of the idea\u0027s fits, some is a bit \"out-there\" (maybe)  \n\nAnyhow...  \n\nI got down to buisness, trying the simple path first!  \n\nTook mu USB-STICK and formatted it into FAT (4gb stick)  \nusing the HP-Format Tool (I\u0027ll post it on my homepage)  \n\n[http://www.alexdata.com/USBBOOT](http://www.alexdata.com/USBBOOT \"External link\")  \n\nAnd then copied the following files to the USB-STICK:  \n\n**ntldr\nntdetect.com\nboot.ini**   \n\nand modified BOOT.INI to look like this:  \n\n```\n;ALEXDATA BOOT MENU - Boot XP into SAFEMODE from USB\n\n\u0026#91;boot loader\u0026#93;\n\ntimeout\u003d30\n\ndefault\u003dmulti\u0026#40;0\u0026#41;disk\u0026#40;0\u0026#41;rdisk\u0026#40;0\u0026#41;partition\u0026#40;1\u0026#41;\\WINDOWS\n\n\u0026#91;operating systems\u0026#93;\n\nmulti\u0026#40;0\u0026#41;disk\u0026#40;0\u0026#41;rdisk\u0026#40;0\u0026#41;partition\u0026#40;1\u0026#41;\\WINDOWS\u003d\u0026#34;WINDOWS SAFEMODE DISK0\u0026#58;PART1\u0026#34; /SOS\n\nmulti\u0026#40;0\u0026#41;disk\u0026#40;0\u0026#41;rdisk\u0026#40;0\u0026#41;partition\u0026#40;1\u0026#41;\\WINDOWS\u003d\u0026#34;WINDOWS NORMALE DISK0\u0026#58;PART1\u0026#34; /NOEXECUTE\u003dOPTIN /FASTDETECT\n```\n\n\u003cbr /\u003e\n\nSo when I boot my computer and it starts from the USB-STICK i get the menu where I can choose from the two above...  \n\nThen I went on to make an WINDOWS folder on my USB-STICK, and included the SYSTEM32 folder in it, and then the CONFIG folder inside there again...  \nI copied all .NLS files into SYSTEM32, and all .DLL files into SYSTEM32 on my USB-STICK (from my OS, xp-pro-sp3) and then some of the files I know windows uses, like;  \nntoskrnl.exe  \nand others  \n(i will make a filelist as soon as i get past the SAFEMODE\u0027s boottime filelisting, where it loads DLL\u0027s and such...)  \n\nAnyhow, maybe it all will fail when it tries to load NTOSKRNL.EXE and the BOOVID.DLL since my current os is not optimalized to boot from USB (it was not installed from an USB-ENABLED XP-INSTALL) hehe  \n\nAnyhow, I\u0027ll keep you posted on my progress, and my step-backs...  \n\nDue to work and GF, I have only limited time to create anything,hehe!   \n"
    },
    {
      "id": "58218",
      "timestamp": "2009-02-06T11:19:30+00:00",
      "author": "AlexData",
      "content": "Well.. after copying the files it asks for (and probably some more) it got past the black loading screen, where it lists the files that it loads...  \nThen it showed me the \"Welcome to windows\" screen (or similar to it) and stated how much RAM i had, and some other white text, before it BSOD\u0027ed and restarted!   \nSo, thing is... this seems rather possible, guess one of the files needed to be loaded, like NTOSKRNL.EXE is cutting the power to the USB and thus giving me the BSOD error...  \nI will have to modify my current REGISTRY to show the BSOD, then copy the C:\\\\windows\\\\system32\\\\config folder into the USB again, and then see what happens next... It will be easier once I can read the BSOD message, heh!   \n"
    },
    {
      "id": "58219",
      "timestamp": "2009-02-06T11:30:52+00:00",
      "author": "was_jaclaz",
      "content": "Bets are not allowed on the board, but predictions are. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nMy crystal ball tells me the it is a 0x0000007b STOP ERROR.......:cool:  \n\njaclaz   \n"
    },
    {
      "id": "58221",
      "timestamp": "2009-02-06T11:43:59+00:00",
      "author": "AlexData",
      "content": "Guess ya all saw it coming...  \n\nBSOD: 0x0000007B  \n\nSo it seems that just copying an already running XP (not clean) and not having enabled it for USB (during install) and so on, yields me an error...  \n\nAny good idea\u0027s (yes, i will do a clean install, preferrably an USB-enabled one) but other than that?  \n\nAnyone with an already USB-enabled install, trying the same, getting any closer than i did???   \n"
    },
    {
      "id": "58222",
      "timestamp": "2009-02-06T11:48:56+00:00",
      "author": "AlexData",
      "content": "Can anyone explain closer what that error might mean?  \n\nHow to fix it (other ways than those I\u0027ve already thinked about)  \n\nAny idea\u0027s... anyone tried the similar approach like me, but with an USB enabled OS... ?  \n\nI\u0027ll try to post my filelist so far \"Called FileList-1\" at my homepage, today perhaps...  \nwww.alexdata.com/USBBOOT   \n"
    },
    {
      "id": "58223",
      "timestamp": "2009-02-06T11:56:25+00:00",
      "author": "was_jaclaz",
      "content": "\u003e Guess ya all saw it coming...  \n\u003e\n\u003e BSOD: 0x0000007B  \n\u003e\n\u003e So it seems that just copying an already running XP (not clean) and not having enabled it for USB (during install) and so on, yields me an error...\nWaiter, taste the soup:  \n[http://gregdek.livej....com/14554.html](http://gregdek.livejournal.com/14554.html \"External link\")  \n\n**Aha. Aha!**   \n\n\u003e Any good idea\u0027s (yes, i will do a clean install, preferrably an USB-enabled one) but other than that?\nReading the whole loooong thread on 911CD and learn how to enable an already installed XP? ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \nbut it will take you some time....  \nMaybe Tutorial #3 may suit you:  \n[http://www.911cd.net...o...4181\\\u0026st\u003d228](http://www.911cd.net/forums//index.php?showtopic\u003d14181\u0026st\u003d228 \"External link\")  \n\n\u003e Anyone with an already USB-enabled install, trying the same, getting any closer than i did???\nYou appear to be missing a point, it\u0027s a binary 0/1 or ON/OFF switch :cool::  \nif the build is NOT \"USB enabled\", it will produce a 0x0000007b BSOD ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif) (binary 0/OFF)  \nif the build is \"USB enabled\" it will boot without errors ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif) (binary 1/ON)  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\njaclaz   \n"
    },
    {
      "id": "58502",
      "timestamp": "2009-02-08T19:45:20+00:00",
      "author": "AlexData",
      "content": "Okey...  \n\nI did make a new CD (XP Pro VLK SP1) with nothing more than the original cd + sp1 update (using nLite) and installed that to a HDD (to C: hdd0:partition1)  \n\nThen I got hold of the edited \"ntdetect.com\" and replaced that, I also edited the \"usb.inf\" the \"usbport.inf\" the \"usbstor.inf\" and created a new SYSTEM Hive following the GUIDE found at this location: [http://www.911cd.net...o...4181\\\u0026st\u003d228](http://www.911cd.net/forums//index.php?showtopic\u003d14181\u0026st\u003d228 \"External link\")  \n(also deleted the files the guide mentioned)  \n\nThen I copied this over to my USB-Stick (that is bootable and FAT formatted) and in my BOOT.INI file I have the /SOS option so to start the system in SAFEMODE, still i get a BSOD...  \n\nSo, SP1 whom is reported to work on with USB, and the necessary USB edits both in registry and in INF files...  \n\nStill.. no luck.. So my question is then, what might I be doing wrong? Anyone care to take a look at my files? I\u0027ll put the whole bunch of files into a ZIP and that can be found at [http://www.alexdata....guide1files.zip](http://www.alexdata.com/USBBOOT/guide1files.zip \"External link\")   \nand take a look, maybe i\u0027ve screwed up on something!?!?   \n"
    },
    {
      "id": "58505",
      "timestamp": "2009-02-08T19:56:39+00:00",
      "author": "AlexData",
      "content": "Wish someone could present a list of the only files needed to boot XP into the desktop enviroment, either in safemode or normal mode... and how to make that work with an USB-STICK (not usb-hdd)  \n\nWhat are the basic files XP needs to boot a workable explorer (the shell/ui) where we can do the normal file copy/paste and browse files... (basic desktop, no other programs, internet, only the pure basics that enables us to run the windows UI we all know... (something like miniPE for usb... hehe)   \n"
    },
    {
      "id": "58507",
      "timestamp": "2009-02-08T20:04:39+00:00",
      "author": "was_jaclaz",
      "content": "In other words we should check one by one everything you have done and find the solution.  \n\nThe alternative being you choosing and following EXACTLY one of the suggested methods, succeed, then compare yourself what the differences are.  \n\nNow, first one means a lot of work for us, the second lots of work for you....which one to choose?..... let me think....![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nFor once in my life (besides saying \"this is mine you cant take it\" ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)), I\u0027ll take the **BLUE PILL** :smile:  \n[http://www.arrod.co....says/matrix.php](http://www.arrod.co.uk/essays/matrix.php \"External link\")  \n\nSorry. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nIf you take the time to read the already given link to XPCLI (the WHOLE thread) you will find the answers to your last post.  \n\n\u003cbr /\u003e\n\nI guess it\u0027s time to suggest you reading points #f. (all of them) of \"common sense advice\" appended to the Board Rules:  \n[http://www.boot-land...?act\u003dboardrules](http://www.boot-land.net/forums/index.php?act\u003dboardrules \"External link\")  \n\n\u003cbr /\u003e\n\njaclaz   \n"
    },
    {
      "id": "58634",
      "timestamp": "2009-02-09T17:21:38+00:00",
      "author": "AlexData",
      "content": "Hi again...  \n\nAs you suggested Jaclaz, i\u0027ve read the post from A-Z and reinstalled XP SP1, re-edited the files, the registry, \"re-compiled\" the ntdetect.com, and put it all together (for the 4th time, following the guide on this page: [http://www.911cd.net...o...4181\\\u0026st\u003d228](http://www.911cd.net/forums//index.php?showtopic\u003d14181\u0026st\u003d228 \"External link\") )  \n\nThing is... it still doesn\u0027t work...  \n\nThe usb-stick is bootable, it fat formatted, and the files are copied while using a miniPE CD, so that all files are \"not in use\" while being copied...  \n\nWhen I have edited the reigstry, and the files, the machine (either from USB or from HDD) does the following...  \n\nIt shows the BOOT.INI menu, then it comes up with the screen \"windows did not successfully boot/shutdown last time you used it, what do you want to do?\" (free translation from norwegian to english,  \nand then if you choose safemode, or normal mode, it gives you either a BLUE SCREEN [http://www.alexdata....T/ErrorBLUE.jpg](http://www.alexdata.com/USBBOOT/ErrorBLUE.jpg \"External link\"), or just a black screen (not loading, not blinking cursor, just black)  \n\nSo, I might have edited some file wrong somehow? That is why I posted the files, so that you folks, whom are better than me, and may have done this before, might look at them and find the bug...  \nlike: \"ahh, you forgot to write usb.inf correctly\"  \n\nI\u0027ve read all suggested posts, several times, still have no luck replicating it...   \nMy \"first\" test where I made copies of all edited files is here:  \n[http://www.alexdata....guide1files.zip](http://www.alexdata.com/USBBOOT/guide1files.zip \"External link\")  \n\nand my \"second\" attempt is here:  \n[http://www.alexdata....guide2files.zip](http://www.alexdata.com/USBBOOT/guide2files.zip \"External link\")  \n(in this scenario, I made a .BAT file to automatically copy the correct files, to the correct locations, after I first copied all files to ONE folder, and edited them... Then I clicked the BAT and it did the magic of putting the correct files, in the correct places... Still I get the exact same errors...  \n\nI will read the XPCLI again.. just to see if I might have missed out on something... Or if something there, migth be usefull for the guide im following (see link above)  \n\nSo far, thanks for suggestions and idea\u0027s (i do indeed try all of them, up to several times, I do like to learn from this, not just download something already finished, that works)  \n\nIf i wanted to, i could download many different \"finished works\" and use them, but I do indeed want to learn from this... so i dont...  \n\nThanks a million Jaclaz,and all you others, for links and suggestions!!   \n"
    },
    {
      "id": "58652",
      "timestamp": "2009-02-09T19:32:31+00:00",
      "author": "AlexData",
      "content": "I\u0027ve now started again...  \nThis time I\u0027ll do it step-by-step in a Virtual (vmWare) machine.  \n\n[\\*Click here for the guide im following\\*](http://www.911cd.net/forums//index.php?showtopic\u003d14181\u0026st\u003d228 \"External link\")  \n\nStep1:   \na. Install XP SP1  \nb. Disable pagefile  \nc. edit boot.ini (so that I can see that im booting the right sys)  \n\n```\n[boot loader]timeout\u003d5default\u003dmulti(0)disk(0)rdisk(0)partition(1)\\WINDOWS[operating systems]multi(0)disk(0)rdisk(0)partition(1)\\WINDOWS\u003d\"Windows XP Pro SP1\" /fastdetectmulti(0)disk(0)rdisk(0)partition(1)\\WINDOWS\u003d\"Windows XP SafeMode\" /SOS\n```\n\nd. replace original NTDETECT.COM with Dietmar\u0027s NTDETECT.COMe. Edit boot-options to DONT-REBOOT-ON-BSODf. REBOOT 1 - Check if everything works...(system booted and everything seems normal)g. Apply the REG changes to the SYSTEM HIVE(mount vmdisk as virtual disk in XP, connect the hive in regedit, edit the hive accordingly (see AUTO-OTTO.REG) and save the new HIVE as SYSTEM (remove/replace the old one)h. REBOOT 2 - This gives me the BSOD 0x0000007B ( \"usb\" error)i. mount vmdisk as virtual disk in XP, and change the .INF files, remove the .PNF files...j. Went to C:\\\\Windows\\\\Inf and deleted the 3 \\*.PNF files(usb.pnf usbstor.pnf usbport.pnf)k. copied the usb.inf usbstor.inf usbport.inf files to the desktop and edited them according to the guide...usb-inf.zip)l. deleted the orginal files in the INF folder and copied in the edited one\u0027s ...m. Unmounted the vmdisk and started the virtual machine again  \n(edited until now: ntdetect, system hive, and 3 inf files)  \nn. The machine starts, but shows the BSOD 0x00007B again !?!?  \n\nI must say i\u0027ve followed things step-by-step here, as the guide says... Cant see what i\u0027ve done wrong, according to the guide?!?  \n\nIM LOST NOW... LOST...  \n\\*maybe to be continued\\*   \n"
    },
    {
      "id": "58705",
      "timestamp": "2009-02-10T07:58:13+00:00",
      "author": "was_jaclaz",
      "content": "Wait a minute. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\n\u003e \u003cbr /\u003e\n\u003e\n\u003e \u003e h. REBOOT 2 - This gives me the BSOD 0x0000007B ( \"usb\" error)\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003cbr /\u003e\n\nThe 0x0000007B is not necessarily a \"usb\" error.  \nIt means \"inaccessible boot device\".  \n\nBut this REBOOT, which is NOT detailed in the guide, may be the problem :smile: as it will probably reset Registry values.  \n\nTry again ***WITHOUT*** this REBOOT.  \n\nCheck also this thread, using **marv** \u0027s service you should be able to get away with it:  \n[http://www.911cd.net...showtopic\u003d22473](http://www.911cd.net/forums//index.php?showtopic\u003d22473 \"External link\")  \n\n\u003cbr /\u003e\n\n\u003e a. Install XP SP1\nOn where? ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nIf you are using VMWare, did you add the specific VMWare hardware drivers?  \n\nI guess that it is not the \"best\" testing environment in the world.  \n\nWhy don\u0027t you try with Qemu?  \n\nQemu is a bit slower, but it\u0027s hardware is more \"standard\", meaning that it works with \"normal\" \"Standard PCI dual Channel\" without additional Mass Storage Devices (the LSI driver VMWare uses).  \n\nGet Qemu+QemuManager here:  \n[http://www.davereyn.co.uk/download.htm](http://www.davereyn.co.uk/download.htm \"External link\")  \nit\u0027s interface is similar to VMware, it shouldn\u0027t be difficult to get the hang of it.  \n\nI don\u0027t think the problem is your (Norwegian ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)) source, as Dietmar did it with a German one. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nTry reviewing this:  \n[http://www.msfn.org/...o...19963\\\u0026st\u003d23](http://www.msfn.org/board/index.php?showtopic\u003d119963\u0026st\u003d23 \"External link\")  \n\nTry using the .in_ files attached there (you can use 7-zip to extract .in_ to .inf)  \n\n\u003cbr /\u003e\n\njaclaz   \n"
    },
    {
      "id": "58791",
      "timestamp": "2009-02-10T17:57:19+00:00",
      "author": "AlexData",
      "content": "Now... tried without that reboot (the H. step) and with it... still no luck...  \n\nAlso...i checked out the...  \n\u003e Check also this thread, using marv\u0027s service you should be able to get away with it:  \n\u003e [http://www.911cd.net...showtopic\u003d22473](http://www.911cd.net/forums//index.php?showtopic\u003d22473 \"External link\")\n\nAnd as you can read at the END of that post, I ran into some problems using his BAT file... Strange error indeed...  \n\nSo, at the time being, im looking for ways to get to EDIT the SYSTEM hive, after doing the partial install as suggested by MARV... (read the last posts in there, and you\u0027ll better understand my current problem)  \n\nThis is a struggle to get to work...  \n\nWhat XP versions do you folks got this to work on... and by versions I mean both type and servicepack level...  \n\nIm trying to get this to work on:  \n*type: VLK Professional XP\nlevel: SP1 (servicepack1)\nlang: Norwegian*   \n"
    },
    {
      "id": "58810",
      "timestamp": "2009-02-10T19:55:45+00:00",
      "author": "was_jaclaz",
      "content": "My previous post contains, besides 1 statement:  \n2 suggestions about possible causes  \n3 questions  \n1 another suggestion to try  \n\nIf the first 2 suggestions do not work/are wrong, you shouldn\u0027t \"branch\" in finding out why program in 2nd suggestion is not working, you should for the moment set it aside, and go on along the \"main\" path, possibly answering to the questions and reporting about result of further suggestion.  \n\nAt this point it is clear that *something* is \"not as it should\". ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)   \n\nMaybe it\u0027s time to forget EVERYTHING written before on this thread and every attempt done till now and try the automated way:  \n[http://www.usboot.org/tiki-index.php](http://www.usboot.org/tiki-index.php \"External link\")  \n\nSince the latter works 99% of the times (or even more), it is anyway a method to check that (for example) Norwegian source (or it\u0027s SP1) or your testing environment, or whatever you are currently doing/using/running is OK.  \n\nTry to see it not as the way to produce the final result that you seek, but only as a kind of \"diagnostic program\" to exclude some of the possible causes for your current problems.  \n\njaclaz   \n"
    },
    {
      "id": "58819",
      "timestamp": "2009-02-10T20:27:05+00:00",
      "author": "AlexData",
      "content": "\u003e My previous post contains, besides 1 statement:  \n\u003e 2 suggestions about possible causes  \n\u003e 3 questions  \n\u003e 1 another suggestion to try\n\n**Question1:** I did not install any vmWare drivers, or the vmWare addon, that makes everything run faster/smoother.  \n\n**Question2:** Qemu and vmWare is much the same, if you install no drivers, I haven\u0027t tried QEMU, but i\u0027ve tried on a normal intel-pc (installing to the HDD C: and using MiniPE to edit the files) same results on all approaches so far...  \nGuess, I will try the QEMU too...  \n\n**Question3:** the MARV service. I tried that, and it failed.  \nCould not write to the SYSTEM hive, for reasons unknown!  \n\n*I seem to have forgotten to try **the .INF files** from that one post there... Will have a look at them...*   \n\nI will try your suggestions as to move on and go with the USBBOT-WIKI thingy...   \nsomething must work, and that one sounds like a winner...  \n\nThanks again for all your suggestions, and all! you\u0027re really something of a genious Jaclaz! you\u0027re a good man!   \n"
    },
    {
      "id": "58820",
      "timestamp": "2009-02-10T20:33:03+00:00",
      "author": "was_jaclaz",
      "content": "I see that you are quite used to common conventions used on PC\u0027s ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif), thus I will try and repeat question **0** ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\n\u003e \u003cbr /\u003e\n\u003e\n\u003e \u003e a. Install XP SP1\n\u003e On where? ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003cbr /\u003e\n\nI meant on WHAT device?  \n\nExamples:  \n\n* An internal HD mapped as physicaldrive\n* An USB device mapped as physicaldrive\n* A RAW disk image\n* A RAW disk image with a proper .pln description\n* Using the image as SCSI disk or IDE?\n\n\u003cbr /\u003e\n\njaclaz   \n"
    },
    {
      "id": "58858",
      "timestamp": "2009-02-11T05:11:07+00:00",
      "author": "AlexData",
      "content": "\u003e a. Install XP SP1  \n\u003e **On where???**   \n\u003e\n\u003e I meant on WHAT device?  \n\u003e EX:   \n\u003e An internal HD mapped as physicaldrive  \n\u003e An USB device mapped as physicaldrive  \n\u003e A RAW disk image  \n\u003e A RAW disk image with a proper .pln description  \n\u003e Using the image as SCSI disk or IDE?\n\nAll my tests has been tested on both vmware on one of its standard disk images (.vmdk)  \nAnd also tested by installing into via vmware and into a physical partition on my hdd (a partition previously formatted using Logical Disk Manager in XP)  \nAnd then finally, all methods has also been tested using my laptop (Lenovo - Celeron M 530(1.73GHz), 512MB RAM, 120GB)  \nand installing to C:\\\\ and using miniPE to do edits in the registry/files...  \n\nPS: im usally quite tired when reading and replying to posts, as I do so like 5or6 in the morning, and 10or11 in the night... after or before work...hehe   \n"
    },
    {
      "id": "59331",
      "timestamp": "2009-02-15T20:23:31+00:00",
      "author": "AlexData",
      "content": "Hi all...  \n\nThis weekend i\u0027ve been able to test the USBOOT.ORG method, aswell as QEMU... And I succeded in getting the USB-STICK to boot using USBOOT.ORG method...  \n\nI learnt that USBOOT needed SP2, so I installed XP SP1 on an QEMU virtual machine, then I upgraded it to SP2 from inside the virtual machine, then I copied over USBOOT and ran that, and got that almost successfully installed (some errors on some KBD drivers)  \nThen I shutdown the qemu-vm and mounted the image as a partition in my normal XP, formatted the partition using the HP tool that i\u0027ve mentioned before (also on my homepage) and then copied the files from the mounted partition and over to the usb-stick...  \nBooted the machine from the USB-STICK and got into windows from there...  \n\nSo I guess that shows us the following:  \n1.My machine can boot from usb.  \n2.My usb-stick can be used as bootable device.  \n3.XP SP2 VLK Norwegian can be USB BOOT ENABLED.  \n\nOnly thing is... I NLITED the SP1 install inorder to get it down to about 7-800mb (after installation) so its not an totally unmodified XP SP2 install (I removed all crap software and DLLCACHE and some other stuff from the ROOT of the CD)  \n\nAnyhow.. Now that we for sure know that my PC and USBSTICK is bootable, how do you suggest I continue from here?  \n\nShould I perhaps try the REG+INF on a SP2 install instead of an SP1?  \n\nIm sure that SP2 does work with this, but can I apply the REG+INF on an SP2 install and expect it to work? Installing a clean SP2 into a QEMU VM and mount it as a partition, then do the REG+INF modifications and copy all that to a USB-STICK... (after modifying the SP2, and copying it to USB, can i restart the QEMU VM and expect it to boot?)  \n\nIts been a busy weekend of work and valentinesday (gf is happy now)  \nbut I managed to get something working!  \nLooking for suggestions, and I like the way Jaclaz thinks! hehe!  \n(and the way all the others who have managed this, think too!)   \n"
    },
    {
      "id": "59392",
      "timestamp": "2009-02-16T07:34:25+00:00",
      "author": "was_jaclaz",
      "content": "Good. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nSP2 is NOT a requisite of USB booting (since Dietmar did it with SP1 originally) probably it is a requisite of USBoot.org.  \n\nIn the XPCLI thread I used both \"gold\" and SP1, and **cdob** tested SP2.  \n\nNow that you have a working USB build, export the relevant keys from the Registry, create a new \"plain\" install in Qemu, try applying the .REG\u0027s, and try placing the image on the stick.  \n\nIt is possible that in the non-nlited install you have some service that causes conflicts.  \n\nYou should check which services you have running in \"normal\" build and on the nlited install.  \n\n\u003e Then I shutdown the qemu-vm and mounted the image as a partition in my normal XP, formatted the partition using the HP tool that i\u0027ve mentioned before (also on my homepage) and then copied the files from the mounted partition and over to the usb-stick...\n\nI am not sure to have understood the process you followed. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nIf you \"copied files\" you are deemed to failure ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif) as WHAT will take care of the Disk Signature in the MBR? :smile:  \n\nI am NOT familiar with the innards of the Usboot.org workings, it is possible that **...Tim...** (the Author) has a workaround for it implemented in his program. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nYou could alternatively use a \"plainer\" approach, something along the lines of this:  \n[http://www.boot-land...?showtopic\u003d5000](http://www.boot-land.net/forums/index.php?showtopic\u003d5000 \"External link\")  \n[http://www.boot-land...?...c\u003d5000\\\u0026st\u003d1](http://www.boot-land.net/forums/index.php?showtopic\u003d5000\u0026st\u003d1 \"External link\")  \n\ni.e. having an image which ***IS*** the stick and the stick that ***IS*** the image.  \n\njaclaz   \n"
    },
    {
      "id": "59410",
      "timestamp": "2009-02-16T11:10:52+00:00",
      "author": "AlexData",
      "content": "\u003e SP2 is NOT a requisite of USB booting (since Dietmar did it with SP1 originally) probably it is a requisite of USBoot.org\nThat\u0027s what I meant, it IS a requisite of USBoot and that is why I failed in my first few tests, because I never got any error telling me that I needed SP2...  \n\n\u003e Now that you have a working USB build, export the relevant keys from the Registry, create a new \"plain\" install in Qemu, try applying the .REG\u0027s, and try placing the image on the stick.\nI will look through the registry and get the keys that i\u0027ve beforehand have tried to edit myself, and paste them back to a clean SP2 install on a QEMU machine, then copy that install over to the usb-stick!  \n\n\u003e It is possible that in the non-nlited install you have some service that causes conflicts.  \n\u003e You should check which services you have running in \"normal\" build and on the nlited install.\nI will take a look at this, even though I know that I did not myself disable any services, so if anything is disabled, then it was most likely done by the USBot.org script...  \n\n\u003e Then I shutdown the qemu-vm and mounted the image as a partition in my normal XP, **formatted the partition** using the HP tool that i\u0027ve mentioned before (also on my homepage) and then copied the files from the mounted partition and over to the usb-stick...\nHA HA HA... Seems like the word partition came in use, one to many times there...It should read like more like this;  \n*Then I shutdown the qemu-vm and mounted the image as a partition in my normal XP, **formatted the USB-STICK** using the HP tool that i\u0027ve mentioned before (also on my homepage) and then copied the files from the mounted partition(qemu image) and over to the usb-stick...* Sorry about that glitch...  \n\nHmm...  \n\n\u003e If you \"copied files\" you are deemed to failure as WHAT will take care of the Disk Signature in the MBR?\nIm sure that I just copied the files,everytime i\u0027ve tried this, also when I tried the USBoot.org way of doing it... So if the USB-Stick needs an MBR after you format it, then I dont know how to do that (and then in that case, the USBoot.org script has handled that, since it now is working...)  \nI guess i will MANUALLY DELETE the files from the stick, as to leave the MBR and all behind, then as before, manually COPY the files(using the reg copy+qemu you suggested) back onto the usb-stick. Hopefully that will leave me with an working MBR?  \n\nAlso, while we\u0027re at it... MBR (Master Boot Record, I presume)  \nHow would I copy that from a QEMU image and over to the USB-STICK?  \nCan\u0027t remember reading to much about that in the DIETMAR tutorial...   \n"
    },
    {
      "id": "59426",
      "timestamp": "2009-02-16T12:16:23+00:00",
      "author": "was_jaclaz",
      "content": "Maybe another item that needs clarifications ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nAny NT based system uses a signature in the MBR ( yes, ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif) Master Boot Record) to identify the hard-disk-like device it is booting from.  \n\nIf you install XP on a given drive, that install is \"linked\" to the MBR (actually to the disk signature in it) and won\u0027t boot/work on another device (unless you replicate on it the same signature), though this should not produce a 0x0000007b error ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif) or, as indicated in tutorial 3, you delete the MountedDevices key in Registry.  \n\nSome of Dietmar\u0027s early tutorials actually use the concept of \"cloning\" (or \"imaging\") as OPPOSED to \"copying files\", the deleting of MountedDevices was devised later.  \n\nMaybe this step was \"missed\" in your previous attempt?  \n\nOn a more general note, it seems like you are however missing a point.  \n\nThe HP utility DOES NOT \"format\" a stick, it:  \n\n* PARTITIONs it, i.e. writes a new MBR to it with a single BIG partition and THEN\n* FORMATs it\n\n\u003cbr /\u003e\n\nTake your time, read attentively the given thread:  \n[http://www.boot-land...?showtopic\u003d5000](http://www.boot-land.net/forums/index.php?showtopic\u003d5000 \"External link\")  \nAND links within it,  \nread these also:  \n[http://www.911cd.net...showtopic\u003d19663](http://www.911cd.net/forums//index.php?showtopic\u003d19663 \"External link\")  \n[http://thestarman.pc.../mbr/index.html](http://thestarman.pcministry.com/asm/mbr/index.html \"External link\")  \nparticularly this one:  \n[http://thestarman.pc...br/Win2kmbr.htm](http://thestarman.pcministry.com/asm/mbr/Win2kmbr.htm \"External link\")  \n\n\u003cbr /\u003e\n\nThings should get a bit clearer, but you need this not-so-basic-knowledge to be able to find your way.  \n\nOnce you have all the above clear, ***FORGET*** once again all previous attempts, and do this (bear with me ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif) , you won\u0027t regret it :smile:):  \nRE-READ the whole XPCLI thread:  \n[http://www.boot-land...?showtopic\u003d3717](http://www.boot-land.net/forums/?showtopic\u003d3717 \"External link\")  \nThen take ***ONLY*** the info in these posts:  \n[http://www.boot-land...?...\u003d3717\\\u0026st\u003d47](http://www.boot-land.net/forums/index.php?showtopic\u003d3717\u0026st\u003d47 \"External link\")  \nup to:  \n[http://www.boot-land...?...\u003d3717\\\u0026st\u003d54](http://www.boot-land.net/forums/index.php?showtopic\u003d3717\u0026st\u003d54 \"External link\")  \nThen again:  \n[http://www.boot-land...?...\u003d3717\\\u0026st\u003d61](http://www.boot-land.net/forums/index.php?showtopic\u003d3717\u0026st\u003d61 \"External link\")  \nup to:  \n[http://www.boot-land...?...\u003d3717\\\u0026st\u003d64](http://www.boot-land.net/forums/index.php?showtopic\u003d3717\u0026st\u003d64 \"External link\")  \n\nYou should get a basic XP CLI (which can optionally run bblean) working in Qemu.  \n\nOnce you get there, read this:  \n[http://www.boot-land...?...\u003d3717\\\u0026st\u003d68](http://www.boot-land.net/forums/index.php?showtopic\u003d3717\u0026st\u003d68 \"External link\")  \n\nEdit list, add needed keys/files, rebuild, test in Qemu, then clone to USB device.  \n\nTry first in Qemu by connecting USB device as //./PhysicalDrive***n*** :  \n[http://www.msfn.org/...ul-t112746.html](http://www.msfn.org/board/Adding-QEMU-function-mul-t112746.html \"External link\")  \nthen try it on real hardware.  \n\nAs said elsewhere, the XPCLI project currently \"suffers\" from the need to use minlogon.exe (from XP embedded) instead of Winlogon.exe, but the file is available - for tests/trial - from Microsoft.  \n\nIf there is interest and cooperation in the project, I am sure we can find a way to re-add \"normal\" Winlogon.exe support.  \n\n![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\njaclaz   \n"
    },
    {
      "id": "59633",
      "timestamp": "2009-02-17T20:17:04+00:00",
      "author": "AlexData",
      "content": "ARE THESE THE STEPS NEEDED TO BOOT FROM USB?  \n(some might be in the wrong order here)  \n\nCreate QEMU VM machine (Q-VM).  \nInstall XP SP1 or SP2 on the Q-VM.  \n\nBackup the MBR of that Q-VM machine to a \\*.BIN file.  \nLater edit the MBR \\*.BIN file to fit the UsbStick and write it to the UsbStick.  \n\nEdit the \\*.INF files and the corresponding REGISTRY KEYS in the Q-VM.  \nDelete the \\*.PNF files corresponding to the \\*.INF files in the Q-VM.  \n\nMaybe replace the NTDETECT.COM file in the Q-VM.  \n\nCopy the files from the Q-VM to the prepared USB-STICK with the new MBR  \nthat is made to fit the Q-VM MBR and the USB-STICK size.  \n\n(ofcourse take a copy of the original files in the Q-VM)  \n(and make a backup of the edited files aswell)  \n\nReboot your machine and boot from USB-STICK.   \n"
    },
    {
      "id": "59804",
      "timestamp": "2009-02-19T07:59:39+00:00",
      "author": "was_jaclaz",
      "content": "\u003e ARE THESE THE STEPS NEEDED TO BOOT FROM USB?\n\nIf you want to make it really complicated, yes.  \n\n\u003e You could alternatively use a \"plainer\" approach, something along the lines of this:  \n\u003e [http://www.boot-land...?showtopic\u003d5000](http://www.boot-land.net/forums/index.php?showtopic\u003d5000 \"External link\")  \n\u003e [http://www.boot-land...?...c\u003d5000\\\u0026st\u003d1](http://www.boot-land.net/forums/index.php?showtopic\u003d5000\u0026st\u003d1 \"External link\")  \n\u003e\n\u003e i.e. having an image which ***IS*** the stick and the stick that ***IS*** the image.\n\nYou can decide to use in Qemu an image of your stick or connect the stick as //./PHYSICALDRIVE:  \n[http://www.msfn.org/...howtopic\u003d112746](http://www.msfn.org/board/index.php?showtopic\u003d112746 \"External link\")  \n\nNo need to backup/copy anything.  \n\njaclaz   \n"
    },
    {
      "id": "59841",
      "timestamp": "2009-02-19T17:02:57+00:00",
      "author": "AlexData",
      "content": "Okey, I think I get it...  \n\nIf I mount either the USB-STICK as PHYS DRV1 in QEMU, or if I make an image of my stick (same size as the stick, using the method described in MBRBatch) then the MBR that the windows install write to the mounted USB-IMAGE or USB-STICK will be corresponding to the stick itself...   \nSo if I get this right, the MBR needs contain the exact BYTE size of the partition it is to be placed at? and if it does, then the MBR and the WIN installation will be happy?!?!  \n\nI was by the way looking at the differences between what USBOOT.ORG did, and a clean SP2 registry (from the same install) and I must say that I got comfused, since the clean install did not hold any of the keys needed to be modified. the USBUCHI,OCHI,blablah... But after applying the USBOOT.ORG scipt it did. Also the script changed a lot of other settings in there I noticed. Enough to make me unsure about what to do. I guess I will try again! I will install SP2 directly to the mounted stick in QEMU, then i will copy the REG and put in a \"CLEAN-REG\" folder, then install USBOOT.ORG and check that I can boot from the USB-STICK, then copy that REG to an \"UB-REG\" folder, and again look at the differences in the SYSTEM hive...   \nCannot understand why it should be so hard to get this to work, by modifying files myself, hmm...  \n\nMaybe I should make a SNAPSHOT before and AFTER install of USBOOT.ORG script, to see ALL changes...  \n\n(just thinking out loud here really...)  \n\nAnother question, if I mount the stick in QEMU and install XP to it there, then the MBR will be correct, would all I need to do be to edit the registry correctly then, inorder to start from USBSTICK? or would I also need to edit the INF files? Is it not so that the INF files is only re-read if you connect another USB device on that install?  \n\nHmm.. guess there is more to the apple than just its taste... hehe!   \n"
    },
    {
      "id": "59846",
      "timestamp": "2009-02-19T17:19:09+00:00",
      "author": "was_jaclaz",
      "content": "\u003e Okey, I think I get it...  \n\u003e\n\u003e If I mount either the USB-STICK as PHYS DRV1 in QEMU, or if I make an image of my stick (same size as the stick, using the method described in MBRBatch) then the MBR that the windows install write to the mounted USB-IMAGE or USB-STICK will be corresponding to the stick itself...   \n\u003e So if I get this right, the MBR needs contain the exact BYTE size of the partition it is to be placed at? and if it does, then the MBR and the WIN installation will be happy?!?!\n\nNo, you do not ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif), (yet ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif))  \n\nChoose one:  \n\n* create an image ***OF*** your stick, use the image in Qemu, then \"DD\" write the image ***TO*** your stick (overwriting anything already in it)\n* create an image the same size of the stick, use the image in Qemu, then \"DD\" write the image ***TO*** your stick (overwriting anything already in it)\n* use your stick directly in Qemu through //./PHYSICALDRIVE***n***\n\n\u003cbr /\u003e\n\n(Latter may not work as expected with sticks 512 Mbyte or smaller (due to some different way normal BIOS and Qemu ones deal with CHS partitions) unless they have a NTFS partition)  \n\nTranslation:  \nREAD first part of previous post #26 (which you appear to have skipped):  \n[http://www.boot-land...?...\u003d6996\\\u0026st\u003d26](http://www.boot-land.net/forums/index.php?showtopic\u003d6996\u0026st\u003d26 \"External link\")  \n\nThen, if you cannot go on with the proposed path, READ also second part of it, and try doing what\u0027s in there, a little paradigm switch, but that will get you much closer to your original request.  \n\njaclaz   \n"
    },
    {
      "id": "59880",
      "timestamp": "2009-02-19T20:05:29+00:00",
      "author": "was_jaclaz",
      "content": "Additional. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\n**marv** \u0027s service + **cdob** \u0027s experimental batch have just been reported to be able to solve a similar problem:  \n[http://www.911cd.net...showtopic\u003d22473](http://www.911cd.net/forums//index.php?showtopic\u003d22473 \"External link\")  \n\njaclaz   \n"
    },
    {
      "id": "59881",
      "timestamp": "2009-02-19T20:05:42+00:00",
      "author": "AlexData",
      "content": "I made an image of my USB-STICK the other day when you first introduced me to the MBRbatch using the commands found the page you referred me to. As I write now, im currently installing SP2 on that image using QEMU. When the XP installer asked, i formatted the partition to NTFS and I removed the old partition in the image, and let the XP installer make a new one.   \n\nWhen its installed. I\u0027ll make a copy of that image (to keep a clean sp2 install ready) and then I will install USBOOT.ORG to it, DD write that image back to the USBSTICK and see if it boots.  \nIf it does, then i will use my copy of the image, and try to do the REG edits on it (must I also do the INF edits, as in DIETMARs post, or can I skip those as long as i attach no other usb units?)  \n\nI will also make a copy of the SYSTEM HIVE after USBOOT.ORG script has done its magic, and compare it to the clean copy of the SYSTEM HIVE...  \n\nIm wondering about one thing, must I connect that USBstick to QEMU so that the XP install detects that stick, or may I skip that since the image will be written back to that stick?   \n"
    },
    {
      "id": "59886",
      "timestamp": "2009-02-19T20:35:13+00:00",
      "author": "was_jaclaz",
      "content": "\u003e Im wondering about one thing, must I connect that USBstick to QEMU so that the XP install detects that stick, or may I skip that since the image will be written back to that stick?\n\nDoes \"choose one\" mean in Norway \"choose one and continue worrying about the other two\" or \"choose two\" \"or choose part of one and part of another\"? ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\n\\[pseudo-norwegian\\]  \nvelge ett og bare ett  \n\\[/pseudo-norwegian\\]  \n\njaclaz   \n"
    },
    {
      "id": "59967",
      "timestamp": "2009-02-20T16:07:31+00:00",
      "author": "AlexData",
      "content": "\u003e Does \"choose one\" mean in Norway \"choose one and continue worrying about the other two\" or \"choose two\" \"or choose part of one and part of another\"? ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\u003e \\[pseudo-norwegian\\]  \n\u003e velge ett og bare ett  \n\u003e \\[/pseudo-norwegian\\]  \n\u003e jaclaz\n\nGuess you misunderstood me there Jaclaz...  \n\nI did choose one, and only one! hehe...  \n\nI\u0027ve chosen to make an image, as big as my USBSTICK, and use that image as an disk in QEMU. Then in QEMU, I install XP into that disk/image!  \nThen, inside the running disk/image - should I connect the USB-STICK as an USB-STICK so that the XP installed detects that USB-STICK (as Dietmar mentioned in is tutorial#3) ??? thats what I meant, im sorry that my english sometimes can be a little bit unclear...  \nWhat im currently is doing:  \n\n```\nmkimg test.img 4134993920 255/63 0C /mks\n```\n\n**and later, when its been modified with (REG EDITS)**   \n(marv\u0027s service + cdob\u0027s experimental batch)  \n\n```\ndsfi \\\\.\\PHYSICALDRIVE1 0 0 K\u0026#58;\\OFS\\test.img\n```\n\n\u003cbr /\u003e\n\nPS: \"Velg en, og bare en\" hehe...   \n"
    },
    {
      "id": "59974",
      "timestamp": "2009-02-20T16:57:53+00:00",
      "author": "was_jaclaz",
      "content": "\u003e Then, inside the running disk/image - should I connect the USB-STICK as an USB-STICK so that the XP installed detects that USB-STICK (as Dietmar mentioned in is tutorial#3) ??? thats what I meant, im sorry that my english sometimes can be a little bit unclear...\n\nNo.  \n\nBasically you do not have an image **and** a stick, you have ONLY an image that ***will become*** the stick. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\njaclaz   \n"
    },
    {
      "id": "60149",
      "timestamp": "2009-02-22T00:25:03+00:00",
      "author": "AlexData",
      "content": "Okey.. Finally some progress...  \n\nI got things past the XP BOOT SCREEN and all the way up until right before the welcome screen! Yeah! Progress!  \nI do get an error at this point though, and I have no mouse/keyboard working for some odd reason, so I have to RESET the computer... But hey... Its getting closer and closer!  \nError: [http://www.alexdata....nLogonError.jpg](http://www.alexdata.com/USBBOOT/WinLogonError.jpg \"External link\")  \n(ERROR: winlogon.exe - File or folder D:\\\\windows\\\\system32\\\\lsass.exe is damaged and unreadable. Run CHKDSK)  \n\nSteps done to archieve this result:  \n1. Make an image as big as my USB-STICK using MBRbatch  \n2. Mount the image in QEMU and install clean XP SP2 on it  \n3. After a complete install of XP, turn off XP, and turn off QEMU  \n4. Copy/Clone the image back to the USB-STICK using MBRbatch  \n5. Run the UsbBootWatcher with the CDOB\u0027s Script and point it to the USB-STICK that is connected to my normal Windows  \n6. the script copies the files and works its magic, no errors!  \n7. Reboot and start from USB-STICK  \nThis gives me a black screen, and heavy loading on my USBSTICK  \n8. Enter normal XP and open QEMU, mount the stick as an HDD using \"-hda //./PhysicalDrive1\"  \n9. Start the VirtualMachine that uses the stick as HDD.  \nit boots windows in QEMU. Then shutdown XP in QEMU. and exit QEMU.  \n10. Reboot normal machine and boot from USB-STICK again.  \ngives me the error seen in the picture above (see link\\\u0026description)  \n\n(PS: the UsbBootWatcher with the CDOB\u0027s Script I use is: [http://www.alexdata....erAndScript.zip](http://www.alexdata.com/USBBOOT/UsbBootWatcherAndScript.zip \"External link\") )  \n\nI will retry this tomorrow.. Doing an \"interrupt install on first reboot\" + \"the run script\"  \nwhile installing directly to the USB-STICK mounted as HDD in QEMU....   \n"
    },
    {
      "id": "60175",
      "timestamp": "2009-02-22T11:21:29+00:00",
      "author": "was_jaclaz",
      "content": "Good news. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)   \n\nThat error, if I recall correctly ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif), is still somehow related to drive lettering.  \n\nTry applying this seemingly unrelated KB:  \n[http://support.micro...kb/249321/en-us](http://support.microsoft.com/kb/249321/en-us \"External link\")  \n\nCheck (offline) the Registry to see if something is \"wrong\" in \"HKEY_LOCAL_MACHINE\\\\SYSTEM\\\\MountedDevices\"  \n[http://support.micro...kb/223188/en-us](http://support.microsoft.com/kb/223188/en-us \"External link\")  \n\nUse this tool to access (and if needed edit) the offline Registry:  \n[http://www.boot-land...?showtopic\u003d4684](http://www.boot-land.net/forums/index.php?showtopic\u003d4684 \"External link\")  \n\nAlso, you may want to try to skip point 7. of your list and do directly 8. 9. and 10.  \n\n\u003cbr /\u003e\n\n\u003cbr /\u003e\n\njaclaz   \n"
    },
    {
      "id": "60183",
      "timestamp": "2009-02-22T12:33:52+00:00",
      "author": "cdob",
      "content": "\u003e 2. Mount the image in QEMU and install clean XP SP2 on it  \n\u003e 3. After a complete install of XP, turn off XP, and turn off QEMU  \n\u003e 4. Copy/Clone the image back to the USB-STICK using MBRbatch  \n\u003e 5. Run the UsbBootWatcher with the CDOB\u0027s Script and point it to the USB-STICK that is connected to my normal Windows\nThe batch handle another circumstances:   \nwindos installation to a USB stick.   \nInstallation is at end of first boot, but not rebooted so far.   \nWindows installation did prepare keyboard and mouse for this machine already.  \n\nYour conditions are different: you use a full installed windows.  \nThe batch dosn\u0027t support your conditions, contrary should work anyway.  \n\nHowever your approach does change hardware in addition.   \nSome kind of universal imaging is required.   \nusb_xp_init.cmd does contain basic universal imaging features, USB and IDE controller. No universal keyboard and mouse.  \nApproach may work between Qemu and your real hardware.  \n\nE.g. Qemu use a VEN_8086\\\\DEV_7010 IDE controller, supported by XP default mshc.inf.  \nusb_xp_init.cmd adds universal USB and IDE controller driver to offline windows.  \n\nWhich Lenovo with a Celeron M 530 do you use?  \nDo you use a external (USB) keyboard and mouse?  \nDo you use a port replicator?  \n\n\u003e 7. Reboot and start from USB-STICK  \n\u003e This gives me a black screen, and heavy loading on my USBSTICK\nDid you interrupt windows and shutdown machine manually?   \nFile system maybe corrupt.  \nDon\u0027t interrupt windows boot. First boot from FAT32 may take some time, be patient.  \n\n\u003cbr /\u003e\n\nAs jaclaz pointed out already, false path userinit.exe hang at welcome screen.  \nIf you get this solved, windows PNP should load drivers for mouse and keyboard.   \n"
    },
    {
      "id": "60194",
      "timestamp": "2009-02-22T13:44:16+00:00",
      "author": "AlexData",
      "content": "**Jaclaz...**   \n\nI will retry that IMAGE whom produced that error,  \nwrite it back to the USBSTICK using MBRBATCH,  \napply the CDOB script and skip that; 7. reboot step  \n\nThen see if the same happens again, and try the MS guides you pointed out, until it works, or until all guides has been tested...  \n\nThen I\u0027ll report back with success or failure... hehe!  \n\n\u003cbr /\u003e\n\n**CDOB...**   \n\nI use:  \nCeleron M 530(1.73GHz), 512MB RAM, 120GB 5400rpm HD, 15.4in 1280x800 LCD, Intel X3100, CDRW/DVDRW, Intel 802.11abg wireless, Bluetooth, Modem, 10/100 Ethernet, Touchpad, Fingerprint reader, Camera, 6c Li-Ion... With XP PRO Norwegian (VLK edition)  \n\nI also have attached an Logitech MX510 usb-mouse, but use the laptop\u0027s keyboard (aka no-usb-keyboard)  \n\nPort-replicator? No, i connect the mouse to the usb port in the laptop, nothing inbetween...  \n\nFirst boot from FAT32... I have formatted the USB-STICK as NTFS... I watied 5-8min for it to boot, in qemu it uses max 10sec...  \nBut im about to try again, so i\u0027ll wait even longer this time.. just in case...   \n"
    },
    {
      "id": "60243",
      "timestamp": "2009-02-22T20:56:09+00:00",
      "author": "cdob",
      "content": "@AlexData  \n\nWell, actually usb_xp_init.cmd contains some enhancements parts already rem internal debug  \n\u003e for %%i in (\\*.reg) do reg.exe import \"%%i\"\nAdd isapnp.reg to usb_xp_init.cmd directory\n\n```\nREGEDIT4;ISAPNP - PS/2 Keyboard and Mouse are connected to isapnp[HKEY_LOCAL_MACHINE\\loaded_SYSTEM\\ControlSet001\\Control\\CriticalDeviceDatabase\\*PNP0A00]\"ClassGUID\"\u003d\"{4D36E97D-E325-11CE-BFC1-08002BE10318}\"\"Service\"\u003d\"isapnp\"[HKEY_LOCAL_MACHINE\\loaded_SYSTEM\\ControlSet001\\Control\\CriticalDeviceDatabase\\*PNP0A01]\"ClassGUID\"\u003d\"{4D36E97D-E325-11CE-BFC1-08002BE10318}\"\"Service\"\u003d\"isapnp\"[HKEY_LOCAL_MACHINE\\loaded_SYSTEM\\ControlSet001\\Control\\CriticalDeviceDatabase\\*PNP0A04]\"ClassGUID\"\u003d\"{4D36E97D-E325-11CE-BFC1-08002BE10318}\"\"Service\"\u003d\"isapnp\"[HKEY_LOCAL_MACHINE\\loaded_SYSTEM\\ControlSet001\\Control\\CriticalDeviceDatabase\\PCI#CC_0601]\"ClassGUID\"\u003d\"{4D36E97D-E325-11CE-BFC1-08002BE10318}\"\"Service\"\u003d\"isapnp\"[HKEY_LOCAL_MACHINE\\loaded_SYSTEM\\ControlSet001\\Control\\CriticalDeviceDatabase\\PCI#CC_0602]\"ClassGUID\"\u003d\"{4D36E97D-E325-11CE-BFC1-08002BE10318}\"\"Service\"\u003d\"isapnp\"[HKEY_LOCAL_MACHINE\\loaded_SYSTEM\\ControlSet001\\Services\\isapnp]\"HasBootConfig\"\u003ddword:00000000\"DisplayName\"\u003d\"PnP ISA/EISA Bus Driver\"\"Group\"\u003d\"Boot Bus Extender\"\"ImagePath\"\u003d\"system32\\\\drivers\\\\isapnp.sys\"\"ErrorControl\"\u003ddword:00000003\"Start\"\u003ddword:00000000\"Type\"\u003ddword:00000001\n```\n\n\u003cbr /\u003e\n\nAgain, which Lenovo model do you use?  \n\nExample: A T61 BIOS does change USB boot order virtually: USB boot device get PhysicalDrive0  \nDelete MountedDevices. XP get drive letter C: at boot.   \n"
    },
    {
      "id": "60297",
      "timestamp": "2009-02-23T15:53:46+00:00",
      "author": "AlexData",
      "content": "CDOB,  \nI have a; Lenovo 3000 N200 0769-BHG (Celeron M 530)  \n\nOld link to my PC INFO is:  \n[http://www-307.ibm.c.....em\u003dWindows XP](http://www-307.ibm.com/pc/support/site.wss/quickPath.do?sitestyle\u003dlenovo\u0026quickPathEntry\u003d0769-BHG\u0026operatingSystem\u003dWindows%20XP \"External link\")  \nBut lenovo/ibm seems to have some problems with their pages today!   \n"
    },
    {
      "id": "60310",
      "timestamp": "2009-02-23T19:18:19+00:00",
      "author": "cdob",
      "content": "I have no experience with a Lenovo 3000:  \n\nIdea:  \n\nThe BIOS may not change boot devices virtually.  \nWindows assign C: to internal disk PhysicalDrive0.   \nAnd D: to USB PhysicalDrive1.  \n\nThen:  \n\nAssumptions:  \nOffline Qemu windwos used drive letter C:  \nUSB stick use drive U: letter at running windows.  \n\nExport registry MountedDevices\\\\DosDevices\\\\U: from running windows  \n\nIntegrate this to your offline windows at USB:  \nrename MountedDevices\\\\DosDevices\\\\C: to MountedDevices\\\\DosDevices\\\\Z:  \nrename MountedDevices\\\\DosDevices\\\\U: to MountedDevices\\\\DosDevices\\\\C:   \n"
    }
  ]
}