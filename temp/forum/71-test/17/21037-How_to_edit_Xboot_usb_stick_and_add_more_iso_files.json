{
  "id": "21037",
  "title": "How to edit Xboot usb stick and add more iso files?",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "198113",
      "timestamp": "2016-02-28T08:42:43+00:00",
      "author": "Insomniacno1",
      "content": "Hi folks, can someone here help me edit already made Xboot usb stick and add more .iso(LiveCD) files? Its using syslinux as bootloader with fallback to grub.\n\nI tried doing this myself by manually editing linux.cfg, just by copying the already made text for Puppy Linux and Peppermint 5 - and then just change the name to the .iso I wanted to add - and it worked for some but not all.\n\nNewest LTS Lubuntu 14.04.04 - I used Peppermint 5 string - Lubuntu started counting sectors then at 726 it went on to the LiveCD boot menu were you can choose to \"Try without installing\" - choosing this option ends up in initramfs\\\u003e and something about it can\u0027t find bootable media.\n\nIf I(at the LiveCD menu) press F6 then edit the boot string and remove quiet splash and instead add live-media\u003d/dev/sdb1 then it boot into Lubuntu.\n\nSo do anyone have a solution that I can add to linux.cfg that will make Lubuntu figure out that its running from usb and not CD and so I don\u0027t always have to wait for the sector count and having to add the live-media\u003d/dev/sdb1 to the boot string?\n\nAlso I like to add Elementary OS to my usb stick - anyone have the string for that to put in linux.cfg?\n\nAlso I like to add GhostBSD to my usb stick - anyone know how to do that, and if it will work with syslinux or it has to be added to grub instead(then how to do that?).\n\nPelase don\u0027t tell me to google it - I already did but did not find answers to my questions - mostly I just find how to add iso files to Xboot(already did that) and not how to edit linux.cfg with the correct strings. Or I find info that I should rename isolinux.cfg to syslinux.cfg and move it to root - tried that(now my usb had no menu).\n\nHope someone can help:)\n\nWith kind regards and hope for quick response\n\nJBJ\n\nsyslinux.cfg:\n\nMENU title XBOOT DVD  \nINCLUDE /boot/syslinux/theme.cfg  \nTIMEOUT 100  \n\n\u003cbr /\u003e\n\n### MENU START  \nLABEL -  \nMENU LABEL Boot from Hard Disk  \nMANU START  \nMENU DEFAULT  \nCOM32 chain.c32  \nAPPEND hd1 1 swap  \n### MENU END  \n\n\u003cbr /\u003e\n\n### MENU START  \nLABEL -  \nMENU LABEL Rescue CD  \nKERNEL /boot/syslinux/vesamenu.c32  \nAPPEND /boot/syslinux/eccbbgeej.cfg  \nTEXT HELP  \nENDTEXT  \n### MENU END  \n\n\u003cbr /\u003e\n\n### MENU START  \nLABEL -  \nMENU LABEL Linux  \nKERNEL /boot/syslinux/vesamenu.c32  \nAPPEND /boot/syslinux/linux.cfg  \nTEXT HELP  \nENDTEXT  \n### MENU END  \n\n\u003cbr /\u003e\n\n### MENU START  \nLABEL -  \nMENU LABEL Utility  \nKERNEL /boot/syslinux/vesamenu.c32  \nAPPEND /boot/syslinux/utility.cfg  \nTEXT HELP  \nENDTEXT  \n### MENU END  \n\n\u003cbr /\u003e\n\n### MENU START  \nLABEL -  \nMENU LABEL Help!  \nLINUX /boot/syslinux/grub.exe  \nAPPEND --config-file\u003d\"ls /images/help.iso \\|\\| find --set-root /images/help.iso;map --heads\u003d0 --sectors-per-track\u003d0 /images/help.iso (0xff) \\|\\| map --heads\u003d0 --sectors-per-track\u003d0 --mem /images/help.iso (0xff);map --hook;chainloader (0xff)\"  \nTEXT HELP  \nENDTEXT  \n### MENU END  \n\nlinux.cfg:\n\nMENU TITLE Linux  \nINCLUDE /boot/syslinux/theme.cfg  \nINCLUDE /boot/syslinux/mainmenu.cfg  \n\n\u003cbr /\u003e\n\n### MENU START  \nLABEL -  \nMENU LABEL Puppy Linux  \nLINUX /boot/syslinux/grub.exe  \nAPPEND --config-file\u003d\"ls /images/precise.iso \\|\\| find --set-root /images/precise.iso;map --heads\u003d0 --sectors-per-track\u003d0 /images/precise.iso (0xff) \\|\\| map --heads\u003d0 --sectors-per-track\u003d0 --mem /images/precise.iso (0xff);map --hook;chainloader (0xff)\"  \nTEXT HELP  \nENDTEXT  \n### MENU END  \n\n\u003cbr /\u003e\n\n### MENU START  \nLABEL -  \nMENU LABEL peppermint5  \nLINUX /boot/syslinux/grub.exe  \nAPPEND --config-file\u003d\"ls /images/peppermint.iso \\|\\| find --set-root /images/peppermint.iso;map --heads\u003d0 --sectors-per-track\u003d0 /images/peppermint.iso (0xff) \\|\\| map --heads\u003d0 --sectors-per-track\u003d0 --mem /images/peppermint.iso (0xff);map --hook;chainloader (0xff)\"  \nTEXT HELP  \nENDTEXT  \n### MENU END  \n\n\u003cbr /\u003e\n\n### MENU START  \nLABEL -  \nMENU LABEL systemback-live-eng  \nLINUX /boot/syslinux/grub.exe  \nAPPEND --config-file\u003d\"ls /images/systembackliveeng.iso \\|\\| find --set-root /images/systembackliveeng.iso;map --heads\u003d0 --sectors-per-track\u003d0 /images/systembackliveeng.iso (0xff) \\|\\| map --heads\u003d0 --sectors-per-track\u003d0 --mem /images/systembackliveeng.iso (0xff);map --hook;chainloader (0xff)\"  \nTEXT HELP  \nENDTEXT  \n### MENU END  \n\n\u003cbr /\u003e\n\n### MENU START  \nLABEL -  \nMENU LABEL LxQtPup-14.12.01-s-nopae  \nLINUX /boot/syslinux/grub.exe  \nAPPEND --config-file\u003d\"ls /images/lxqtpup.iso \\|\\| find --set-root /images/lxqtpup.iso;map --heads\u003d0 --sectors-per-track\u003d0 /images/lxqtpup.iso (0xff) \\|\\| map --heads\u003d0 --sectors-per-track\u003d0 --mem /images/lxqtpup.iso (0xff);map --hook;chainloader (0xff)\"  \nTEXT HELP  \nENDTEXT  \n### MENU END  \n\nGrub4Dos\\\u003e linux.lst:\n\n\u003cbr /\u003e\n\ncolor magenta/white white/magenta black/white black/white  \n\n### MENU END  \ntitle MAIN MENU  \nconfigfile /menu.lst  \n### MENU END  \n\n\u003cbr /\u003e\n\n### MENU START  \ntitle Puppy Linux\\\\n  \nls /images/precise.iso \\|\\| find --set-root /images/precise.iso  \nmap --heads\u003d0 --sectors-per-track\u003d0 /images/precise.iso (0xff) \\|\\| map --heads\u003d0 --sectors-per-track\u003d0 --mem /images/precise.iso (0xff)  \nmap --hook  \nchainloader (0xff)  \n### MENU END  \n\n\u003cbr /\u003e\n\n### MENU START  \ntitle peppermint5\\\\n  \nls /images/peppermint.iso \\|\\| find --set-root /images/peppermint.iso  \nmap --heads\u003d0 --sectors-per-track\u003d0 /images/peppermint.iso (0xff) \\|\\| map --heads\u003d0 --sectors-per-track\u003d0 --mem /images/peppermint.iso (0xff)  \nmap --hook  \nchainloader (0xff)  \n### MENU END  \n\n\u003cbr /\u003e\n\n### MENU START  \ntitle systemback-live-eng\\\\n  \nls /images/systembackliveeng.iso \\|\\| find --set-root /images/systembackliveeng.iso  \nmap --heads\u003d0 --sectors-per-track\u003d0 /images/systembackliveeng.iso (0xff) \\|\\| map --heads\u003d0 --sectors-per-track\u003d0 --mem /images/systembackliveeng.iso (0xff)  \nmap --hook  \nchainloader (0xff)  \n### MENU END  \n\n**Edited by Insomniacno1, 28 February 2016 - 09:15 AM.**\n"
    },
    {
      "id": "198115",
      "timestamp": "2016-02-28T09:29:57+00:00",
      "author": "Wonko the Sane",
      "content": "The Xboot is (was) a wrap-around some existing bootmanagers/bootloaders (syslinux/memdisk and grub4dos, NOT grub) in order to make multiboot thingies \"easier\".\n\nThe project is abandoned since several years as the original author died prematurely in an accident ![:(](http://reboot.pro/public/style_emoticons/default/sad.png) (and the source code was never released).\n\nRight now what you are doing is directly writing the configuration file linux.cfg (which *probably* is simply a syslinux.cfg or a menu.lst renamed ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)), post your current linux.cfg contents, and someone will be able to tell which is which, and at that point it will be just a matter of trying to add a suitable grub4dos menu.lst entry or a syslinux.cfg/isolinux.cfg entry for the distro you want to boot.\n\nYou have to understand five things:\n\n1) isolinux.cfg\u0027s are specific for booting the distro when it is on optical media and often needs to be adapted to become working with syslinux on USB stick instead of isolinux\n\n2) some distro\u0027s need some \"cheat-codes\" to work on USB instead of CD/DVD\n\n3) the bootmanager(s)/bootloader(s) coming with Xboot are by now largely obsolete and it is possible that they simply won\u0027t work with some distro\u0027s\n\n4) some distro\u0027s are made in such a way that they need to be mapped as a partition on the USB stick in order to work\n\n5) in the several years since Xboot was discontinued several other multiboot on USB utilities were developed and are actively maintained, among the many Easy2boot is worth a mention that make use of latest \"state of the art\" bootmanager(s)/bootloader(s) and that have a much larger user base and a rather large number of tested and verified booting supported distro\u0027s\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "198116",
      "timestamp": "2016-02-28T09:33:18+00:00",
      "author": "steve6375",
      "content": "XBOOT modifies the ISO and repackages it.\n\nSee my blog post [here](http://rmprepusb.blogspot.co.uk/search?q\u003dxboot \"External link\").\n\nUnfortunately there is no easy answer for what you want because there are at least 20 completely different distros of linux and they all use different methods.\n\nThe problem with booting linux is that it is a two-stage (or more) process. When booting from an ISO (as opposed to a CD) the files that linux wants are inside the ISO, but the linux kernel doesn\u0027t know where the ISO is or even that it should look for the files inside the ISO (or if they have been extracted to the USB drive, it does not know where they are on the USB drive).\n\nTo tell the kernel where the files are, there are dozens of different cheat code parameters used by dozens of different distros (and sometimes this changes with a new release!).\n\nYou may find [this blog post](http://rmprepusb.blogspot.co.uk/2013/09/why-is-it-so-difficult-to-boot-iso.html \"External link\") useful.\n\nso what you are really asking is \u0027can someone tell me what all the different cheat codes are for all the different linux distros in the world please?\u0027\n\nXBOOT is discontinued now (the author has sadly died).\n\nIf you are interested in what these cheat codes are, then you can Google for them, or search my www.rmprepusb.com site.\n\nAnother approach is to see what other solutions do for the same ISO, e.g. make a YUMI, SARDU, Unetbootin, etc. USB drive and see what cheat codes they use for each distro.\n\nMy Easy2Boot project does not use these cheat codes (although if you look at the \\\\_ISO\\\\e2b\\\\grub\\\\isoboot.g4b file you will see many useful linux cheat code examples for grub4dos because it uses the cheat code method as a \u0027fallback\u0027 solution). With E2B, you just copy any linux ISO you want onto the USB drive and boot. Also, you can convert your current XBOOT USB to work with Easy2Boot.\n\nWinSetupFromUSB is another example of a multiboot solution that you may like. I think it also uses the same technique as E2B now for booting linux distros.\n\n"
    },
    {
      "id": "198117",
      "timestamp": "2016-02-28T09:57:20+00:00",
      "author": "Insomniacno1",
      "content": "Thank you for answering guys:)\n\nWonko - I have added the files to my first post.\n\nSteve - I know about the other tools and have in fact tried most of them, problem is that they do not play well with Puppylinux or Rescatux or Hiren\u0027s bootcd. Sorry to say that that when I used your E2B Hirens could boot but none of the apps would work, just ended up in a prompt. In xboot everything works! RMPrepUSB did not work nice with Puppy Linux nor Peppermint 5 - I got to the boot and then it hanged.\n\nYumi - well, basically all my distro\u0027s hanged at boot.\n\nI just need info on how to edit and add the distro\u0027s I wrote about in my first post, not 1000 different ones. Which file to edit, if I can change the grub.exe in the syslinux folder to Grub2 or if I need cheatcodes and where to find those/ where to add them.\n\nJBJ\n\n"
    },
    {
      "id": "198118",
      "timestamp": "2016-02-28T10:01:57+00:00",
      "author": "Insomniacno1",
      "content": "WinSetupFromUSB seem to be using syslinux and Grub4Dos as well\n\n"
    },
    {
      "id": "198119",
      "timestamp": "2016-02-28T10:05:25+00:00",
      "author": "steve6375",
      "content": "Hirens works fine on E2B if you name the ISO as .**isowinvh** or better still, convert it to a .imgPTN file using the MPI Tool Kit\n\n[http://www.easy2boot...es/hirens-isos/](http://www.easy2boot.com/add-payload-files/hirens-isos/ \"External link\")\n\nPuppy works, just rename the ISO to .**isopup**.\n\nE2B itself will prompt you to change the file extension and you can find a comprehensive list of payloads supported by E2B on the website (including a small list of those that don\u0027t work).\n\nXBOOT is not supported. E2B and the others mentioned are supported.\n\nWhat you are asking is not an easy question and would require us to actually try it in order to see if it works or not in each case (or do some research or guess!).\n\nI have already told you how to find the cheat codes that you need (e.g. look at isoboot.g4b). However, to use them with XBOOT you need to understand syslinux and/or grub4dos.\n\nIf you have any problems with E2B, I will be glad to help you.\n\n"
    },
    {
      "id": "198120",
      "timestamp": "2016-02-28T10:06:39+00:00",
      "author": "steve6375",
      "content": "XBOOT uses syslinux+grub4dos too - e.g.\n\n```\n### MENU START\nLABEL -\nMENU LABEL LxQtPup-14.12.01-s-nopae\nLINUX /boot/syslinux/grub.exe\nAPPEND --config-file\u003d\"ls /images/lxqtpup.iso || find --set-root /images/lxqtpup.iso;map --heads\u003d0 --sectors-per-track\u003d0 /images/lxqtpup.iso (0xff) || map --heads\u003d0 --sectors-per-track\u003d0 --mem /images/lxqtpup.iso (0xff);map --hook;chainloader (0xff)\"\nTEXT HELP\nENDTEXT\n### MENU END\n```\n\nbut note that the ISO is not the same ISO that was downloaded. It has been modified by XBOOT.\n\n**Edited by steve6375, 28 February 2016 - 10:10 AM.**\n"
    },
    {
      "id": "198121",
      "timestamp": "2016-02-28T10:15:28+00:00",
      "author": "Insomniacno1",
      "content": "Steve: when you write these things that need to be told to the OS then which file do you add them to? That is not very clear! Is it in menu.lst?\n\nHow do you get grub to load this when the usb is set up syslinux as the loader - others have tried this but menu.lst were not loaded.\n\ntitle LinuxMint 8  \nmap /boot/LinuxMint-8.iso (0xa0) - map ISO as device A0h  \nmap --hook - hook the Int 13h interrupt so it takes affect  \nroot (0a0h) - set root device as A0h - now if we say /casper we are referring to (0xa0)/casper  \nkernel /casper/vmlinuz **iso-scan/filename\u003d/boot/LinuxMint-8.iso** file\u003d/cdrom/preseed/mint.seed boot\u003dcasper - load vmlinuz into memory - add cheatcodes into memory  \ninitrd /casper/initrd.lz - load the initrd.lz file as the initial ramdrive  \nboot - jump to the loaded code to start the linux OS (note \u0027boot\u0027 is not needed as grub4dos automatically adds boot as the last command anyway)\n\n"
    },
    {
      "id": "198122",
      "timestamp": "2016-02-28T10:15:58+00:00",
      "author": "Insomniacno1",
      "content": "doublepost because system did not continue - Delete\n\n**Edited by Insomniacno1, 28 February 2016 - 10:19 AM.**\n"
    },
    {
      "id": "198123",
      "timestamp": "2016-02-28T10:17:19+00:00",
      "author": "steve6375",
      "content": "Post #7 is an example of how to use grub4dos commands in a syslinux menu\n\n"
    },
    {
      "id": "198124",
      "timestamp": "2016-02-28T10:22:22+00:00",
      "author": "Insomniacno1",
      "content": "Actually I already knew that xboot used syslinux and grub4dos - I were refering to that!\n\nI have changed the setup since some of the modified .iso files would not boot, so the ones on my usb stick is the original ones not modified. and it works.\n\n"
    },
    {
      "id": "198129",
      "timestamp": "2016-02-28T11:10:38+00:00",
      "author": "steve6375",
      "content": "Glad you have it all working now.\n\n"
    },
    {
      "id": "198132",
      "timestamp": "2016-02-28T11:50:41+00:00",
      "author": "Insomniacno1",
      "content": "Hmm, I think we are talking past eachother:)\n\nI still need to get answer for #8\n\nI just tried adding GhostBSD to my linux.cfg and it came as far as to grub where it started counting the MB of the iso file(not sectors as mentioned before - my bad). Then ended up in a grub\\\u003e\n\n### MENU START  \nLABEL -  \nMENU LABEL GhostBSD10.1-RELEASE-20150912-mate-i386  \nLINUX /boot/syslinux/grub.exe  \nAPPEND --config-file\u003d\"ls /images/GhostBSD10.1-RELEASE-20150912-mate-i386.iso \\|\\| find --set-root /images/GhostBSD10.1-RELEASE-20150912-mate-i386.iso;map --heads\u003d0 --sectors-per-track\u003d0 /images/GhostBSD10.1-RELEASE-20150912-mate-i386.iso (0xff) \\|\\| map --heads\u003d0 --sectors-per-track\u003d0 --mem /images/GhostBSD10.1-RELEASE-20150912-mate-i386.iso (0xff);map --hook;chainloader (0xff)\"  \nTEXT HELP  \nENDTEXT  \n### MENU END  \n\nFor what I read the ghostBSD should work with grub, so any idea of what is wrong here - the string work fine with Peppermint 5 LiveCD .iso?\n\n**Edited by Insomniacno1, 28 February 2016 - 11:51 AM.**\n"
    },
    {
      "id": "198135",
      "timestamp": "2016-02-28T12:17:09+00:00",
      "author": "steve6375",
      "content": "BSD is one of the most difficult to multiboot and I don\u0027t think it supports cheat codes for ISOs.\n\nThey usually have a different download for \u0027memstick\u0027 \u003d USB images and those only work if you use dd the image (or maybe fully extract the files). Note sure there is a multiboot solution for freeBSD (maybe \u0027multiboot\u0027 ???).\n\n[E2B](http://www.easy2boot.com/add-payload-files/freebsd/ \"External link\") does support some FreeBSD versions... ![:blink:](http://reboot.pro/public/style_emoticons/default/blink.png)\n\n"
    },
    {
      "id": "198136",
      "timestamp": "2016-02-28T12:25:33+00:00",
      "author": "Wonko the Sane",
      "content": "And besides the usual intent to use WAREZ ![:frusty:](http://reboot.pro/public/style_emoticons/default/frusty.gif), the issue is still:  \nWhat are the cheatcodes (if any) for GhostBSD?  \n\nAnd still, the whole idea is - if not totally botched - at least not as simple as it could be, using an obsolete syslinux to load a (possibly also obsolete) grub4dos introduces an additional complication and indirectly a possible point of failure.  \n\n\u003cbr /\u003e\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)  \nWonko   \n"
    },
    {
      "id": "198137",
      "timestamp": "2016-02-28T12:31:35+00:00",
      "author": "Insomniacno1",
      "content": "Wonko - which tool do you use that don\u0027t use syslinux and grub4dos?\n\n"
    },
    {
      "id": "198138",
      "timestamp": "2016-02-28T12:34:01+00:00",
      "author": "Insomniacno1",
      "content": "Steve - Right now I\u0027m making a backup of my usb stick and then I will try your E2B. I have all original .iso files, not using the xboot modified ones.\n\nEdit: do I really need to extract to desktop or can I use any drive for this? Ilike to put it on my E: - possible?\n\n**Edited by Insomniacno1, 28 February 2016 - 12:58 PM.**\n"
    },
    {
      "id": "198143",
      "timestamp": "2016-02-28T14:43:45+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Wonko - which tool do you use that don\u0027t use syslinux and grub4dos?\nNo \"tool\", BUT grub4dos.  \nIf you need a \"tool\", Easy2boot is a good one.  \n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)  \nWonko   \n"
    },
    {
      "id": "198157",
      "timestamp": "2016-02-29T05:45:17+00:00",
      "author": "Insomniacno1",
      "content": "Arrgh! My USB drive is in a state of limbo.\n\nI followed your guides to the dot, and when trying to boot GhostBSD it said the GhostBSD.imgPTN were before the GhostBSD or something like that. Then I could continue which I did and QEMU hanged. No way when in win7 to send Ctrl+Alt+Del to QEMU, that just takes you to the menu were you among other things can start task manager.\n\nThe usb drive is stuck in this mode - not being recognized by windows as formatted and all my hard work since yesterday is locked up in this \"Limbo\".\n\nHow do I get QEMU to reboot so that I can choose the E2B menu and MBR again?\n\n"
    },
    {
      "id": "198158",
      "timestamp": "2016-02-29T06:20:15+00:00",
      "author": "Insomniacno1",
      "content": "guess I\u0027m starting over\n\n"
    },
    {
      "id": "198159",
      "timestamp": "2016-02-29T07:00:14+00:00",
      "author": "steve6375",
      "content": "In Windows. Run switch_e2b.exe - restore e2b partitions\n\n**Edited by steve6375, 29 February 2016 - 10:13 AM.**\n"
    },
    {
      "id": "198160",
      "timestamp": "2016-02-29T07:03:52+00:00",
      "author": "steve6375",
      "content": "Maybe you got names wrong. .imgptn and . wrong way round?\n\nEdit: Where did you get the .img file from? They don\u0027t seem to provide them any more?\n\n**Edited by steve6375, 29 February 2016 - 10:29 AM.**\n"
    },
    {
      "id": "198163",
      "timestamp": "2016-02-29T12:10:25+00:00",
      "author": "Insomniacno1",
      "content": "Hi Steve\n\nSorry to say this but your E2B did something to my USB stick so that I couldn\u0027t do anything with it - not even start over - I had to use paragon HDD manager to delete the partition and the format to fat32. Then I could start over but chose to not use E2B anymore - its way too much struggle to set it up - it may be Easy to boot but not to configure!\n\nSo I went to Yummy, newest version but can\u0027t get Hirens 10.6 to play nice. Keep getting Failed to load Com32 file - eventhough I have modified the cfg files to point to HBCD and copied the chain.32 file there from my syslinux wich were on my xboot backup.\n\nAny idea?\n\n"
    },
    {
      "id": "198164",
      "timestamp": "2016-02-29T13:15:20+00:00",
      "author": "Insomniacno1",
      "content": "EDIT: Problem solved.\n\nI used Yumi to remove Hirens, then Add Hirens 10.6 as \"Try Unlisted ISO (GRUB)\" - Then find the .iso file in folder and click create.  \n\nFor Puppy linux: unpack the .iso and copy the .sfs files to root of USB stick.  \n\n"
    }
  ]
}