{
  "id": "10571",
  "title": "DISASTER: partition now not recognised after accident with BOOTICE",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "92937",
      "timestamp": "2010-03-02T00:14:00+00:00",
      "author": "dmtelf",
      "content": "I have managed to make a **colossal** mistake as I idiotically somehow had the wrong drive selected - an external 320Gb NTFS 1 partition Toshiba HD - instead of a Cruzer 4Gb USB stick when I used [BOOTICE](http://www.boot-land.net/forums/index.php?showtopic\u003d8986 \"External link\")(part of the WinSetupFromUSB app package) to do a repartition + format to USB-HDD mode. ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif) ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif)  \n\nAbout 5 seconds after I started the format in BOOTICE, I realised to my horror what I had done and frantically pulled out the USB HD cable while the program was running.  \n\nI only have myself to blame to for this error. Most unfortunately, this drive has many many gigabytes of irreplacable non-backed up personal stuff on it.  \n\nNow as a result of my cockup, the drive does not have any recognisable partitions - Windows now won\u0027t find or recognise any partitions on it, nor will 2 commercial recovery tools I\u0027ve tried, Acronis RecoveryExpert Deluxe \\\u0026 Active Undelete. If I try to go into it via Explorer, it thinks the drive is not formatted.  \n\nBefore I go have a nervous breakdown when it fully sinks in just how much data there was on that one drive, I thought I\u0027d ask here in the forlorn hope that someone out there might have some words of advice, even if its confirmation there\u0027s definitely nothing I can do now..?  \n\nThanks....   \n\nDMTelf ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)   \n"
    },
    {
      "id": "92938",
      "timestamp": "2010-03-02T00:33:18+00:00",
      "author": "homes32",
      "content": "\u003e I have managed to make a **colossal** mistake as I idiotically somehow had the wrong drive selected - an external 320Gb NTFS 1 partition Toshiba HD - instead of a Cruzer 4Gb USB stick when I used [BOOTICE](http://www.boot-land.net/forums/index.php?showtopic\u003d8986 \"External link\")(part of the WinSetupFromUSB app package) to do a repartition + format to USB-HDD mode. ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif) ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif)  \n\u003e\n\u003e About 5 seconds after I started the format in BOOTICE, I realised to my horror what I had done and frantically pulled out the USB HD cable while the program was running.  \n\u003e\n\u003e I only have myself to blame to for this error. Most unfortunately, this drive has many many gigabytes of irreplacable non-backed up personal stuff on it.  \n\u003e\n\u003e Now as a result of my cockup, the drive does not have any recognisable partitions - Windows now won\u0027t find or recognise any partitions on it, nor will 2 commercial recovery tools I\u0027ve tried, Acronis RecoveryExpert Deluxe \\\u0026 Active Undelete. If I try to go into it via Explorer, it thinks the drive is not formatted.  \n\u003e\n\u003e Before I go have a nervous breakdown when it fully sinks in just how much data there was on that one drive, I thought I\u0027d ask here in the forlorn hope that someone out there might have some words of advice, even if its confirmation there\u0027s definitely nothing I can do now..?  \n\u003e\n\u003e Thanks....   \n\u003e\n\u003e DMTelf ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)\n\nI would try \"Partition Find and Mount\" and \"Teskdisk\" (both included in the VistaPE CAPI project) and see if they can find the partitions. if that fails though I would start thinking about if it was worth spending the $$$$ sending the drive in for professional data recovery.   \n"
    },
    {
      "id": "92951",
      "timestamp": "2010-03-02T08:02:30+00:00",
      "author": "Wonko the Sane",
      "content": "DON\u0027T PANIC  \n(assume the above to be written in large, friendly letters)  \n\n![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)   \n\nMost if not all of your data can be recovered, the only thing you need is that you stay calm, don\u0027t fret and STOP fiddling with the drive with applications you do not know/understand fully.   \n\nIt is an external USB drive, right?  \n\nIf yes you don\u0027t need a PE, you can use your main OS, which OS is it? (XP/Vista/7, etc.)?  \n\nDescribe, to the best you can recall, HOW that drive was partitioned (number and type of partitions, filesystems used, etc).  \n\nFor the moment you want only TESTDISK:  \n[http://www.cgsecurit...g/wiki/TestDisk](http://www.cgsecurity.org/wiki/TestDisk \"External link\")  \n\nIt is strongly advised, though not strictly necessary, that you get ANOTHER (new or however blank) USB hard disk and before starting the recovery you image the old drive at sector level, if you can afford to buy such a new disk, it would be safer to have it.  \n\nAnyway you will need an adequate amount of free hard disk space on some device, to store the recovered data temporarily, should the partition recovery \"on place\" be not possible or not possible entirely.   \n\nHere are a few examples of what you will need to be doing, I need also to understand which level of familiarity you have with OS, PC and command line apps:  \n[http://www.msfn.org/...howtopic\u003d141687](http://www.msfn.org/board/index.php?showtopic\u003d141687 \"External link\")  \n[http://www.msfn.org/...howtopic\u003d141448](http://www.msfn.org/board/index.php?showtopic\u003d141448 \"External link\")  \n[http://www.msfn.org/...howtopic\u003d140675](http://www.msfn.org/board/index.php?showtopic\u003d140675 \"External link\")  \n[http://www.msfn.org/...howtopic\u003d133933](http://www.msfn.org/board/index.php?showtopic\u003d133933 \"External link\")  \n\n![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)  \n\nWonko   \n"
    },
    {
      "id": "92964",
      "timestamp": "2010-03-02T09:54:47+00:00",
      "author": "maanu",
      "content": "although it does not sounds nice to interfere while an professional already is in to help you , but i would never post if i did not have same situation in past .  \n\nit was a internal hdd of a friend which came across same issue,  \n\nall i did was to run the following app (Disk Genius )  \n\n\u003cbr /\u003e\n\n\u003cbr /\u003e\n\ni selected search LOST partitions from Tools , and it did the job within 5 minutes..  \n\njust remember following 2 points,  \n\nMAKE SURE you reserve ONLY those partition what you recognize that you had.  \nMAKE SURE that you run the wizard with default settings,  \n\n[http://www.boot-land...?...ded\\\u0026start\u003d#](http://www.boot-land.net/forums/index.php?showtopic\u003d9459\u0026pid\u003d86832\u0026mode\u003dthreaded\u0026start\u003d# \"External link\")  \n\n\u003cbr /\u003e\n\nby the way this version also has the option to recover files ..  \n\nremember it is just an option (disk genius i mean)..   \n"
    },
    {
      "id": "92966",
      "timestamp": "2010-03-02T11:49:08+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e although it does not sounds nice to interfere while an ***professional*** already is in to help you , but i would never post if i did not have same situation in past .\nYou joking right? ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)  \n\nIf I were a ***professional*** I would charge a neat $800รท$2,000 and be done with it. ![:(](http://reboot.pro/public/style_emoticons/default/sad.png) :smile::  \n[http://www.911cd.net...showtopic\u003d23661](http://www.911cd.net/forums//index.php?showtopic\u003d23661 \"External link\")  \n\nI am not familiar with Disk Genius, it is most probably a very good app ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), but I wouldn\u0027t personally bet ***my*** DATA on ***anything*** that has a WIZARD ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), I mean, wizards, just like Jedi\u0027s, may be allured by the Dark Side ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif), and you know how it goes:  \n\u003e Once you start down the dark path, forever will it dominate your destiny, consume you it will.\n\nWhen we are talking of DATA recovery, I have my own approach:  \n[http://www.msfn.org/...showtopic\u003d84345](http://www.msfn.org/board/index.php?showtopic\u003d84345 \"External link\")  \n[http://www.msfn.org/...opic\u003d84345\\\u0026st\u003d7](http://www.msfn.org/board/index.php?showtopic\u003d84345\u0026st\u003d7 \"External link\")  \n\u003e Rules are as follows, as I see it:  \n\u003e 1) ALWAYS make a bit by bit copy of the damaged media, if possible, make TWO of them  \n\u003e 2) Run against the image EVERY single piece of software you can think of, starting with a program you know and trust, but do NOT overlook \"minor\" ones or \"narrow\" ones, i.e. those aimed to recovery just a certain type of file or a certain type of damage  \n\u003e 3) Given the low cost of todays hardware, NEVER attempt repair on original media, only do it AFTER recovery was succesful on the copy, what you were not able to do might be possible  \n\u003e 4) Do not EVER give up, I was able to recover data that \"so-called\" professionals had determined to be an impossible recovery, simply by using a different tool or making some minor manual corrections.  \n\u003e 5) TELL the customer that recovery has MANY levels of accuracy and corresponding many levels of time involved and cost, explain him that even if a quick scan determined that no recovery was possible, a deeper analisys may give some results, data recovery if not successful with \"easy - press one button and go\" tools, manual recover is often possible, and in some cases even partial data can be of great help, all in all is a matter of the VALUE the customer attributes to lost data  \n\u003e\n\u003e Programs I can swear by:  \n\u003e TESTDISK (Freeware)  \n\u003e\n\u003e File Scavenger (NTFS only -Commercial)  \n\u003e\n\u003e TiramiSU (FAT16-FAT32-NTFS-ZIP disks - not anymore developed - Shareware - Commercial - acquired by Ontrack)\n\n\u003cbr /\u003e\n\n![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)  \n\nWonko   \n"
    },
    {
      "id": "92971",
      "timestamp": "2010-03-02T20:27:30+00:00",
      "author": "dmtelf",
      "content": "\u003e I would try \"Partition Find and Mount\" and \"Teskdisk\" (both included in the VistaPE CAPI project) and see if they can find the partitions. if that fails though I would start thinking about if it was worth spending the $$$$ sending the drive in for professional data recovery.\n\nThank you for your advice!   \n\n\"Partition Find and Mount\" unfortunately didn\u0027t find any partitions ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)  \n\nI\u0027ll post about my TeskDisk results + other findings later on in this thread.  \n\nDMTelf   \n"
    },
    {
      "id": "92981",
      "timestamp": "2010-03-02T21:39:16+00:00",
      "author": "dmtelf",
      "content": "\u003e DON\u0027T PANIC  \n\u003e (assume the above to be written in large, friendly letters)  \n\u003e\n\u003e ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)\nThank you so much for your help with this! I\u0027ll try my best not to panic! It\u0027s so nerve wracking for me though...  \n\n\u003e Most if not all of your data can be recovered, the only thing you need is that you stay calm, don\u0027t fret and STOP fiddling with the drive with applications you do not know/understand fully.\n\nI have stopped fiddling with the drive itself \\\u0026 will from now on only fiddle with images made from it.  \n\n\u003e It is an external USB drive, right?\n\nYes. The external USB HD is a Toshiba MK3252GSX.  \nSpecs: [http://sdd.toshiba.c...XSpecifications](http://sdd.toshiba.com/main.aspx?Path\u003dHardDrivesOpticalDrives/2.5-inchHardDiskDrives/MK3252GSX/MK3252GSXSpecifications \"External link\")  \nAccording to the above specs, this drive physically has 4 data heads \\\u0026 2 disks \\\u0026 this drive logically has 16 heads, 16,383 cylinders \\\u0026 63 user sectors/track at zone 0.  \n\n\u003e If yes you don\u0027t need a PE, you can use your main OS, which OS is it? (XP/Vista/7, etc.)?\n\nXP SP3 fully patched.  \n\n\u003e Describe, to the best you can recall, HOW that drive was partitioned (number and type of partitions, filesystems used, etc).\n\nOriginal Toshiba MK3252GSX partitioning from memory: NTFS format, 1 partition, default sector size. Formatted via XP\u0027s Logical Disk Management Service.  \n\nI intended to prepare a Cruzer USB stick for installing XP onto the SDHC in my eee 900 PC. I used [WinSetupFromUSB 1.0 beta 5](http://www.msfn.org/board/topic/120444-how-to-install-from-usb-winsetupfromusb-with-gui/ \"External link\") \\\u0026 with this package, you prepare the removable device using BOOTICE and then put the image of the OS to install onto it using RMPrepUSB.  \n\nHow I screwed it up: I used BOOTICE to format the wrong drive to USB-HDD mode, as shown in the attached screengrab. A few seconds after I started the format, I realised I had chosen the wrong drive so I quickly yanked out the USB cable \\\u0026 the DOS console window which opened after I started the format closed straight away.  \n\nNB: the BOOTICE screengrab shows the correct drive has been selected so the disk information shown at the bottom of the \"Repartition \\\u0026 Format\" window is for the Cruzer 4Gb USB drive \\\u0026 not the Toshiba HD.   \n\n\u003e It is strongly advised, though not strictly necessary, that you get ANOTHER (new or however blank) USB hard disk and before starting the recovery you image the old drive at sector level, if you can afford to buy such a new disk, it would be safer to have it.  \n\u003e\n\u003e Anyway you will need an adequate amount of free hard disk space on some device, to store the recovered data temporarily, should the partition recovery \"on place\" be not possible or not possible entirely.\n\nI went out and bought a Seagate Expansion 1Tb external HD for this recovery \\\u0026 have split it to 1 x 500Gb \\\u0026 1 x 431Gb NTFS partitions. Please let me know if there is another more appropriate partioning I should do.  \n\nI\u0027ve never used dd before so I downloaded dd for Windows from [http://www.chrysocome.net/dd](http://www.chrysocome.net/dd \"External link\") \\\u0026 have attached the results of the dd --list command to this post.  \n\nAs the Toshiba HD does not have a drive letter, I\u0027m unsure how to refer to its NT block device object in the if\u003d\\\\\\\\ part of the the below dd command?  \n\ndd --progress if\u003d\\\\\\\\.\\\\..? of\u003dz:\\\\backupimage.dd (drive z is the 500Gb partition where the dd image is to be dumped)  \n\nBTW - would I be better off using the dd port in [Forensic Aquisition Utilities](http://www.gmgsystemsinc.com/fau/ \"External link\") ?  \n\n\u003e Here are a few examples of what you will need to be doing, I need also to understand which level of familiarity you have with OS, PC and command line apps:  \n\u003e [http://www.msfn.org/...howtopic\u003d141687](http://www.msfn.org/board/index.php?showtopic\u003d141687 \"External link\")\n\nTestDisk results (logfile attached to this post):  \n\nCreate new log file  \nChoose external HD - Disk /dev/sdb - 320 GB / 298 GiB - TOSHIBA MK3252GSX. It displays the correct disk capacity.  \nChoose Intel/PC partition  \nAnalyse  \n\"Partition sector doesn\u0027t have the endmark 0xAA55\" message appears  \nChoose Quick Search  \nNo drives or partitions are found  \nChoose Deeper Search  \n\"No partition found or selected for recovery\"  \n\nI googled the \"Partition sector doesn\u0027t have the endmark 0xAA55\" error message. Apparently this error means that the partition boot sector was not found for the first partition, ie, the boot sector has been overwritten?  \n\nThe first hit in the search results was the first example titled \"The type of the file system is RAW - Recovery of a damaged FAT boot sector\" in the [TestDisk Data Recovery Examples page](http://www.cgsecurity.org/wiki/Data_Recovery_Examples \"External link\"):   \n\nHowever, there are partitions listed in the 2 tables given in the above linked description of how to recover data in that situation using TestDisk, and there are no partitions found when I run Testdisk -\\\u003e Quick or Full Search on my external HD.  \n\nAs TestDisk was unable to find any partitions, I was not able to follow the advice in the next 2 threads you gave.   \n\n\u003e [http://www.msfn.org/...howtopic\u003d133933](http://www.msfn.org/board/index.php?showtopic\u003d133933 \"External link\")\n\nQuestion: How can I use HDHacker to save the first sector of LogicalDrive if the partition does not have a drive letter?  \n\nUsing the dd --list output (attached) to identify the correct device, I saved the first sector of Physical Drive (MBR) 2 to MBR.bin.   \n\n--\\\u003e  \n\nAt this point, I was starting to really panic (sorry, I can\u0027t help it!!) so I ran Eisoo DiskGenius v3.0.1206 Beta 2 which says the HD has 298.1GB capacity, 625142447 total sectors, 320072932864 total bytes.  \n\nAfter checking nothing would be written back to the HD, I selected the HD2:MK3252GSX(298Gb) volume, right clicked on it \\\u0026 selected \"Search Lost Partitions(Rebuild Partition Table)\". A window appeared with the title bar \"Searching lost partitions\". It took a little while to scan the drive and it found 1 partition, but the file system was shown in DiskGenius as \"unknown\" \\\u0026 no files were shown when I clicked on the Files tab. I did NOT save the partition table after the scan had finished.  \n\nDiskGenius had the following data for the partition it found:  \nVolume Label: Partition(0)  \nSeq.(Stat): 0 L  \nFile System: Unknown  \nID: 99  \nStart Cylinder: 0  \nHead: 1  \nSector: 1  \nEnd Cylinder: 38913  \nHead: 80  \nSector: 62  \nCapacity: 298.1GB  \n\n--\\\u003e  \n\nHD Tune Pro reports:  \nFirmware version: LV010A  \nCapacity 320.1gB (298.1 GB)  \nBuffer: 8192 KB  \nSector size: 512 bytes  \nStandard: ATA8-ACS - SATA II  \nSupported: UDMA Mode 5  \nActive: UDMA Mode 5  \n\n--\\\u003e  \n\nComputer Management -\\\u003e Storage -\\\u003e Disk Management reports:  \nDisk: Disk 1  \nType: Unknown  \nStatus: Not Initialized  \nPartition style: Not Applicable  \nCapacity: 305243Mb  \nUnallocated space: 305243Mb  \nReserved space: 0Mb  \n\n--\\\u003e  \n\nI hope the above information will help you \\\u0026 others guide me further...  \n\nThanks again,  \n\nDMTelf  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![Drive_Genius_Found_1_Partition.png](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267564960_thumb.png)](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267564960.png \"Drive_Genius_Found_1_Partition.png - Size: 44.88KB\"){#ipb-attach-url-10586-0-55579700-1676066670}\n* [![BOOTICE_Format_USB_HDD_mode.jpg](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267565203_thumb.jpg)](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267565203.jpg \"BOOTICE_Format_USB_HDD_mode.jpg - Size: 169.55KB\"){#ipb-attach-url-10587-0-55587100-1676066670}  \n\n#### Attached Files {#attach_wrap}\n\n* [![Attached File](http://reboot.pro/public/style_extra/mime_types/zip.gif)](http://reboot.pro/index.php?s\u003daf60ca3f95a063a23cd6f21c085d8eb9\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10585 \"Download attachment\") [**testdisk.rar**](http://reboot.pro/index.php?s\u003daf60ca3f95a063a23cd6f21c085d8eb9\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10585 \"Download attachment\") **1.05KB** 454 downloads\n* [![Attached File](http://reboot.pro/public/style_extra/mime_types/txt.gif)](http://reboot.pro/index.php?s\u003daf60ca3f95a063a23cd6f21c085d8eb9\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10588 \"Download attachment\") [**dd_results.txt**](http://reboot.pro/index.php?s\u003daf60ca3f95a063a23cd6f21c085d8eb9\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10588 \"Download attachment\") **1.9KB** 599 downloads\n\n"
    },
    {
      "id": "92988",
      "timestamp": "2010-03-02T21:50:50+00:00",
      "author": "dmtelf",
      "content": "\u003e although it does not sounds nice to interfere while an professional already is in to help you , but i would never post if i did not have same situation in past .  \n\u003e\n\u003e it was a internal hdd of a friend which came across same issue,  \n\u003e\n\u003e all i did was to run the following app (Disk Genius )  \n\u003e\n\u003e i selected search LOST partitions from Tools , and it did the job within 5 minutes..  \n\u003e\n\u003e just remember following 2 points,  \n\u003e\n\u003e MAKE SURE you reserve ONLY those partition what you recognize that you had.  \n\u003e MAKE SURE that you run the wizard with default settings,  \n\u003e\n\u003e [http://www.boot-land...?...ded\\\u0026start\u003d#](http://www.boot-land.net/forums/index.php?showtopic\u003d9459\u0026pid\u003d86832\u0026mode\u003dthreaded\u0026start\u003d# \"External link\")  \n\u003e\n\u003e by the way this version also has the option to recover files ..  \n\u003e\n\u003e remember it is just an option (disk genius i mean)..\n\nMany thanks for the recommendation! In desperation, I tried it, followed your advice to the letter \\\u0026 have posted the results in the post above this one - in short, it found a partition whereas DiskTest\u0027s Full Scan found nothing, but the partition Disk Genius found apparently did not contain any files.  \n\nI am sure there are several good reasons why this happened, but I am not 100% sure if I used it correctly, or and/or if a modification made in DiskTest will make the partition re-appear...?  \n\nDMTelf   \n"
    },
    {
      "id": "93000",
      "timestamp": "2010-03-02T22:22:12+00:00",
      "author": "mohammed gebril",
      "content": "\u003e Many thanks for the recommendation! In desperation, I tried it, followed your advice to the letter \\\u0026 have posted the results in the post above this one - in short, it found a partition whereas DiskTest\u0027s Full Scan found nothing, but the partition Disk Genius found apparently did not contain any files.  \n\u003e\n\u003e I am sure there are several good reasons why this happened, but I am not 100% sure if I used it correctly, or and/or if a modification made in DiskTest will make the partition re-appear...?  \n\u003e\n\u003e DMTelf\n\nWell I had this situation before, but with the internal hard disk.  \nI used Paragon partition manager.  \nThere is an option called Undelete   \n\nIt searches the unallocated hard disk for partition which has been deleted.  \nAfter finishing the check it will list all partition which can bee recovered.  \n\n\u003cbr /\u003e\n\nGo to (Advanced partition Tasks   \n\nUndelete partition   \n\n![Posted Image](http://img.brothersoft.com/screenshots/softimage/p/paragon_partition_manager_personal-26798-1.jpeg)   \n"
    },
    {
      "id": "93006",
      "timestamp": "2010-03-02T23:08:10+00:00",
      "author": "Wonko the Sane",
      "content": "@dmtelf  \n\nYou are **EXACTLY** in the situation **ozzyboy** was here:  \n[http://www.msfn.org/...howtopic\u003d141687](http://www.msfn.org/board/index.php?showtopic\u003d141687 \"External link\")  \n\nHe was a very, very lucky guy, and only the first sector of his bootsector was zeroed out, it is very possible that your HD has gone through more severe damage, as you were actually using bootice on it.  \n\nNow, please (while continuing to avoid panicking ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)) you should start some serious work.  \n\nTime to make a choice ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), you either trust me or you don\u0027t ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif), if yes ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif) , simply ignore each and everyone that will come here proposing a \"magic\" app, you already tried two of them with no benefit, trust me when I tell you that IF that partition can be recovered it can be with TESTDISK and manually, and that most if not all of the \"smart\" apps around will fail.  \n\nPlease read again, this time for it\u0027s entirety the given thread:  \n[http://www.msfn.org/...howtopic\u003d141687](http://www.msfn.org/board/index.php?showtopic\u003d141687 \"External link\")  \n\nBy the time you will have done so you should have learned to:  \n1) use dsfo/dsfi instead of the various dd for windows  \n2) make an image file of the failed hard disk using it  \n3) post exact size of the hard disk as reported by dsfo during the imaging  \n4) copy first 200 sectors from the disk image  \n5) copy last (say) 5000 sectors from the disk image   \n6) compress the last two files in a .zip or .7z archive and attach it  \n\nAgain, DON\u0027T PANIC, there is all the time in the world, think twice and thrice before doing anything on that hard disk before having created an image of it.  \n\n![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)  \n\nWonko   \n"
    },
    {
      "id": "93011",
      "timestamp": "2010-03-02T23:37:32+00:00",
      "author": "Icecube",
      "content": "Once you have found the start and end of the partition (Wonko the Sane will probably help you), you could take a look at:  \n[http://www.cgsecurit..._and_MFT_Repair](http://www.cgsecurity.org/wiki/Advanced_NTFS_Boot_and_MFT_Repair \"External link\")  \n\nYou can also use Photorec (developer also wrote Testdisk).  \nPhotorec only will recover certain file types (and won\u0027t give you the original filename).   \n"
    },
    {
      "id": "93228",
      "timestamp": "2010-03-04T17:43:06+00:00",
      "author": "dmtelf",
      "content": "\u003e @dmtelf  \n\u003e\n\u003e You are **EXACTLY** in the situation **ozzyboy** was here:  \n\u003e [http://www.msfn.org/...howtopic\u003d141687](http://www.msfn.org/board/index.php?showtopic\u003d141687 \"External link\")  \n\u003e\n\u003e He was a very, very lucky guy, and only the first sector of his bootsector was zeroed out, it is very possible that your HD has gone through more severe damage, as you were actually using bootice on it.  \n\u003e\n\u003e Now, please (while continuing to avoid panicking ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)) you should start some serious work.  \n\u003e\n\u003e Time to make a choice ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), you either trust me or you don\u0027t ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png), if yes ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) , simply ignore each and everyone that will come here proposing a \"magic\" app, you already tried two of them with no benefit, trust me when I tell you that IF that partition can be recovered it can be with TESTDISK and manually, and that most if not all of the \"smart\" apps around will fail.\n@Wonko, I trust you 100%.  \n\nI\u0027ve not been able to reply until just now because I\u0027ve had MAJOR problems getting onto this forum from 3 different ISPs in the UK as I normally get a webpage saying IPS Error for hours and hours at a time which is really nerve wracking for me. All I can do then is keep hitting F5 until [http://boot-land.net](http://boot-land.net \"External link\") finally opens properly.  \n\n\u003e Please read again, this time for it\u0027s entirety the given thread:  \n\u003e [http://www.msfn.org/...howtopic\u003d141687](http://www.msfn.org/board/index.php?showtopic\u003d141687 \"External link\")  \n\u003e\n\u003e By the time you will have done so you should have learned to:  \n\u003e 1) use dsfo/dsfi instead of the various dd for windows  \n\u003e 2) make an image file of the failed hard disk using it  \n\u003e 3) post exact size of the hard disk as reported by dsfo during the imaging  \n\u003e 4) copy first 200 sectors from the disk image  \n\u003e 5) copy last (say) 5000 sectors from the disk image   \n\u003e 6) compress the last two files in a .zip or .7z archive and attach it  \n\u003e\n\u003e Again, DON\u0027T PANIC, there is all the time in the world, think twice and thrice before doing anything on that hard disk before having created an image of it.\n\nI read that thread, and have come across a problem - vlm can\u0027t find the Toshiba drive but TestDisk can? This means I can\u0027t find the physical drive number from vlm which then needs to be passed as a parameter to dsfo so I can then use dsfo to back it up to dump drive 1 (drive letter F) using this command:  \n\ndsfo \\\\\\\\.\\\\PHYSICALDRIVEX 0 0 f:\\\\toshibadump.img  \n\nvlm (part of dsfok toolkit) found these volumes, comments in brackets are mine:  \n\n\\\\\\\\.\\\\Volume{c0e6bdc2-98de-11dc-a8ad-806d6172696f} (Desktop PC HD)  \nLabel: PC-C-Drive, File System: NTFS 76245/6007 MB  \nSymbolic Link: \\\\Device\\\\HarddiskVolume2  \n\n\\\\\\\\.\\\\Volume{0ef3bc56-1c9b-11df-a968-001aa04e173e} (Dump drive 1)  \nLabel: Dump 1, File System: NTFS 512001/511921 MB  \nSymbolic Link: \\\\Device\\\\HarddiskVolume3  \n\n\\\\\\\\.\\\\Volume{16ad517e-260d-11df-a969-001aa04e173e} (Dump drive 2)  \nLabel: Dump 2, File System: NTFS 441865/441787 MB  \nSymbolic Link: \\\\Device\\\\HarddiskVolume4  \n\nTestDisk found these media:  \n\nDisk /dev/sda - 80 Gb / 74 GiB - WDC WD800JD-75MSA3 (desktop PC\u0027s HD)  \nDisk /dev/sdb - 1000 Gb / 931 GiB - Seagate Desktop (backup drive, NTFS with 2 primary partitions)  \nDisk /dev/sdc - 320 Gb / 298 GiB - Toshiba MK3252GSX (drive to be imaged)  \n\nIs stress causing me to temporarily be denser than the heads on this knackered hard disc...?  \n\nDMTelf   \n"
    },
    {
      "id": "93248",
      "timestamp": "2010-03-04T19:33:17+00:00",
      "author": "Wonko the Sane",
      "content": "Yep, it\u0027s not the good UK ISP problem ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png), it\u0027s boot-land that has been a bit hectic lately ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) .  \n\nSure vlm cannot find your drive (as much a windows cannot assign a letter to it): there are no volumes (or they cannot be recognized) **this** is the problem at hand ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif).  \n\n* Your first hard disk (boot disk) is \\\\\\\\.\\\\PHYSICALDRIVE**0**.\n* Your second disk (***probably*** the \"Seagate Desktop\") is \\\\\\\\.\\\\PHYSICALDRIVE**1**\n* Your third disk (***probably*** the Toshiba) is \\\\\\\\.\\\\PHYSICALDRIVE**2**\n* etc.\n\n\u003cbr /\u003e\n\nOpen Disk Management and check that the above is accurate, you should see the same disks as:  \n\n* Disk **0**\n* Disk **1**\n* Disk **2**\n\n\u003cbr /\u003e\n\n**IF** my assumption is right, the command is:  \n\u003e dsfo \\\\\\\\.\\\\PHYSICALDRIVE***2*** 0 0 \\\u003cletter of a volume in the Seagate\\\u003e\\\\toshibadump.img\n\nThe amount of confusion between the terms \"disk\", \"hard disk drive\", \"drive\", \"volume\", partition\", \"physicaldrive\" and \"logicaldrive\" the good guys at MS (and also the good linux guys, BTW) contributed to create over the years is amazing, you are not dense at all, you are just entering a field where stoopidity and misleading terms have created a situation where very few people know what we are talking about.  \n\nQuick dictionary:  \n\n* **WHOLE** Hard **Disk** Drive \u003d Disk \u003d hard disk drive \u003d physicaldrive\n* **Partition** on hard disk drive \u003d drive (as in \"drive letter\") \u003d partition \u003d volume \u003d logicaldrive *(and this is not really exact, as you can have a logical partition with many \"volumes\"\u003d\"drive letters\" in it, but is correct as long as we are using Primary Partitions)*\n\n\u003cbr /\u003e\n\nAdditional translation table:  \n\n* /dev/sd**a** in TESTDISK \u003d Disk **0** in Disk Management \u003d \\\\\\\\.\\\\Physicaldrive***0*** in dsfo/dsfi (or more generally as Windows object)\n* /dev/sd**b** in TESTDISK \u003d Disk **1** in Disk Management \u003d \\\\\\\\.\\\\Physicaldrive***1*** in dsfo/dsfi (or more generally as Windows object)\n* /dev/sd**c** in TESTDISK \u003d Disk **2** in Disk Management \u003d \\\\\\\\.\\\\Physicaldrive***2*** in dsfo/dsfi (or more generally as Windows object)\n\n\u003cbr /\u003e\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nWonko   \n"
    },
    {
      "id": "93353",
      "timestamp": "2010-03-05T07:44:37+00:00",
      "author": "dmtelf",
      "content": "\u003e Sure vlm cannot find your drive (as much a windows cannot assign a letter to it): there are no volumes (or they cannot be recognized) **this** is the problem at hand ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif).\nThank you for the very clear tutorial re: drive referencing. It helped me a lot. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n\n\u003e The amount of confusion between the terms \"disk\", \"hard disk drive\", \"drive\", \"volume\", partition\", \"physicaldrive\" and \"logicaldrive\" the good guys at MS (and also the good linux guys, BTW) contributed to create over the years is amazing, you are not dense at all, you are just entering a field where stoopidity and misleading terms have created a situation where very few people know what we are talking about.\nYes, I have on occasions found this really confusing when doing research on the problem as so much different terminology is used to describe the same things. Your mini dictionary \\\u0026 drive referencing translation table both help me a lot!  \n\nHere is the dsfo output, the drive is 160037339136 bytes total size \\\u0026 the 1st 100 sectors \\\u0026 last 5000 sectors have been extracted, compressed \\\u0026 attached to this post.  \n\nC:\\\\dsfok\\\u003edsfo \\\\\\\\.\\\\PHYSICALDRIVE2 0 0 f:\\\\toshibadump.img  \n\\\\\\\\.\\\\PHYSICALDRIVE2 - Data error (cyclic redundancy check).  \nThis error can probably be ignored.  \nOK, 160037339136 bytes, 14460.031s, MD5 \u003d a00c0148804ebb8e992e537cf29bf48f  \n\nC:\\\\dsfok\\\u003edsfo f:\\\\toshibadump.img 0 102400 f:\\\\1st200sectors.img  \nOK, 102400 bytes, 0.000s, MD5 \u003d dcea85697436d8e9d1fcf6e42b9f0b63  \n\nC:\\\\dsfok\\\u003edsfo f:\\\\toshibadump.img -2560000 0 f:\\\\Last5000sectors.img  \nOK, 2560000 bytes, 0.125s, MD5 \u003d 13f64774e70fddffd494483c883f66bd  \n\nDMTelf  \n\n#### Attached Files {#attach_wrap}\n\n* [![Attached File](http://reboot.pro/public/style_extra/mime_types/zip.gif)](http://reboot.pro/index.php?s\u003daf60ca3f95a063a23cd6f21c085d8eb9\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10606 \"Download attachment\") [**ToshibaExtractedSectors.zip**](http://reboot.pro/index.php?s\u003daf60ca3f95a063a23cd6f21c085d8eb9\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10606 \"Download attachment\") **362.3KB** 451 downloads\n\n"
    },
    {
      "id": "93372",
      "timestamp": "2010-03-05T12:02:26+00:00",
      "author": "TheK",
      "content": "\u003e C:\\\\dsfok\\\u003edsfo \\\\\\\\.\\\\PHYSICALDRIVE2 0 0 f:\\\\toshibadump.img  \n\u003e \\\\\\\\.\\\\PHYSICALDRIVE2 - Data error (cyclic redundancy check).  \n\u003e This error can probably be ignored.  \n\u003e OK, 160037339136 bytes, 14460.031s, MD5 \u003d a00c0148804ebb8e992e537cf29bf48f\n\nSomething went wrong here. That\u0027s only 50% of the total disk capacity!  \nAccording to your testdisk.log file the image size should be 320072933376 bytes.  \n\nI don\u0027t know what the CRC error means. Maybe dsfo found a bad sector and simply stopped reading.  \nOr it probably failed to detect the disk size correctly?  \n\nCan you try this?  \n\n```\ndsfo \\\\.\\PHYSICALDRIVE2 0 320072933376 f\u0026#58;\\toshibadump.img\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "93377",
      "timestamp": "2010-03-05T15:13:31+00:00",
      "author": "Wonko the Sane",
      "content": "Try another utility INSTEAD of dsfo:  \n[http://www.boot-land...?...ic\u003d7783\\\u0026hl\u003d](http://www.boot-land.net/forums/index.php?showtopic\u003d7783\u0026hl\u003d \"External link\")  \n\nIt is possible that dsfo timed out/had an hiccup/whatever.  \n\nThe good (partially) news are that the fist sector of the \"main\" bootsector or PBR is almost intact.  \n\nPartition is/was ending at 38913\\*255\\*63\u003d625,137,345  \n320,072,933,376/512\u003d 625,142,448   \n625,142,448-625,137,345\u003d5,103  \nLet\u0027s make it 5,200.  \n\nuse ddrescue to produce the last 5,200 sectors of the disk and post them.  \nThen try using it to image again the whole disk.  \n\n![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)  \n\nWonko   \n"
    },
    {
      "id": "93422",
      "timestamp": "2010-03-05T20:00:26+00:00",
      "author": "dmtelf",
      "content": "\u003e Try another utility INSTEAD of dsfo:  \n\u003e [http://www.boot-land...?...ic\u003d7783\\\u0026hl\u003d](http://www.boot-land.net/forums/index.php?showtopic\u003d7783\u0026hl\u003d \"External link\")\nI\u0027ve downloaded Odin \\\u0026 DataRescue DD from that thread, but (probably incorrectly) assumed you wanted me to try ddrescue first as thats the only program you mentioned by name in your post?  \n\n\u003e It is possible that dsfo timed out/had an hiccup/whatever.\ndsfo copied for about 8 hours, I then went to bed \\\u0026 left it copying, and when I woke up the next day it had finished, but only done half the drive ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\n\u003e use ddrescue to produce the last 5,200 sectors of the disk and post them.  \n\u003e Then try using it to image again the whole disk.\nI had some problems getting ddrescue up and running, in the end I downloaded \\\u0026 installed a minimum cygwin, downloaded a ddrescue 1.9.1 Windows binary \\\u0026 put it in the c:/cygwin/bin/ directory. ddrescue now runs from within the cygwin Bash shell.  \n\nI am a bit stumped by the required ddrescue syntax/command line switches as there are so many of them \\\u0026 I am not sure how to specify the offset from the end of the disk as this isn\u0027t given in any of the very few examples I found via Google ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) Could you please advise how it needs to be done? This is what I\u0027ve got so far (not tested):  \n\nddrescue -g /dev/sdc/ z:\\\\toshdump.img z:\\\\toshdumplog.txt  \n\nIs it ok for me to delete the dsfo image before I make the ddrescue image?  \n\nThanks.  \n\nDMTelf   \n"
    },
    {
      "id": "93425",
      "timestamp": "2010-03-05T20:16:13+00:00",
      "author": "dmtelf",
      "content": "\u003e Something went wrong here. That\u0027s only 50% of the total disk capacity!  \n\u003e According to your testdisk.log file the image size should be 320072933376 bytes.  \n\u003e\n\u003e I don\u0027t know what the CRC error means. Maybe dsfo found a bad sector and simply stopped reading.  \n\u003e Or it probably failed to detect the disk size correctly?  \n\u003e\n\u003e Can you try this?  \n\u003e\n\u003e ```\n\u003e dsfo \\\\.\\PHYSICALDRIVE2 0 320072933376 f\u0026#58;\\toshibadump.img\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nThanks for the suggestion, @TheK! If @Wonko The Sane also thinks its a good idea, I\u0027m more than happy to try it.   \n\nThe only reason I\u0027m not trying it straight away is it took well over 8 hours for dsfo to create an image of only half the Toshiba HD last night \\\u0026 I want to \"use\" the original Toshiba HD as little as possible so I\u0027m going to try Wonko\u0027s ddrescue suggestion first, once I\u0027ve managed to suss out the required syntax / command line switches as I can\u0027t find any clear examples to refer to, especially wrt extracting the last n sectors from the end of a disk.   \n\nDMTelf   \n"
    },
    {
      "id": "93428",
      "timestamp": "2010-03-05T20:35:32+00:00",
      "author": "Wonko the Sane",
      "content": "You see how misunderstandings begin? ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)  \n\nTYPO, my bad, :wink: I meant:  \n~~ddrescue~~ Data Rescue DD  \n\nYes, if you get the last sectors with Data Rescue DD it should take a few seconds, then try again with Data Rescue DD to image the whole drive normally and yes, you can delete the partial image made with dsfo.  \n\nWith Data Rescue DD it should work.  \n\nIf even that doesn\u0027t work, there really may be some (hopefully small) problems with the HD, like a bad sector or something like that.  \n\nI don\u0027t think that there is a problem with determining the size of the disk, it is more likely that dsfo errored out for some other unknown reasons, however if you want to try with a \"determined length\" it\u0027s allright, at the most you will lose another 8 hours.  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nWonko   \n"
    },
    {
      "id": "93441",
      "timestamp": "2010-03-05T22:50:37+00:00",
      "author": "TheK",
      "content": "@dmtelf before you try to create an image of the whole disk again, you should probably try to read only the position where dsfo stopped.  \nThis could save you another 8 hours.  \n\n```\ndsfo \\\\.\\PHYSICALDRIVE2 320072923376 320072943376 f\u0026#58;\\testdump.img\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "93443",
      "timestamp": "2010-03-05T23:05:51+00:00",
      "author": "dmtelf",
      "content": "\u003e @dmtelf before you try to create an image of the whole disk again, you should probably try to read only the position where dsfo stopped.  \n\u003e This could save you another 8 hours.  \n\u003e\n\u003e ```\n\u003e dsfo \\\\.\\PHYSICALDRIVE2 320072923376 320072943376 f\u0026#58;\\testdump.img\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nThanks for the suggestion! I got this error \\\u0026 it looks a bit worrying to me...  \n\nC:\\\\dsfok\\\u003edsfo \\\\\\\\.\\\\PHYSICALDRIVE2 320072923376 320072943376 h:\\\\testdump.img  \n\\\\\\\\.\\\\PHYSICALDRIVE2 - The drive cannot find the sector requested.  \nThis error can probably be ignored.  \nh:\\\\testdump.img - No more data is available.  \n\nDMTelf   \n"
    },
    {
      "id": "93444",
      "timestamp": "2010-03-05T23:16:38+00:00",
      "author": "TheK",
      "content": "\u003e Thanks for the suggestion! I got this error \\\u0026 it looks a bit worrying to me...  \n\u003e\n\u003e C:\\\\dsfok\\\u003edsfo \\\\\\\\.\\\\PHYSICALDRIVE2 320072923376 320072943376 h:\\\\testdump.img  \n\u003e \\\\\\\\.\\\\PHYSICALDRIVE2 - The drive cannot find the sector requested.  \n\u003e This error can probably be ignored.  \n\u003e h:\\\\testdump.img - No more data is available.  \n\u003e\n\u003e DMTelf\n\nThis can\u0027t work as it is the end of the disk +/- 10KB  \nSorry, my bad ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n\nThe correct position should be 160037339136 +/- \\~10KB   \n\n```\ndsfo \\\\.\\PHYSICALDRIVE2 160037329136 160037349136 h\u0026#58;\\testdump.img\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "93446",
      "timestamp": "2010-03-05T23:19:31+00:00",
      "author": "dmtelf",
      "content": "\u003e You see how misunderstandings begin? ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\nI\u0027m deaf - I know all about misunderstandings! ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)  \n\n\u003e Yes, if you get the last sectors with Data Rescue DD it should take a few seconds, then try again with Data Rescue DD to image the whole drive normally and yes, you can delete the partial image made with dsfo.\nI told Data Rescue DD to dump the last 5000 sectors, as shown in the attached screengrab. I\u0027m not sure if I did it right because the last read sector \\\u0026 last read offset as shown in the log below are both 0 \\\u0026 I was expecting it to stop at the 5000th sector hence last read sector in the log would therefore have been 5000 \\\u0026 last read offset -5000?  \n\nSource: Drive 3   \nSource size: 320 GB  \nSource sectors: 625137345  \nSource bytes: 320070320640  \nDestination: C:\\\\Documents and Settings\\\\dmtelf\\\\Desktop\\\\Last 5000 Sectors Toshiba HD.dd  \nRead direction: \\\u003c-  \nLast read sector: 0  \nLast read offset: 0  \n\nThe 5000 sector dd file is 2.14Mb zipped \\\u0026 the maximum attachment size here is 1000Kb, so I\u0027ve had to upload it to Rapidshare (sorry): [http://rapidshare.co..._Toshiba_HD.zip](http://rapidshare.com/files/359479361/Last_5000_Sectors_Toshiba_HD.zip \"External link\")  \n\nDMTelf  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![DataResuce_DD_Last_5000_Sectors_Toshiba_HD_Screengrab.png](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267831127_thumb.png)](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267831127.png \"DataResuce_DD_Last_5000_Sectors_Toshiba_HD_Screengrab.png - Size: 27.44KB\"){#ipb-attach-url-10614-0-55604800-1676066670}\n\n"
    },
    {
      "id": "93447",
      "timestamp": "2010-03-05T23:25:18+00:00",
      "author": "dmtelf",
      "content": "\u003e This can\u0027t work as it is the end of the disk +/- 10KB  \n\u003e Sorry, my bad ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n\u003e\n\u003e The correct position should be 160037339136 +/- \\~10KB   \n\u003e\n\u003e ```\n\u003e dsfo \\\\.\\PHYSICALDRIVE2 160037329136 160037349136 h\u0026#58;\\testdump.img\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nI did wonder about the original parameters you gave, but I assumed there was a reason for it..  \n\nC:\\\\dsfok\\\u003edsfo \\\\\\\\.\\\\PHYSICALDRIVE2 160037329136 160037349136 h:\\\\testdump.img  \n\\\\\\\\.\\\\PHYSICALDRIVE2 - Data error (cyclic redundancy check).  \nThis error can probably be ignored.  \nh:\\\\testdump.img - No more data is available.  \n\nHow can I find the range of sectors that have CRC errors in this portion of the drive...?  \n\nDMTelf   \n"
    },
    {
      "id": "93448",
      "timestamp": "2010-03-05T23:31:17+00:00",
      "author": "TheK",
      "content": "what is the exact file size of h:\\\\testdump.img ?   \n"
    },
    {
      "id": "92937",
      "timestamp": "2010-03-02T00:14:00+00:00",
      "author": "dmtelf",
      "content": "I have managed to make a **colossal** mistake as I idiotically somehow had the wrong drive selected - an external 320Gb NTFS 1 partition Toshiba HD - instead of a Cruzer 4Gb USB stick when I used [BOOTICE](http://www.boot-land.net/forums/index.php?showtopic\u003d8986 \"External link\")(part of the WinSetupFromUSB app package) to do a repartition + format to USB-HDD mode. ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif) ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif)  \n\nAbout 5 seconds after I started the format in BOOTICE, I realised to my horror what I had done and frantically pulled out the USB HD cable while the program was running.  \n\nI only have myself to blame to for this error. Most unfortunately, this drive has many many gigabytes of irreplacable non-backed up personal stuff on it.  \n\nNow as a result of my cockup, the drive does not have any recognisable partitions - Windows now won\u0027t find or recognise any partitions on it, nor will 2 commercial recovery tools I\u0027ve tried, Acronis RecoveryExpert Deluxe \\\u0026 Active Undelete. If I try to go into it via Explorer, it thinks the drive is not formatted.  \n\nBefore I go have a nervous breakdown when it fully sinks in just how much data there was on that one drive, I thought I\u0027d ask here in the forlorn hope that someone out there might have some words of advice, even if its confirmation there\u0027s definitely nothing I can do now..?  \n\nThanks....   \n\nDMTelf ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)   \n"
    },
    {
      "id": "92938",
      "timestamp": "2010-03-02T00:33:18+00:00",
      "author": "homes32",
      "content": "\u003e I have managed to make a **colossal** mistake as I idiotically somehow had the wrong drive selected - an external 320Gb NTFS 1 partition Toshiba HD - instead of a Cruzer 4Gb USB stick when I used [BOOTICE](http://www.boot-land.net/forums/index.php?showtopic\u003d8986 \"External link\")(part of the WinSetupFromUSB app package) to do a repartition + format to USB-HDD mode. ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif) ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif)  \n\u003e\n\u003e About 5 seconds after I started the format in BOOTICE, I realised to my horror what I had done and frantically pulled out the USB HD cable while the program was running.  \n\u003e\n\u003e I only have myself to blame to for this error. Most unfortunately, this drive has many many gigabytes of irreplacable non-backed up personal stuff on it.  \n\u003e\n\u003e Now as a result of my cockup, the drive does not have any recognisable partitions - Windows now won\u0027t find or recognise any partitions on it, nor will 2 commercial recovery tools I\u0027ve tried, Acronis RecoveryExpert Deluxe \\\u0026 Active Undelete. If I try to go into it via Explorer, it thinks the drive is not formatted.  \n\u003e\n\u003e Before I go have a nervous breakdown when it fully sinks in just how much data there was on that one drive, I thought I\u0027d ask here in the forlorn hope that someone out there might have some words of advice, even if its confirmation there\u0027s definitely nothing I can do now..?  \n\u003e\n\u003e Thanks....   \n\u003e\n\u003e DMTelf ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)\n\nI would try \"Partition Find and Mount\" and \"Teskdisk\" (both included in the VistaPE CAPI project) and see if they can find the partitions. if that fails though I would start thinking about if it was worth spending the $$$$ sending the drive in for professional data recovery.   \n"
    },
    {
      "id": "92951",
      "timestamp": "2010-03-02T08:02:30+00:00",
      "author": "Wonko the Sane",
      "content": "DON\u0027T PANIC  \n(assume the above to be written in large, friendly letters)  \n\n![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)   \n\nMost if not all of your data can be recovered, the only thing you need is that you stay calm, don\u0027t fret and STOP fiddling with the drive with applications you do not know/understand fully.   \n\nIt is an external USB drive, right?  \n\nIf yes you don\u0027t need a PE, you can use your main OS, which OS is it? (XP/Vista/7, etc.)?  \n\nDescribe, to the best you can recall, HOW that drive was partitioned (number and type of partitions, filesystems used, etc).  \n\nFor the moment you want only TESTDISK:  \n[http://www.cgsecurit...g/wiki/TestDisk](http://www.cgsecurity.org/wiki/TestDisk \"External link\")  \n\nIt is strongly advised, though not strictly necessary, that you get ANOTHER (new or however blank) USB hard disk and before starting the recovery you image the old drive at sector level, if you can afford to buy such a new disk, it would be safer to have it.  \n\nAnyway you will need an adequate amount of free hard disk space on some device, to store the recovered data temporarily, should the partition recovery \"on place\" be not possible or not possible entirely.   \n\nHere are a few examples of what you will need to be doing, I need also to understand which level of familiarity you have with OS, PC and command line apps:  \n[http://www.msfn.org/...howtopic\u003d141687](http://www.msfn.org/board/index.php?showtopic\u003d141687 \"External link\")  \n[http://www.msfn.org/...howtopic\u003d141448](http://www.msfn.org/board/index.php?showtopic\u003d141448 \"External link\")  \n[http://www.msfn.org/...howtopic\u003d140675](http://www.msfn.org/board/index.php?showtopic\u003d140675 \"External link\")  \n[http://www.msfn.org/...howtopic\u003d133933](http://www.msfn.org/board/index.php?showtopic\u003d133933 \"External link\")  \n\n![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)  \n\nWonko   \n"
    },
    {
      "id": "92964",
      "timestamp": "2010-03-02T09:54:47+00:00",
      "author": "maanu",
      "content": "although it does not sounds nice to interfere while an professional already is in to help you , but i would never post if i did not have same situation in past .  \n\nit was a internal hdd of a friend which came across same issue,  \n\nall i did was to run the following app (Disk Genius )  \n\n\u003cbr /\u003e\n\n\u003cbr /\u003e\n\ni selected search LOST partitions from Tools , and it did the job within 5 minutes..  \n\njust remember following 2 points,  \n\nMAKE SURE you reserve ONLY those partition what you recognize that you had.  \nMAKE SURE that you run the wizard with default settings,  \n\n[http://www.boot-land...?...ded\\\u0026start\u003d#](http://www.boot-land.net/forums/index.php?showtopic\u003d9459\u0026pid\u003d86832\u0026mode\u003dthreaded\u0026start\u003d# \"External link\")  \n\n\u003cbr /\u003e\n\nby the way this version also has the option to recover files ..  \n\nremember it is just an option (disk genius i mean)..   \n"
    },
    {
      "id": "92966",
      "timestamp": "2010-03-02T11:49:08+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e although it does not sounds nice to interfere while an ***professional*** already is in to help you , but i would never post if i did not have same situation in past .\nYou joking right? ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)  \n\nIf I were a ***professional*** I would charge a neat $800รท$2,000 and be done with it. ![:(](http://reboot.pro/public/style_emoticons/default/sad.png) :smile::  \n[http://www.911cd.net...showtopic\u003d23661](http://www.911cd.net/forums//index.php?showtopic\u003d23661 \"External link\")  \n\nI am not familiar with Disk Genius, it is most probably a very good app ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), but I wouldn\u0027t personally bet ***my*** DATA on ***anything*** that has a WIZARD ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), I mean, wizards, just like Jedi\u0027s, may be allured by the Dark Side ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif), and you know how it goes:  \n\u003e Once you start down the dark path, forever will it dominate your destiny, consume you it will.\n\nWhen we are talking of DATA recovery, I have my own approach:  \n[http://www.msfn.org/...showtopic\u003d84345](http://www.msfn.org/board/index.php?showtopic\u003d84345 \"External link\")  \n[http://www.msfn.org/...opic\u003d84345\\\u0026st\u003d7](http://www.msfn.org/board/index.php?showtopic\u003d84345\u0026st\u003d7 \"External link\")  \n\u003e Rules are as follows, as I see it:  \n\u003e 1) ALWAYS make a bit by bit copy of the damaged media, if possible, make TWO of them  \n\u003e 2) Run against the image EVERY single piece of software you can think of, starting with a program you know and trust, but do NOT overlook \"minor\" ones or \"narrow\" ones, i.e. those aimed to recovery just a certain type of file or a certain type of damage  \n\u003e 3) Given the low cost of todays hardware, NEVER attempt repair on original media, only do it AFTER recovery was succesful on the copy, what you were not able to do might be possible  \n\u003e 4) Do not EVER give up, I was able to recover data that \"so-called\" professionals had determined to be an impossible recovery, simply by using a different tool or making some minor manual corrections.  \n\u003e 5) TELL the customer that recovery has MANY levels of accuracy and corresponding many levels of time involved and cost, explain him that even if a quick scan determined that no recovery was possible, a deeper analisys may give some results, data recovery if not successful with \"easy - press one button and go\" tools, manual recover is often possible, and in some cases even partial data can be of great help, all in all is a matter of the VALUE the customer attributes to lost data  \n\u003e\n\u003e Programs I can swear by:  \n\u003e TESTDISK (Freeware)  \n\u003e\n\u003e File Scavenger (NTFS only -Commercial)  \n\u003e\n\u003e TiramiSU (FAT16-FAT32-NTFS-ZIP disks - not anymore developed - Shareware - Commercial - acquired by Ontrack)\n\n\u003cbr /\u003e\n\n![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)  \n\nWonko   \n"
    },
    {
      "id": "92971",
      "timestamp": "2010-03-02T20:27:30+00:00",
      "author": "dmtelf",
      "content": "\u003e I would try \"Partition Find and Mount\" and \"Teskdisk\" (both included in the VistaPE CAPI project) and see if they can find the partitions. if that fails though I would start thinking about if it was worth spending the $$$$ sending the drive in for professional data recovery.\n\nThank you for your advice!   \n\n\"Partition Find and Mount\" unfortunately didn\u0027t find any partitions ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)  \n\nI\u0027ll post about my TeskDisk results + other findings later on in this thread.  \n\nDMTelf   \n"
    },
    {
      "id": "92981",
      "timestamp": "2010-03-02T21:39:16+00:00",
      "author": "dmtelf",
      "content": "\u003e DON\u0027T PANIC  \n\u003e (assume the above to be written in large, friendly letters)  \n\u003e\n\u003e ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)\nThank you so much for your help with this! I\u0027ll try my best not to panic! It\u0027s so nerve wracking for me though...  \n\n\u003e Most if not all of your data can be recovered, the only thing you need is that you stay calm, don\u0027t fret and STOP fiddling with the drive with applications you do not know/understand fully.\n\nI have stopped fiddling with the drive itself \\\u0026 will from now on only fiddle with images made from it.  \n\n\u003e It is an external USB drive, right?\n\nYes. The external USB HD is a Toshiba MK3252GSX.  \nSpecs: [http://sdd.toshiba.c...XSpecifications](http://sdd.toshiba.com/main.aspx?Path\u003dHardDrivesOpticalDrives/2.5-inchHardDiskDrives/MK3252GSX/MK3252GSXSpecifications \"External link\")  \nAccording to the above specs, this drive physically has 4 data heads \\\u0026 2 disks \\\u0026 this drive logically has 16 heads, 16,383 cylinders \\\u0026 63 user sectors/track at zone 0.  \n\n\u003e If yes you don\u0027t need a PE, you can use your main OS, which OS is it? (XP/Vista/7, etc.)?\n\nXP SP3 fully patched.  \n\n\u003e Describe, to the best you can recall, HOW that drive was partitioned (number and type of partitions, filesystems used, etc).\n\nOriginal Toshiba MK3252GSX partitioning from memory: NTFS format, 1 partition, default sector size. Formatted via XP\u0027s Logical Disk Management Service.  \n\nI intended to prepare a Cruzer USB stick for installing XP onto the SDHC in my eee 900 PC. I used [WinSetupFromUSB 1.0 beta 5](http://www.msfn.org/board/topic/120444-how-to-install-from-usb-winsetupfromusb-with-gui/ \"External link\") \\\u0026 with this package, you prepare the removable device using BOOTICE and then put the image of the OS to install onto it using RMPrepUSB.  \n\nHow I screwed it up: I used BOOTICE to format the wrong drive to USB-HDD mode, as shown in the attached screengrab. A few seconds after I started the format, I realised I had chosen the wrong drive so I quickly yanked out the USB cable \\\u0026 the DOS console window which opened after I started the format closed straight away.  \n\nNB: the BOOTICE screengrab shows the correct drive has been selected so the disk information shown at the bottom of the \"Repartition \\\u0026 Format\" window is for the Cruzer 4Gb USB drive \\\u0026 not the Toshiba HD.   \n\n\u003e It is strongly advised, though not strictly necessary, that you get ANOTHER (new or however blank) USB hard disk and before starting the recovery you image the old drive at sector level, if you can afford to buy such a new disk, it would be safer to have it.  \n\u003e\n\u003e Anyway you will need an adequate amount of free hard disk space on some device, to store the recovered data temporarily, should the partition recovery \"on place\" be not possible or not possible entirely.\n\nI went out and bought a Seagate Expansion 1Tb external HD for this recovery \\\u0026 have split it to 1 x 500Gb \\\u0026 1 x 431Gb NTFS partitions. Please let me know if there is another more appropriate partioning I should do.  \n\nI\u0027ve never used dd before so I downloaded dd for Windows from [http://www.chrysocome.net/dd](http://www.chrysocome.net/dd \"External link\") \\\u0026 have attached the results of the dd --list command to this post.  \n\nAs the Toshiba HD does not have a drive letter, I\u0027m unsure how to refer to its NT block device object in the if\u003d\\\\\\\\ part of the the below dd command?  \n\ndd --progress if\u003d\\\\\\\\.\\\\..? of\u003dz:\\\\backupimage.dd (drive z is the 500Gb partition where the dd image is to be dumped)  \n\nBTW - would I be better off using the dd port in [Forensic Aquisition Utilities](http://www.gmgsystemsinc.com/fau/ \"External link\") ?  \n\n\u003e Here are a few examples of what you will need to be doing, I need also to understand which level of familiarity you have with OS, PC and command line apps:  \n\u003e [http://www.msfn.org/...howtopic\u003d141687](http://www.msfn.org/board/index.php?showtopic\u003d141687 \"External link\")\n\nTestDisk results (logfile attached to this post):  \n\nCreate new log file  \nChoose external HD - Disk /dev/sdb - 320 GB / 298 GiB - TOSHIBA MK3252GSX. It displays the correct disk capacity.  \nChoose Intel/PC partition  \nAnalyse  \n\"Partition sector doesn\u0027t have the endmark 0xAA55\" message appears  \nChoose Quick Search  \nNo drives or partitions are found  \nChoose Deeper Search  \n\"No partition found or selected for recovery\"  \n\nI googled the \"Partition sector doesn\u0027t have the endmark 0xAA55\" error message. Apparently this error means that the partition boot sector was not found for the first partition, ie, the boot sector has been overwritten?  \n\nThe first hit in the search results was the first example titled \"The type of the file system is RAW - Recovery of a damaged FAT boot sector\" in the [TestDisk Data Recovery Examples page](http://www.cgsecurity.org/wiki/Data_Recovery_Examples \"External link\"):   \n\nHowever, there are partitions listed in the 2 tables given in the above linked description of how to recover data in that situation using TestDisk, and there are no partitions found when I run Testdisk -\\\u003e Quick or Full Search on my external HD.  \n\nAs TestDisk was unable to find any partitions, I was not able to follow the advice in the next 2 threads you gave.   \n\n\u003e [http://www.msfn.org/...howtopic\u003d133933](http://www.msfn.org/board/index.php?showtopic\u003d133933 \"External link\")\n\nQuestion: How can I use HDHacker to save the first sector of LogicalDrive if the partition does not have a drive letter?  \n\nUsing the dd --list output (attached) to identify the correct device, I saved the first sector of Physical Drive (MBR) 2 to MBR.bin.   \n\n--\\\u003e  \n\nAt this point, I was starting to really panic (sorry, I can\u0027t help it!!) so I ran Eisoo DiskGenius v3.0.1206 Beta 2 which says the HD has 298.1GB capacity, 625142447 total sectors, 320072932864 total bytes.  \n\nAfter checking nothing would be written back to the HD, I selected the HD2:MK3252GSX(298Gb) volume, right clicked on it \\\u0026 selected \"Search Lost Partitions(Rebuild Partition Table)\". A window appeared with the title bar \"Searching lost partitions\". It took a little while to scan the drive and it found 1 partition, but the file system was shown in DiskGenius as \"unknown\" \\\u0026 no files were shown when I clicked on the Files tab. I did NOT save the partition table after the scan had finished.  \n\nDiskGenius had the following data for the partition it found:  \nVolume Label: Partition(0)  \nSeq.(Stat): 0 L  \nFile System: Unknown  \nID: 99  \nStart Cylinder: 0  \nHead: 1  \nSector: 1  \nEnd Cylinder: 38913  \nHead: 80  \nSector: 62  \nCapacity: 298.1GB  \n\n--\\\u003e  \n\nHD Tune Pro reports:  \nFirmware version: LV010A  \nCapacity 320.1gB (298.1 GB)  \nBuffer: 8192 KB  \nSector size: 512 bytes  \nStandard: ATA8-ACS - SATA II  \nSupported: UDMA Mode 5  \nActive: UDMA Mode 5  \n\n--\\\u003e  \n\nComputer Management -\\\u003e Storage -\\\u003e Disk Management reports:  \nDisk: Disk 1  \nType: Unknown  \nStatus: Not Initialized  \nPartition style: Not Applicable  \nCapacity: 305243Mb  \nUnallocated space: 305243Mb  \nReserved space: 0Mb  \n\n--\\\u003e  \n\nI hope the above information will help you \\\u0026 others guide me further...  \n\nThanks again,  \n\nDMTelf  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![Drive_Genius_Found_1_Partition.png](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267564960_thumb.png)](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267564960.png \"Drive_Genius_Found_1_Partition.png - Size: 44.88KB\"){#ipb-attach-url-10586-0-07969000-1676066671}\n* [![BOOTICE_Format_USB_HDD_mode.jpg](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267565203_thumb.jpg)](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267565203.jpg \"BOOTICE_Format_USB_HDD_mode.jpg - Size: 169.55KB\"){#ipb-attach-url-10587-0-07976500-1676066671}  \n\n#### Attached Files {#attach_wrap}\n\n* [![Attached File](http://reboot.pro/public/style_extra/mime_types/zip.gif)](http://reboot.pro/index.php?s\u003d1980ac0955864fabcd40fafd6919dd61\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10585 \"Download attachment\") [**testdisk.rar**](http://reboot.pro/index.php?s\u003d1980ac0955864fabcd40fafd6919dd61\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10585 \"Download attachment\") **1.05KB** 454 downloads\n* [![Attached File](http://reboot.pro/public/style_extra/mime_types/txt.gif)](http://reboot.pro/index.php?s\u003d1980ac0955864fabcd40fafd6919dd61\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10588 \"Download attachment\") [**dd_results.txt**](http://reboot.pro/index.php?s\u003d1980ac0955864fabcd40fafd6919dd61\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10588 \"Download attachment\") **1.9KB** 599 downloads\n\n"
    },
    {
      "id": "92988",
      "timestamp": "2010-03-02T21:50:50+00:00",
      "author": "dmtelf",
      "content": "\u003e although it does not sounds nice to interfere while an professional already is in to help you , but i would never post if i did not have same situation in past .  \n\u003e\n\u003e it was a internal hdd of a friend which came across same issue,  \n\u003e\n\u003e all i did was to run the following app (Disk Genius )  \n\u003e\n\u003e i selected search LOST partitions from Tools , and it did the job within 5 minutes..  \n\u003e\n\u003e just remember following 2 points,  \n\u003e\n\u003e MAKE SURE you reserve ONLY those partition what you recognize that you had.  \n\u003e MAKE SURE that you run the wizard with default settings,  \n\u003e\n\u003e [http://www.boot-land...?...ded\\\u0026start\u003d#](http://www.boot-land.net/forums/index.php?showtopic\u003d9459\u0026pid\u003d86832\u0026mode\u003dthreaded\u0026start\u003d# \"External link\")  \n\u003e\n\u003e by the way this version also has the option to recover files ..  \n\u003e\n\u003e remember it is just an option (disk genius i mean)..\n\nMany thanks for the recommendation! In desperation, I tried it, followed your advice to the letter \\\u0026 have posted the results in the post above this one - in short, it found a partition whereas DiskTest\u0027s Full Scan found nothing, but the partition Disk Genius found apparently did not contain any files.  \n\nI am sure there are several good reasons why this happened, but I am not 100% sure if I used it correctly, or and/or if a modification made in DiskTest will make the partition re-appear...?  \n\nDMTelf   \n"
    },
    {
      "id": "93000",
      "timestamp": "2010-03-02T22:22:12+00:00",
      "author": "mohammed gebril",
      "content": "\u003e Many thanks for the recommendation! In desperation, I tried it, followed your advice to the letter \\\u0026 have posted the results in the post above this one - in short, it found a partition whereas DiskTest\u0027s Full Scan found nothing, but the partition Disk Genius found apparently did not contain any files.  \n\u003e\n\u003e I am sure there are several good reasons why this happened, but I am not 100% sure if I used it correctly, or and/or if a modification made in DiskTest will make the partition re-appear...?  \n\u003e\n\u003e DMTelf\n\nWell I had this situation before, but with the internal hard disk.  \nI used Paragon partition manager.  \nThere is an option called Undelete   \n\nIt searches the unallocated hard disk for partition which has been deleted.  \nAfter finishing the check it will list all partition which can bee recovered.  \n\n\u003cbr /\u003e\n\nGo to (Advanced partition Tasks   \n\nUndelete partition   \n\n![Posted Image](http://img.brothersoft.com/screenshots/softimage/p/paragon_partition_manager_personal-26798-1.jpeg)   \n"
    },
    {
      "id": "93006",
      "timestamp": "2010-03-02T23:08:10+00:00",
      "author": "Wonko the Sane",
      "content": "@dmtelf  \n\nYou are **EXACTLY** in the situation **ozzyboy** was here:  \n[http://www.msfn.org/...howtopic\u003d141687](http://www.msfn.org/board/index.php?showtopic\u003d141687 \"External link\")  \n\nHe was a very, very lucky guy, and only the first sector of his bootsector was zeroed out, it is very possible that your HD has gone through more severe damage, as you were actually using bootice on it.  \n\nNow, please (while continuing to avoid panicking ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)) you should start some serious work.  \n\nTime to make a choice ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), you either trust me or you don\u0027t ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif), if yes ![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif) , simply ignore each and everyone that will come here proposing a \"magic\" app, you already tried two of them with no benefit, trust me when I tell you that IF that partition can be recovered it can be with TESTDISK and manually, and that most if not all of the \"smart\" apps around will fail.  \n\nPlease read again, this time for it\u0027s entirety the given thread:  \n[http://www.msfn.org/...howtopic\u003d141687](http://www.msfn.org/board/index.php?showtopic\u003d141687 \"External link\")  \n\nBy the time you will have done so you should have learned to:  \n1) use dsfo/dsfi instead of the various dd for windows  \n2) make an image file of the failed hard disk using it  \n3) post exact size of the hard disk as reported by dsfo during the imaging  \n4) copy first 200 sectors from the disk image  \n5) copy last (say) 5000 sectors from the disk image   \n6) compress the last two files in a .zip or .7z archive and attach it  \n\nAgain, DON\u0027T PANIC, there is all the time in the world, think twice and thrice before doing anything on that hard disk before having created an image of it.  \n\n![:exclamation:](http://reboot.pro/public/style_emoticons/default/exclamation.gif)  \n\nWonko   \n"
    },
    {
      "id": "93011",
      "timestamp": "2010-03-02T23:37:32+00:00",
      "author": "Icecube",
      "content": "Once you have found the start and end of the partition (Wonko the Sane will probably help you), you could take a look at:  \n[http://www.cgsecurit..._and_MFT_Repair](http://www.cgsecurity.org/wiki/Advanced_NTFS_Boot_and_MFT_Repair \"External link\")  \n\nYou can also use Photorec (developer also wrote Testdisk).  \nPhotorec only will recover certain file types (and won\u0027t give you the original filename).   \n"
    },
    {
      "id": "93228",
      "timestamp": "2010-03-04T17:43:06+00:00",
      "author": "dmtelf",
      "content": "\u003e @dmtelf  \n\u003e\n\u003e You are **EXACTLY** in the situation **ozzyboy** was here:  \n\u003e [http://www.msfn.org/...howtopic\u003d141687](http://www.msfn.org/board/index.php?showtopic\u003d141687 \"External link\")  \n\u003e\n\u003e He was a very, very lucky guy, and only the first sector of his bootsector was zeroed out, it is very possible that your HD has gone through more severe damage, as you were actually using bootice on it.  \n\u003e\n\u003e Now, please (while continuing to avoid panicking ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)) you should start some serious work.  \n\u003e\n\u003e Time to make a choice ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif), you either trust me or you don\u0027t ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png), if yes ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) , simply ignore each and everyone that will come here proposing a \"magic\" app, you already tried two of them with no benefit, trust me when I tell you that IF that partition can be recovered it can be with TESTDISK and manually, and that most if not all of the \"smart\" apps around will fail.\n@Wonko, I trust you 100%.  \n\nI\u0027ve not been able to reply until just now because I\u0027ve had MAJOR problems getting onto this forum from 3 different ISPs in the UK as I normally get a webpage saying IPS Error for hours and hours at a time which is really nerve wracking for me. All I can do then is keep hitting F5 until [http://boot-land.net](http://boot-land.net \"External link\") finally opens properly.  \n\n\u003e Please read again, this time for it\u0027s entirety the given thread:  \n\u003e [http://www.msfn.org/...howtopic\u003d141687](http://www.msfn.org/board/index.php?showtopic\u003d141687 \"External link\")  \n\u003e\n\u003e By the time you will have done so you should have learned to:  \n\u003e 1) use dsfo/dsfi instead of the various dd for windows  \n\u003e 2) make an image file of the failed hard disk using it  \n\u003e 3) post exact size of the hard disk as reported by dsfo during the imaging  \n\u003e 4) copy first 200 sectors from the disk image  \n\u003e 5) copy last (say) 5000 sectors from the disk image   \n\u003e 6) compress the last two files in a .zip or .7z archive and attach it  \n\u003e\n\u003e Again, DON\u0027T PANIC, there is all the time in the world, think twice and thrice before doing anything on that hard disk before having created an image of it.\n\nI read that thread, and have come across a problem - vlm can\u0027t find the Toshiba drive but TestDisk can? This means I can\u0027t find the physical drive number from vlm which then needs to be passed as a parameter to dsfo so I can then use dsfo to back it up to dump drive 1 (drive letter F) using this command:  \n\ndsfo \\\\\\\\.\\\\PHYSICALDRIVEX 0 0 f:\\\\toshibadump.img  \n\nvlm (part of dsfok toolkit) found these volumes, comments in brackets are mine:  \n\n\\\\\\\\.\\\\Volume{c0e6bdc2-98de-11dc-a8ad-806d6172696f} (Desktop PC HD)  \nLabel: PC-C-Drive, File System: NTFS 76245/6007 MB  \nSymbolic Link: \\\\Device\\\\HarddiskVolume2  \n\n\\\\\\\\.\\\\Volume{0ef3bc56-1c9b-11df-a968-001aa04e173e} (Dump drive 1)  \nLabel: Dump 1, File System: NTFS 512001/511921 MB  \nSymbolic Link: \\\\Device\\\\HarddiskVolume3  \n\n\\\\\\\\.\\\\Volume{16ad517e-260d-11df-a969-001aa04e173e} (Dump drive 2)  \nLabel: Dump 2, File System: NTFS 441865/441787 MB  \nSymbolic Link: \\\\Device\\\\HarddiskVolume4  \n\nTestDisk found these media:  \n\nDisk /dev/sda - 80 Gb / 74 GiB - WDC WD800JD-75MSA3 (desktop PC\u0027s HD)  \nDisk /dev/sdb - 1000 Gb / 931 GiB - Seagate Desktop (backup drive, NTFS with 2 primary partitions)  \nDisk /dev/sdc - 320 Gb / 298 GiB - Toshiba MK3252GSX (drive to be imaged)  \n\nIs stress causing me to temporarily be denser than the heads on this knackered hard disc...?  \n\nDMTelf   \n"
    },
    {
      "id": "93248",
      "timestamp": "2010-03-04T19:33:17+00:00",
      "author": "Wonko the Sane",
      "content": "Yep, it\u0027s not the good UK ISP problem ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png), it\u0027s boot-land that has been a bit hectic lately ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) .  \n\nSure vlm cannot find your drive (as much a windows cannot assign a letter to it): there are no volumes (or they cannot be recognized) **this** is the problem at hand ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif).  \n\n* Your first hard disk (boot disk) is \\\\\\\\.\\\\PHYSICALDRIVE**0**.\n* Your second disk (***probably*** the \"Seagate Desktop\") is \\\\\\\\.\\\\PHYSICALDRIVE**1**\n* Your third disk (***probably*** the Toshiba) is \\\\\\\\.\\\\PHYSICALDRIVE**2**\n* etc.\n\n\u003cbr /\u003e\n\nOpen Disk Management and check that the above is accurate, you should see the same disks as:  \n\n* Disk **0**\n* Disk **1**\n* Disk **2**\n\n\u003cbr /\u003e\n\n**IF** my assumption is right, the command is:  \n\u003e dsfo \\\\\\\\.\\\\PHYSICALDRIVE***2*** 0 0 \\\u003cletter of a volume in the Seagate\\\u003e\\\\toshibadump.img\n\nThe amount of confusion between the terms \"disk\", \"hard disk drive\", \"drive\", \"volume\", partition\", \"physicaldrive\" and \"logicaldrive\" the good guys at MS (and also the good linux guys, BTW) contributed to create over the years is amazing, you are not dense at all, you are just entering a field where stoopidity and misleading terms have created a situation where very few people know what we are talking about.  \n\nQuick dictionary:  \n\n* **WHOLE** Hard **Disk** Drive \u003d Disk \u003d hard disk drive \u003d physicaldrive\n* **Partition** on hard disk drive \u003d drive (as in \"drive letter\") \u003d partition \u003d volume \u003d logicaldrive *(and this is not really exact, as you can have a logical partition with many \"volumes\"\u003d\"drive letters\" in it, but is correct as long as we are using Primary Partitions)*\n\n\u003cbr /\u003e\n\nAdditional translation table:  \n\n* /dev/sd**a** in TESTDISK \u003d Disk **0** in Disk Management \u003d \\\\\\\\.\\\\Physicaldrive***0*** in dsfo/dsfi (or more generally as Windows object)\n* /dev/sd**b** in TESTDISK \u003d Disk **1** in Disk Management \u003d \\\\\\\\.\\\\Physicaldrive***1*** in dsfo/dsfi (or more generally as Windows object)\n* /dev/sd**c** in TESTDISK \u003d Disk **2** in Disk Management \u003d \\\\\\\\.\\\\Physicaldrive***2*** in dsfo/dsfi (or more generally as Windows object)\n\n\u003cbr /\u003e\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nWonko   \n"
    },
    {
      "id": "93353",
      "timestamp": "2010-03-05T07:44:37+00:00",
      "author": "dmtelf",
      "content": "\u003e Sure vlm cannot find your drive (as much a windows cannot assign a letter to it): there are no volumes (or they cannot be recognized) **this** is the problem at hand ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif).\nThank you for the very clear tutorial re: drive referencing. It helped me a lot. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)   \n\n\u003e The amount of confusion between the terms \"disk\", \"hard disk drive\", \"drive\", \"volume\", partition\", \"physicaldrive\" and \"logicaldrive\" the good guys at MS (and also the good linux guys, BTW) contributed to create over the years is amazing, you are not dense at all, you are just entering a field where stoopidity and misleading terms have created a situation where very few people know what we are talking about.\nYes, I have on occasions found this really confusing when doing research on the problem as so much different terminology is used to describe the same things. Your mini dictionary \\\u0026 drive referencing translation table both help me a lot!  \n\nHere is the dsfo output, the drive is 160037339136 bytes total size \\\u0026 the 1st 100 sectors \\\u0026 last 5000 sectors have been extracted, compressed \\\u0026 attached to this post.  \n\nC:\\\\dsfok\\\u003edsfo \\\\\\\\.\\\\PHYSICALDRIVE2 0 0 f:\\\\toshibadump.img  \n\\\\\\\\.\\\\PHYSICALDRIVE2 - Data error (cyclic redundancy check).  \nThis error can probably be ignored.  \nOK, 160037339136 bytes, 14460.031s, MD5 \u003d a00c0148804ebb8e992e537cf29bf48f  \n\nC:\\\\dsfok\\\u003edsfo f:\\\\toshibadump.img 0 102400 f:\\\\1st200sectors.img  \nOK, 102400 bytes, 0.000s, MD5 \u003d dcea85697436d8e9d1fcf6e42b9f0b63  \n\nC:\\\\dsfok\\\u003edsfo f:\\\\toshibadump.img -2560000 0 f:\\\\Last5000sectors.img  \nOK, 2560000 bytes, 0.125s, MD5 \u003d 13f64774e70fddffd494483c883f66bd  \n\nDMTelf  \n\n#### Attached Files {#attach_wrap}\n\n* [![Attached File](http://reboot.pro/public/style_extra/mime_types/zip.gif)](http://reboot.pro/index.php?s\u003d1980ac0955864fabcd40fafd6919dd61\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10606 \"Download attachment\") [**ToshibaExtractedSectors.zip**](http://reboot.pro/index.php?s\u003d1980ac0955864fabcd40fafd6919dd61\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10606 \"Download attachment\") **362.3KB** 451 downloads\n\n"
    },
    {
      "id": "93372",
      "timestamp": "2010-03-05T12:02:26+00:00",
      "author": "TheK",
      "content": "\u003e C:\\\\dsfok\\\u003edsfo \\\\\\\\.\\\\PHYSICALDRIVE2 0 0 f:\\\\toshibadump.img  \n\u003e \\\\\\\\.\\\\PHYSICALDRIVE2 - Data error (cyclic redundancy check).  \n\u003e This error can probably be ignored.  \n\u003e OK, 160037339136 bytes, 14460.031s, MD5 \u003d a00c0148804ebb8e992e537cf29bf48f\n\nSomething went wrong here. That\u0027s only 50% of the total disk capacity!  \nAccording to your testdisk.log file the image size should be 320072933376 bytes.  \n\nI don\u0027t know what the CRC error means. Maybe dsfo found a bad sector and simply stopped reading.  \nOr it probably failed to detect the disk size correctly?  \n\nCan you try this?  \n\n```\ndsfo \\\\.\\PHYSICALDRIVE2 0 320072933376 f\u0026#58;\\toshibadump.img\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "93377",
      "timestamp": "2010-03-05T15:13:31+00:00",
      "author": "Wonko the Sane",
      "content": "Try another utility INSTEAD of dsfo:  \n[http://www.boot-land...?...ic\u003d7783\\\u0026hl\u003d](http://www.boot-land.net/forums/index.php?showtopic\u003d7783\u0026hl\u003d \"External link\")  \n\nIt is possible that dsfo timed out/had an hiccup/whatever.  \n\nThe good (partially) news are that the fist sector of the \"main\" bootsector or PBR is almost intact.  \n\nPartition is/was ending at 38913\\*255\\*63\u003d625,137,345  \n320,072,933,376/512\u003d 625,142,448   \n625,142,448-625,137,345\u003d5,103  \nLet\u0027s make it 5,200.  \n\nuse ddrescue to produce the last 5,200 sectors of the disk and post them.  \nThen try using it to image again the whole disk.  \n\n![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)  \n\nWonko   \n"
    },
    {
      "id": "93422",
      "timestamp": "2010-03-05T20:00:26+00:00",
      "author": "dmtelf",
      "content": "\u003e Try another utility INSTEAD of dsfo:  \n\u003e [http://www.boot-land...?...ic\u003d7783\\\u0026hl\u003d](http://www.boot-land.net/forums/index.php?showtopic\u003d7783\u0026hl\u003d \"External link\")\nI\u0027ve downloaded Odin \\\u0026 DataRescue DD from that thread, but (probably incorrectly) assumed you wanted me to try ddrescue first as thats the only program you mentioned by name in your post?  \n\n\u003e It is possible that dsfo timed out/had an hiccup/whatever.\ndsfo copied for about 8 hours, I then went to bed \\\u0026 left it copying, and when I woke up the next day it had finished, but only done half the drive ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\n\u003e use ddrescue to produce the last 5,200 sectors of the disk and post them.  \n\u003e Then try using it to image again the whole disk.\nI had some problems getting ddrescue up and running, in the end I downloaded \\\u0026 installed a minimum cygwin, downloaded a ddrescue 1.9.1 Windows binary \\\u0026 put it in the c:/cygwin/bin/ directory. ddrescue now runs from within the cygwin Bash shell.  \n\nI am a bit stumped by the required ddrescue syntax/command line switches as there are so many of them \\\u0026 I am not sure how to specify the offset from the end of the disk as this isn\u0027t given in any of the very few examples I found via Google ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) Could you please advise how it needs to be done? This is what I\u0027ve got so far (not tested):  \n\nddrescue -g /dev/sdc/ z:\\\\toshdump.img z:\\\\toshdumplog.txt  \n\nIs it ok for me to delete the dsfo image before I make the ddrescue image?  \n\nThanks.  \n\nDMTelf   \n"
    },
    {
      "id": "93425",
      "timestamp": "2010-03-05T20:16:13+00:00",
      "author": "dmtelf",
      "content": "\u003e Something went wrong here. That\u0027s only 50% of the total disk capacity!  \n\u003e According to your testdisk.log file the image size should be 320072933376 bytes.  \n\u003e\n\u003e I don\u0027t know what the CRC error means. Maybe dsfo found a bad sector and simply stopped reading.  \n\u003e Or it probably failed to detect the disk size correctly?  \n\u003e\n\u003e Can you try this?  \n\u003e\n\u003e ```\n\u003e dsfo \\\\.\\PHYSICALDRIVE2 0 320072933376 f\u0026#58;\\toshibadump.img\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nThanks for the suggestion, @TheK! If @Wonko The Sane also thinks its a good idea, I\u0027m more than happy to try it.   \n\nThe only reason I\u0027m not trying it straight away is it took well over 8 hours for dsfo to create an image of only half the Toshiba HD last night \\\u0026 I want to \"use\" the original Toshiba HD as little as possible so I\u0027m going to try Wonko\u0027s ddrescue suggestion first, once I\u0027ve managed to suss out the required syntax / command line switches as I can\u0027t find any clear examples to refer to, especially wrt extracting the last n sectors from the end of a disk.   \n\nDMTelf   \n"
    },
    {
      "id": "93428",
      "timestamp": "2010-03-05T20:35:32+00:00",
      "author": "Wonko the Sane",
      "content": "You see how misunderstandings begin? ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)  \n\nTYPO, my bad, :wink: I meant:  \n~~ddrescue~~ Data Rescue DD  \n\nYes, if you get the last sectors with Data Rescue DD it should take a few seconds, then try again with Data Rescue DD to image the whole drive normally and yes, you can delete the partial image made with dsfo.  \n\nWith Data Rescue DD it should work.  \n\nIf even that doesn\u0027t work, there really may be some (hopefully small) problems with the HD, like a bad sector or something like that.  \n\nI don\u0027t think that there is a problem with determining the size of the disk, it is more likely that dsfo errored out for some other unknown reasons, however if you want to try with a \"determined length\" it\u0027s allright, at the most you will lose another 8 hours.  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nWonko   \n"
    },
    {
      "id": "93441",
      "timestamp": "2010-03-05T22:50:37+00:00",
      "author": "TheK",
      "content": "@dmtelf before you try to create an image of the whole disk again, you should probably try to read only the position where dsfo stopped.  \nThis could save you another 8 hours.  \n\n```\ndsfo \\\\.\\PHYSICALDRIVE2 320072923376 320072943376 f\u0026#58;\\testdump.img\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "93443",
      "timestamp": "2010-03-05T23:05:51+00:00",
      "author": "dmtelf",
      "content": "\u003e @dmtelf before you try to create an image of the whole disk again, you should probably try to read only the position where dsfo stopped.  \n\u003e This could save you another 8 hours.  \n\u003e\n\u003e ```\n\u003e dsfo \\\\.\\PHYSICALDRIVE2 320072923376 320072943376 f\u0026#58;\\testdump.img\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nThanks for the suggestion! I got this error \\\u0026 it looks a bit worrying to me...  \n\nC:\\\\dsfok\\\u003edsfo \\\\\\\\.\\\\PHYSICALDRIVE2 320072923376 320072943376 h:\\\\testdump.img  \n\\\\\\\\.\\\\PHYSICALDRIVE2 - The drive cannot find the sector requested.  \nThis error can probably be ignored.  \nh:\\\\testdump.img - No more data is available.  \n\nDMTelf   \n"
    },
    {
      "id": "93444",
      "timestamp": "2010-03-05T23:16:38+00:00",
      "author": "TheK",
      "content": "\u003e Thanks for the suggestion! I got this error \\\u0026 it looks a bit worrying to me...  \n\u003e\n\u003e C:\\\\dsfok\\\u003edsfo \\\\\\\\.\\\\PHYSICALDRIVE2 320072923376 320072943376 h:\\\\testdump.img  \n\u003e \\\\\\\\.\\\\PHYSICALDRIVE2 - The drive cannot find the sector requested.  \n\u003e This error can probably be ignored.  \n\u003e h:\\\\testdump.img - No more data is available.  \n\u003e\n\u003e DMTelf\n\nThis can\u0027t work as it is the end of the disk +/- 10KB  \nSorry, my bad ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n\nThe correct position should be 160037339136 +/- \\~10KB   \n\n```\ndsfo \\\\.\\PHYSICALDRIVE2 160037329136 160037349136 h\u0026#58;\\testdump.img\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "93446",
      "timestamp": "2010-03-05T23:19:31+00:00",
      "author": "dmtelf",
      "content": "\u003e You see how misunderstandings begin? ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\nI\u0027m deaf - I know all about misunderstandings! ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)  \n\n\u003e Yes, if you get the last sectors with Data Rescue DD it should take a few seconds, then try again with Data Rescue DD to image the whole drive normally and yes, you can delete the partial image made with dsfo.\nI told Data Rescue DD to dump the last 5000 sectors, as shown in the attached screengrab. I\u0027m not sure if I did it right because the last read sector \\\u0026 last read offset as shown in the log below are both 0 \\\u0026 I was expecting it to stop at the 5000th sector hence last read sector in the log would therefore have been 5000 \\\u0026 last read offset -5000?  \n\nSource: Drive 3   \nSource size: 320 GB  \nSource sectors: 625137345  \nSource bytes: 320070320640  \nDestination: C:\\\\Documents and Settings\\\\dmtelf\\\\Desktop\\\\Last 5000 Sectors Toshiba HD.dd  \nRead direction: \\\u003c-  \nLast read sector: 0  \nLast read offset: 0  \n\nThe 5000 sector dd file is 2.14Mb zipped \\\u0026 the maximum attachment size here is 1000Kb, so I\u0027ve had to upload it to Rapidshare (sorry): [http://rapidshare.co..._Toshiba_HD.zip](http://rapidshare.com/files/359479361/Last_5000_Sectors_Toshiba_HD.zip \"External link\")  \n\nDMTelf  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![DataResuce_DD_Last_5000_Sectors_Toshiba_HD_Screengrab.png](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267831127_thumb.png)](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267831127.png \"DataResuce_DD_Last_5000_Sectors_Toshiba_HD_Screengrab.png - Size: 27.44KB\"){#ipb-attach-url-10614-0-07994200-1676066671}\n\n"
    },
    {
      "id": "93447",
      "timestamp": "2010-03-05T23:25:18+00:00",
      "author": "dmtelf",
      "content": "\u003e This can\u0027t work as it is the end of the disk +/- 10KB  \n\u003e Sorry, my bad ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n\u003e\n\u003e The correct position should be 160037339136 +/- \\~10KB   \n\u003e\n\u003e ```\n\u003e dsfo \\\\.\\PHYSICALDRIVE2 160037329136 160037349136 h\u0026#58;\\testdump.img\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nI did wonder about the original parameters you gave, but I assumed there was a reason for it..  \n\nC:\\\\dsfok\\\u003edsfo \\\\\\\\.\\\\PHYSICALDRIVE2 160037329136 160037349136 h:\\\\testdump.img  \n\\\\\\\\.\\\\PHYSICALDRIVE2 - Data error (cyclic redundancy check).  \nThis error can probably be ignored.  \nh:\\\\testdump.img - No more data is available.  \n\nHow can I find the range of sectors that have CRC errors in this portion of the drive...?  \n\nDMTelf   \n"
    },
    {
      "id": "93448",
      "timestamp": "2010-03-05T23:31:17+00:00",
      "author": "TheK",
      "content": "what is the exact file size of h:\\\\testdump.img ?   \n"
    },
    {
      "id": "93449",
      "timestamp": "2010-03-05T23:49:31+00:00",
      "author": "dmtelf",
      "content": "\u003e what is the exact file size of h:\\\\testdump.img ?\nIt doesn\u0027t exist.  \n\nIf I do the below dsfo command in cmd.exe with Explorer open, then testdump.img is created in H:\\\\, it\u0027s always 0 bytes while dsfo is running, and then testdump.img disappears from Explorer as soon as dsfo stops running.  \n\ndsfo \\\\\\\\.\\\\PHYSICALDRIVE2 160037329136 160037349136 h:\\\\testdump.img  \n\nDo you know how I can find the range of sectors that have CRC errors in this portion of the drive...?  \n\nDMTelf   \n"
    },
    {
      "id": "93451",
      "timestamp": "2010-03-06T00:07:37+00:00",
      "author": "TheK",
      "content": "OK, I should rather go to bed than giving wrong advices.   \n\nThis should be correct.  \n\n```\ndsfo \\\\.\\PHYSICALDRIVE2 160037329136 10240 h\u0026#58;\\testdump.img\n```\n\n\u003cbr /\u003e\n\nSorry, it\u0027s been a long day ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n"
    },
    {
      "id": "93452",
      "timestamp": "2010-03-06T00:17:55+00:00",
      "author": "dmtelf",
      "content": "\u003e OK, I should rather go to bed than giving wrong advices.   \n\u003e\n\u003e This should be correct.  \n\u003e\n\u003e ```\n\u003e dsfo \\\\.\\PHYSICALDRIVE2 160037329136 10240 h\u0026#58;\\testdump.img\n\u003e ```\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003e Sorry, it\u0027s been a long day ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\nIt\u0027s not a problem... I really appreciate your contribution, and everyone else\u0027s who has offered advice in this thread. As part of my learning process through all this I should be checking precisely what each parameter to every command I type does so I know exactly what I\u0027m doing \\\u0026 why... I didn\u0027t do that with your last 2 suggestions - my fault.  \n\nUnfortunately, this is what I got with the revised dsfo parameters which should grab 10kb starting at sector 160037329136. The testdump.img file appears \\\u0026 disappears from Explorer when dsfo starts \\\u0026 stops too:  \n\nC:\\\\dsfok\\\u003edsfo \\\\\\\\.\\\\PHYSICALDRIVE2 160037329136 10240 h:\\\\testdump.img  \n\\\\\\\\.\\\\PHYSICALDRIVE2 - Data error (cyclic redundancy check).  \nThis error can probably be ignored.  \nh:\\\\testdump.img - No more data is available.  \n\nDMTelf   \n"
    },
    {
      "id": "93456",
      "timestamp": "2010-03-06T00:37:35+00:00",
      "author": "dmtelf",
      "content": "I\u0027ve just re-read the [Data Rescue DD](http://www.datarescue.com/photorescue/v3/drdd.htm \"External link\") page, and there\u0027s this section which clearly explains how to use it to back up a drive up to the portion where CRC errors start, find the range of problematic sectors, and back up the rest of the drive from the next good sector after the bad range onwards.  \n\n@Wonko The Sane suggested I use that tool so I\u0027m going to create the image now \\\u0026 will post results after its been created.  \n\n\u003e **A typical use example**   \n\u003e\n\u003e A 40GB hard drive suffers of physically bad sectors in the system area that cause the drive to lock up when the damaged area is hit by a conventional disk duplication program or a data recovery program. DrDD is first used to attempt an image of the drive. DrDD locks up as well, the error is completely irrecoverable. The system is reset. Through the last log, the problematic area seems to be sector 1.000.000. DrDD is used to first create an image of the hard drive up to sector 999.999. Knowing that hardware errors are often contiguous, a second image is created, backwards, from the end of the drive (for example 40000MBs) back to sector 1.000.001. The backward copy proceeds and finally locks up at sector 1.004.000. If the data hasn\u0027t been saved, a new forward copy starting at sector 1.004.001 and going up to the end of the drive is done. The user now has saved most of the raw content of its hard drive and has saved the multiple trial and error read attempts he would have gone through if he had restarted the copy forward at sector 1.000.001 - with most of the data in a safe place, the user is now able to try as many data-recovery utilities as he wishes, for example our own PhotoRescue application.\n\nDMTelf   \n"
    },
    {
      "id": "93481",
      "timestamp": "2010-03-06T08:14:30+00:00",
      "author": "Wonko the Sane",
      "content": "From the screenshot (and also from the posted file ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)) you seem like you read FIRST 5000 sectors.  \n\nYou may have read them in the direction from 5000 to 0 instead of from 0 to 5000, but still it\u0027s the first 5000 ones. ![:huh:](http://reboot.pro/public/style_emoticons/default/huh.png)  \n\nRe-scan the drive, then jolt down the number it gets in the \"End\" Sectors.  \n\nLet\u0027s say it is 625,142,448.  \nSubtract from it 5,200.  \nThat makes 625,137,248  \n\nThe boxes \"Sectors\" should read:  \n\n* Start 625137248\n* Size 5200\n* End 625142448\n\n\u003cbr /\u003e\n\n\u003cbr /\u003e\n\n![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)  \n\nWonko   \n"
    },
    {
      "id": "93483",
      "timestamp": "2010-03-06T08:52:35+00:00",
      "author": "dmtelf",
      "content": "\u003e From the screenshot (and also from the posted file ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)) you seem like you read FIRST 5000 sectors.\nDuh ![:huh:](http://reboot.pro/public/style_emoticons/default/huh.png) Thanks for the correction. I will redo it after the full backup via DataRescue DD has completed. It\u0027s been running for 7 hours 40 mins now \\\u0026 the image size is currently 238Gb \\\u0026 it has about 2.20 hours left before it completes.  \n\nIn the Messages section of DD Data Rescue, it says \"06:14:14 Read error at 2542f8c200 : Data error (cyclic redundancy check).\" but it continued whereas dsfo just stops.  \n\nI made a folder of data recovery tools on a 4Gb Cruzer stick, ran DD Data Rescue from it last night, and this morning the laptop won\u0027t recognise the stick at all, it doesn\u0027t appear as a drive letter, and doesn\u0027t appear in Disk Management at all! When I insert the stick, its orange access light flashes for about a minute, then remains permanently lit for a minute or so then the light goes out. Is someone playing a joke on me?! I\u0027ll run dsfo on it later to see what\u0027s up.  \n\nThe main problem caused by this is I don\u0027t think I will now be able to access the DD Data Rescue log as its being (or was) written to the Cruzer drive which is now not readable ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)   \n\nDMTelf   \n"
    },
    {
      "id": "93487",
      "timestamp": "2010-03-06T09:55:37+00:00",
      "author": "TheK",
      "content": "\u003e The main problem caused by this is I don\u0027t think I will now be able to access the DD Data Rescue log as its being (or was) written to the Cruzer drive which is now not readable ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)\nThat\u0027s no problem as long as DataRescue DD doesn\u0027t stop before the whole disk was successfully dumped.   \n"
    },
    {
      "id": "93492",
      "timestamp": "2010-03-06T11:44:25+00:00",
      "author": "dmtelf",
      "content": "I\u0027m now finally the proud owner of a 320,070,320,640 byte image! ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) It took 10 hours 20 minutes to create.  \n\nHere\u0027s a link to the zip file of the last 5200 sectors:  \n[http://rapidshare.co...0070320640_.zip](http://rapidshare.com/files/359708599/Toshiba_Drive_-_Last_5200_sectors_image_320067658240-320070320640_.zip \"External link\")  \n\nDMTelf  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![Final_DataRescue_DD_Image_Screengrab.png](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267875851_thumb.png)](http://reboot.pro/uploads/monthly_03_2010/post-33804-1267875851.png \"Final_DataRescue_DD_Image_Screengrab.png - Size: 31.02KB\"){#ipb-attach-url-10615-0-30681500-1676066671}\n\n"
    },
    {
      "id": "93559",
      "timestamp": "2010-03-07T08:15:57+00:00",
      "author": "TheK",
      "content": "\u003e I\u0027m now finally the proud owner of a 320,070,320,640 byte image! ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) It took 10 hours 20 minutes to create.\n\nThe image still too small. The total disk capacity is 320072933376 bytes.  \nBUT it looks like we have the at least the complete lost partition. The missing bytes are most likely unpartitioned space at the end of the disk. That\u0027s nothing unusual because partitions usually end at a cylinder boundery. In this case it\u0027s CHS 38912/254/63 which matches exatly 320,070,320,640 bytes.   \nCylinders and Heads start from 0 so we have 38913 cylinders \\* 255 heads \\* 63 sectors \\* 512 bytes / sector \u003d 320,070,320,640 bytes  \n\nThe last sector of your 5200 sector file is the NTFS boot sector backup. That\u0027s another sign that we have the complete lost partition.  \nThe backup boot sector and the one found at sector 63 are identical. They both show the file system size as 625137281 sectors.  \n\nSo I think we finally have all we need to recreate the partition table.  \n\nPartition Start  \nCHS 0/1/1 \u003d LBA Sector 63  \nPartition End  \nCHS 38912/254/63 \u003d LBA Size 625137282 (625137281 sectors of the file system + hidden sector with the NTFS boot sector backup)  \n\nDo you have enough free space on your new HD to make a backup copy of your image?   \n"
    },
    {
      "id": "93563",
      "timestamp": "2010-03-07T09:10:42+00:00",
      "author": "dmtelf",
      "content": "\u003e The image still too small. The total disk capacity is 320072933376 bytes.\nOh ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) I guess there isn\u0027t any way to take a 100% backup that is 320072933376 bytes because of the CRC error(s) thus what DataRescue DD created is the best we\u0027d be able to get from this particular drive...?  \n\nThank you for the maths behind the calculations too - I will have to go over this several times in order to understand it completely so I am eventually able to it work it out for myself in future.  \n\n\u003e Do you have enough free space on your new HD to make a backup copy of your image?\nI have 430Gb free in a separate partition \\\u0026 200Gb free in the partition that contains the image. Do you want me to copy the image itself from one partition to the other via e.g. xxcopy before anything else is done to the image itself?   \n\nI\u0027ve been reading up on IMDISK etc but wanted to wait for clear advice from someone on what parameters to use with it e.g. image file offset now that I have this raw DD image which turns out to not be 100% complete.  \n\nThanks.  \n\nDMTelf   \n"
    },
    {
      "id": "93566",
      "timestamp": "2010-03-07T09:59:28+00:00",
      "author": "TheK",
      "content": "\u003e Oh ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) I guess there isn\u0027t any way to take a 100% backup that is 320072933376 bytes because of the CRC error(s) thus what DataRescue DD created is the best we\u0027d be able to get from this particular drive...?\n\nNo, the CRC error was somewhere in the middle of the disk, but I think we have all we need.   \n\n\u003cbr /\u003e\n\n\u003e I\u0027ve been reading up on IMDISK etc but wanted to wait for clear advice from someone on what parameters to use with it e.g. image file offset now that I have this raw DD image which turns out to not be 100% complete.\n\nWe arn\u0027t ready for ImDisk yet. We still need to fix the MBR and the NTFS boot sectors. Well, the NTFS boot sector would be enough for ImDisk as we know the offset of the first partition is 63 blocks (sectors \u003d blocks in ImDisk). But the file system will most likely be seen as raw as the OEM ID is zeroed out in the boot sector.  \n\nSo we need to fix some things inside the image first. Now the question is ... do you want to make a backup of the image to work with, or do you want to modify the original image?  \nCreating another backup image is recommended. You can always create a new one with DataRescueDD, but the Toshiba HD doesn\u0027t seem to be 100% reliable anymore (CRC error).  \n\nOn the other hand, we have backups of the sectors we need to fix. So if something goes wrong we still can write the backups back to the image.  \n\nIt\u0027s up to you.   \n"
    },
    {
      "id": "93582",
      "timestamp": "2010-03-07T13:39:50+00:00",
      "author": "dmtelf",
      "content": "\u003e So we need to fix some things inside the image first. Now the question is ... do you want to make a backup of the image to work with, or do you want to modify the original image?  \n\u003e Creating another backup image is recommended. You can always create a new one with DataRescueDD, but the Toshiba HD doesn\u0027t seem to be 100% reliable anymore (CRC error).  \n\u003e\n\u003e On the other hand, we have backups of the sectors we need to fix. So if something goes wrong we still can write the backups back to the image.  \n\u003e\n\u003e It\u0027s up to you.\nAs the Toshiba HD itself is no longer reliable, I\u0027ve decided to make a copy of the image to another partition using TeraCopy Pro. It\u0027s taken 3.5 hours to copy 50% of the image. I will also check the source image CRC \\\u0026 copied image CRC are identical after the copy has finished.  \n\nDMTelf   \n"
    },
    {
      "id": "93608",
      "timestamp": "2010-03-07T17:44:13+00:00",
      "author": "dmtelf",
      "content": "\u003e We arn\u0027t ready for ImDisk yet. We still need to fix the MBR and the NTFS boot sectors. Well, the NTFS boot sector would be enough for ImDisk as we know the offset of the first partition is 63 blocks (sectors \u003d blocks in ImDisk). But the file system will most likely be seen as raw as the OEM ID is zeroed out in the boot sector.\nI have a 1Tb drive with 2 partitions just for this recovery - 1 partition has the Toshiba HD image on it \\\u0026 the other partition has a CRC checked copy of it.  \n\nI am ready for the next stage in this data recovery adventure.  \n\nIs this basic outline \\\u0026 terminology of the next steps correct?   \n\n1) A file with the necessary fixes to the MBR + NTFS boot sectors is produced   \n2) dsfi is used to merge it into the image  \n3) Change disk geometry of partition in image via TestDisk  \n4) Scan image for the partition with TestDisk  \n5) ImDisk should now be able to mount the partition if the correct image file offset parameter is used  \n\nDMTelf   \n"
    },
    {
      "id": "93722",
      "timestamp": "2010-03-08T15:41:57+00:00",
      "author": "TheK",
      "content": "\u003e I have a 1Tb drive with 2 partitions just for this recovery - 1 partition has the Toshiba HD image on it \\\u0026 the other partition has a CRC checked copy of it.  \n\u003e\n\u003e I am ready for the next stage in this data recovery adventure.  \n\u003e\n\u003e Is this basic outline \\\u0026 terminology of the next steps correct?   \n\u003e\n\u003e 1) A file with the necessary fixes to the MBR + NTFS boot sectors is produced   \n\u003e 2) dsfi is used to merge it into the image  \n\u003e 3) Change disk geometry of partition in image via TestDisk  \n\u003e 4) Scan image for the partition with TestDisk  \n\u003e 5) ImDisk should now be able to mount the partition if the correct image file offset parameter is used  \n\u003e\n\u003e DMTelf\n\nWell, it\u0027s amost correct :cool:   \n\n1) Use dsfo to dump the first 63 sectors to a new file  \n2) Use TestDisk to fix the MBR inside this file  \n3) Use TestDisk to write a new partition to the partition table inside that file  \n4) Use a Hex Editor to fix the NTFS boot sector inside that file  \n5) Use dsfi to write that file back to the image  \n6) Use a Hex Editor to fix the backup NTFS boot sector inside the image  \n7) Open the image again with TestDisk.   \n8) Check the MFT  \n9) Check if we can access the file system  \n10) If so, mount the image with ImDisk  \n\nAny questions? ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)   \n"
    },
    {
      "id": "93737",
      "timestamp": "2010-03-08T17:36:27+00:00",
      "author": "dmtelf",
      "content": "\u003e Well, it\u0027s amost correct :cool:   \n\u003e ...  \n\u003e Any questions? ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)\nYes I do have a question - why have I got a sudden migraine after reading this list? ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)  \n\nSeriously, many thanks for the clarification of what needs to be done next. I have never done steps 2-8 before, and at the moment I can\u0027t find details on how to do them manually either as I understand from reading several threads on this forum that at this point of the recovery process, a data recovery guru usually puts together the bin file for the newbie to merge back into the image via dsfi \\\u0026 I assume that this bin file is the end result of steps 2 - 4...?  \n\nI\u0027ve had a go at steps 1 - 3, but after that if I then try to analyse the file, no partitions are found so I\u0027ve obviously made several big mistakes so I thought I\u0027d be better off stopping \\\u0026 trying to get some expert guidance rather than blundering on and on... ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)  \n\n1) Use dsfo to dump the first 63 sectors to a new file  \n\n63 sectors \\* 512 bytes/sector \u003d 32256  \nC:\\\\dsfok\\\u003edsfo f:\\\\toshibadump.img 0 32256 f:\\\\1st63sectors.img (attached to this post)  \n\n2) Use TestDisk to fix the MBR inside this file  \n\nc:\\\\testdisk\\\\win\\\\testdisk_win.exe h:\\\\1st63sectors.img  \nSelect a media - Disk h:\\\\1st63sectors.img - 32Kb  \nSelect \"MBR Code\" \\\u0026 answer \"Y\" to \"Write a new copy of MBR code to first sector?\" then \"Y\" again to confirm  \n\n3) Use TestDisk to write a new partition to the partition table inside that file  \n\nc:\\\\testdisk_win.exe h:\\\\1st63sectors.img  \nSelect a media - Disk h:\\\\1st63sectors.img - 32Kb  \nSelect Analyse -\\\u003e Quick Search -\\\u003e \"N\" to Should TestDesk search for partition created under Vista?  \nAbove the Partition / Start / End / Size in sectors line, it says Disk h:\\\\test.img - 32 Kb / 31 KiB - CHS 1 255 63  \nI am then prompted to enter the value for the starting cylinder etc, so I use the following details:  \nStart Cylinders - 0  \nStart Head - 0  \nEnd cylinder: 38912 cylinders   \nEnd head: 254   \nSectors: 63 sectors  \nNTFS partition type: 07  \n\nDMTelf  \n\n#### Attached Files {#attach_wrap}\n\n* [![Attached File](http://reboot.pro/public/style_extra/mime_types/zip.gif)](http://reboot.pro/index.php?s\u003dedf4bdb136023d3d6449d0d1c407144e\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10635 \"Download attachment\") [**1st63sectors.zip**](http://reboot.pro/index.php?s\u003dedf4bdb136023d3d6449d0d1c407144e\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10635 \"Download attachment\") **686bytes** 321 downloads\n\n"
    },
    {
      "id": "93746",
      "timestamp": "2010-03-08T18:11:56+00:00",
      "author": "TheK",
      "content": "\u003e Yes I do have a question - why have I got a sudden migraine after reading this list? :cool:\nI blame the weather ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)   \n\n\u003e Seriously, many thanks for the clarification of what needs to be done next. I have never done steps 2-8 before, and at the moment I can\u0027t find details on how to do them manually either as I understand from reading several threads on this forum that at this point of the recovery process, a data recovery guru usually puts together the bin file for the newbie to merge back into the image via dsfi \\\u0026 I assume that this bin file is the end result of steps 2 - 4...?\nWell I can prepare that \u0027bin file\u0027 file for you if you want. On the other hand...Your on a good way to be able to do it yourself ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)   \n\n\u003e I\u0027ve had a go at steps 1 - 3, but after that if I then try to analyse the file, no partitions are found so I\u0027ve obviously made several big mistakes so I thought I\u0027d be better off stopping \\\u0026 trying to get some expert guidance rather than blundering on and on... ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)\n\nIt\u0027s normal that TestDisk can\u0027t find any partition inside that file. You already tried to find it on the Thosiba drive and it faild. So we will recreate the partition ourself.  \n\nAnd you already did that:  \n\n\u003e 1) Use dsfo to dump the first 63 sectors to a new file  \n\u003e\n\u003e 63 sectors \\* 512 bytes/sector \u003d 32256  \n\u003e C:\\\\dsfok\\\u003edsfo f:\\\\toshibadump.img 0 32256 f:\\\\1st63sectors.img (attached to this post)  \n\u003e\n\u003e 2) Use TestDisk to fix the MBR inside this file  \n\u003e\n\u003e c:\\\\testdisk\\\\win\\\\testdisk_win.exe h:\\\\1st63sectors.img  \n\u003e Select a media - Disk h:\\\\1st63sectors.img - 32Kb  \n\u003e Select \"MBR Code\" \\\u0026 answer \"Y\" to \"Write a new copy of MBR code to first sector?\" then \"Y\" again to confirm  \n\u003e\n\u003e 3) Use TestDisk to write a new partition to the partition table inside that file  \n\u003e\n\u003e c:\\\\testdisk_win.exe h:\\\\1st63sectors.img  \n\u003e Select a media - Disk h:\\\\1st63sectors.img - 32Kb  \n\u003e Select Analyse -\\\u003e Quick Search -\\\u003e \"N\" to Should TestDesk search for partition created under Vista?  \n\u003e Above the Partition / Start / End / Size in sectors line, it says Disk h:\\\\test.img - 32 Kb / 31 KiB - CHS 1 255 63  \n\u003e I am then prompted to enter the value for the starting cylinder etc, so I use the following details:  \n\u003e Start Cylinders - 0  \n\u003e Start Head - 0  \n\u003e End cylinder: 38912 cylinders   \n\u003e End head: 254   \n\u003e Sectors: 63 sectors  \n\u003e NTFS partition type: 07\nStart head needs to be 1, everything else is correct ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)   \nNext step is to choose \u0027write\u0027 and save the partition table to the image.  \n\nNow I just noticed that I made a small mistake. We need the first 64 sectors (sector 0-63). But that\u0027s no problem. We can skip step 4 and fix the NTFS boot sector in step 6.  \n\nIf you have fixed the 1st63sectors.img file please attatch it. I\u0027d like to check it before we move to the next step.   \n"
    },
    {
      "id": "93769",
      "timestamp": "2010-03-08T20:01:18+00:00",
      "author": "dmtelf",
      "content": "\u003e Well I can prepare that \u0027bin file\u0027 file for you if you want. On the other hand...Your on a good way to be able to do it yourself ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)\nUh.... what....? I\u0027m a good way to being able to do it myself?! If you\u0027re happy to help me along where necessary, I\u0027d most certainly love to have a go at it as much as possible as it\u0027s the best way to learn... ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)  \n\n\u003e Start head needs to be 1, everything else is correct ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)\nIt looks like all the reading up I\u0027ve been doing since disaster struck is very slowly starting to pay off which is encouraging..... ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif) There is so much to learn though, and I\u0027ve got other knackered HDs I will practise on after I\u0027ve done this Toshiba HD which is by far the most critical drive to recover.  \n\n\u003e Next step is to choose \u0027write\u0027 and save the partition table to the image.  \n\u003e\n\u003e Now I just noticed that I made a small mistake. We need the first 64 sectors (sector 0-63). But that\u0027s no problem. We can skip step 4 and fix the NTFS boot sector in step 6.  \n\u003e\n\u003e If you have fixed the 1st63sectors.img file please attatch it. I\u0027d like to check it before we move to the next step.\nI\u0027ve redone steps 1-3 \\\u0026 have attached an 64 sector image to this post. When I analyse it with TestDisk, it tells me that it has an invalid NTFS or EXFAR boot:  \n\n1 \\* HPFS - NTFS 0 / 1 / 1 / 38912 / 254 / 63 / 625137282  \n1 \\* HPFS - NTFS 0 / 1 / 1 / 38912 / 254 / 63 / 625137282  \n\nI\u0027ve broken it down here for my reference:  \n\nStart cylinder: 0   \nStart head: 1   \nStart sector: 1   \nEnding cylinder: 38912   \nEnding head: 254   \nEnd sector: 63   \nSize in sectors: 625137282  \nType 07 HPFS-NTFS  \n\nI\u0027ve installed [TinyHexer](http://www.boot-land.net/forums/index.php?showtopic\u003d8734 \"External link\") \\\u0026 jaclaz\u0027s BSview, MBRview \\\u0026 PVview scripts in preparation for step 4.  \n\nDMTelf  \n\n#### Attached Files {#attach_wrap}\n\n* [![Attached File](http://reboot.pro/public/style_extra/mime_types/zip.gif)](http://reboot.pro/index.php?s\u003dedf4bdb136023d3d6449d0d1c407144e\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10637 \"Download attachment\") [**1st64sectors.zip**](http://reboot.pro/index.php?s\u003dedf4bdb136023d3d6449d0d1c407144e\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10637 \"Download attachment\") **1022bytes** 359 downloads\n\n"
    },
    {
      "id": "93808",
      "timestamp": "2010-03-09T08:03:30+00:00",
      "author": "TheK",
      "content": "Well done ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)   \n\nNow open the 1st64sectors file with TinyHexer and select \u0027Tools \\\u003e Scripts \\\u003e PT view by jaclaz\u0027 from the menu.  \n\nAs we can see there is one partition with the following details:  \n\nType: 07 (NTFS)  \nBoot: 80 (means the parition is marked as active)  \nbCyl: 0  \nbHead: 1  \nbSect: 1  \neCyl: 1023  \neHead: 254  \neSect: 63  \nStartSector: 63  \nNumSectors: 625137282  \n\nYou probably notice that the eCyl value (ending cylinder) is 1023 instad of 38912.  \nThis is correct, because the partition table can\u0027t store any cylinder values greater than 1023 as there are only 10 bits reserved for it inside the partition table entry structure.  \nYou can find some infos about the MBR and Partition Table structure here: [http://en.wikipedia....ter_boot_record](http://en.wikipedia.org/wiki/Master_boot_record \"External link\")  \n\nThe important values are the SartSector and NumSectors which are the LBA values for the partition. Windows will use those values to access the partition.  \n\nAs we can see everything is correct here ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)   \n\nNow let\u0027s go to step 4 (fix NTFS boot sector)!  \n\nFirst of all you should know how the structure of the NTFS boot sector (aka partition boot sector, volume boot sector) looks like:  \n[http://www.ntfs.com/...boot-sector.htm](http://www.ntfs.com/ntfs-partition-boot-sector.htm \"External link\")  \n\nNow scroll down to 0x7E00 which is where sector 63 (remember sectors start to count at 0, so it\u0027s the 64th sector) begins.  \nOpen the Structure viewer and choose \u0027NTFS boot structure\u0027.  \n\nIf we look at the values everything is looking pretty good, except for the OEM (ID) which is blank. We need to fix that now.   \nThe OEM ID starts at position 0x03 of the boot sector and the boot sector starts at 0x7E00. So the location of the OEM ID is 0x7E03.  \nThe ID is 8 bytes long and should be \u0027**NTFS** \u0027 for a NTFS file system.  \nPlease note that there are **4 blank spaces** after NTFS to fill all 8 bytes.  \n\nNow we know what to change and where to change it!  \nOffset: 0x7E03  \nValue: \u0027NTFS \u0027 (without the quotes)  \n\nBut before you change that make sure you disable the insert mode in Tiny Hexer (uncheck View \\\u003e Insert mode)  \n\nSo far any questions?  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![SnapShot_bs.png](http://reboot.pro/uploads/monthly_03_2010/post-21622-1268121747_thumb.png)](http://reboot.pro/uploads/monthly_03_2010/post-21622-1268121747.png \"SnapShot_bs.png - Size: 19.63KB\"){#ipb-attach-url-10639-0-30703600-1676066671}\n* [![SnapShot_bs2.png](http://reboot.pro/uploads/monthly_03_2010/post-21622-1268121758_thumb.png)](http://reboot.pro/uploads/monthly_03_2010/post-21622-1268121758.png \"SnapShot_bs2.png - Size: 42.76KB\"){#ipb-attach-url-10640-0-30709800-1676066671}\n\n"
    },
    {
      "id": "93815",
      "timestamp": "2010-03-09T10:20:22+00:00",
      "author": "dmtelf",
      "content": "Thank you very much for the explanations \\\u0026 links to the further reading - I will go over it several times whilst I examine the image with TinyHexer \\\u0026 jaclaz\u0027s scripts etc.  \n\n\u003e So far any questions?\nAfter fixing the NTFS boot sector \\\u0026 saving it in TinyHexer, I analysed 1st64sectors.dd with TestDisk \\\u0026 it found 1 partition:  \n\n1 \\* HPFS - NTFS 0 / 1 / 1 / 38912 / 254 / 63 / 6251327282  \nWarning: Bad ending cylinder (CHS and LBA don\u0027t match)  \n\nDoes it say bad ending cylinder because the image is of only the 1st 64 sectors \\\u0026 it\u0027s expecting to find all 6251327282 sectors which it would do after the corrected 1st 64 sectors is merged with the full image via dsfi e.g. dsfi f:\\\\toshibaimage.dd 0 0 f:\\\\first64sectors.dd..?  \n\nI then looked at the 1st64sectors.dd file with jaclaz\u0027s NTFS Boot Structure TinyHexer script \\\u0026 in the OEM field, it now says: OEM: \u0027รธ\u0027 - I was kind of expecting it to say the OEM ID i.e. NTFS..?  \n\nI\u0027ve attached the 1st64sectors file to this post.  \n\nDMTelf  \n\n#### Attached Files {#attach_wrap}\n\n* [![Attached File](http://reboot.pro/public/style_extra/mime_types/zip.gif)](http://reboot.pro/index.php?s\u003dedf4bdb136023d3d6449d0d1c407144e\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10642 \"Download attachment\") [**1st64sectors.zip**](http://reboot.pro/index.php?s\u003dedf4bdb136023d3d6449d0d1c407144e\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d10642 \"Download attachment\") **1KB** 320 downloads\n\n"
    },
    {
      "id": "93819",
      "timestamp": "2010-03-09T11:22:43+00:00",
      "author": "TheK",
      "content": "First of all...don\u0027t make any further changes to the 1st64sectors file. Everything is correct now ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)   \n\n\u003e Does it say bad ending cylinder because the image is of only the 1st 64 sectors \\\u0026 it\u0027s expecting to find all 6251327282 sectors which it would do after the corrected 1st 64 sectors is merged with the full image via dsfi e.g. dsfi f:\\\\toshibaimage.dd 0 0 f:\\\\first64sectors.dd..?\n\nYes, that\u0027s right. It calculates the disk geometry from the file size. And as this image is simply too small to have 38912 cylinders. Max. cylinder is detected as 1. You can check that in the \u0027gemetry\u0027 function of TestDisk.  \n\n\u003e I then looked at the 1st64sectors.dd file with jaclaz\u0027s NTFS Boot Structure TinyHexer script \\\u0026 in the OEM field, it now says: OEM: \u0027รธ\u0027 - I was kind of expecting it to say the OEM ID i.e. NTFS..?\n\nhmm, it says NTFS here.  \n\nMake sure the cursor is located at offset 0x7E00 before you open the structure viewer.  \nAnd then there is a button on the top of the structure viewer window. It looks like 4 arrows pointing to the center.  \nThis button is for \"Switch start decoding at current position/position zero\". Enable or disable it and reload the structure if you still can\u0027t see the proper OEM field.   \n"
    },
    {
      "id": "93823",
      "timestamp": "2010-03-09T13:14:17+00:00",
      "author": "dmtelf",
      "content": "\u003e First of all...don\u0027t make any further changes to the 1st64sectors file. Everything is correct now ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)\nGreat! ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)  \n\n\u003e hmm, it says NTFS here.  \n\u003e\n\u003e Make sure the cursor is located at offset 0x7E00 before you open the structure viewer.\nAfter I positioned the cursor at offset 0x7E00 then opened the structure viewer, it said \"NTFS \".  \n\nI guess dsfi can now be used to write the 1st 64 sector file back to the image \\\u0026 then after that TinyHexer will be needed to fix the backup NTFS boot sector inside the image..?  \n\nDMTelf   \n"
    },
    {
      "id": "93830",
      "timestamp": "2010-03-09T15:20:16+00:00",
      "author": "TheK",
      "content": "\u003e I guess dsfi can now be used to write the 1st 64 sector file back to the image \\\u0026 then after that TinyHexer will be needed to fix the backup NTFS boot sector inside the image..?\n\nYes and No ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)   \n\nWriting the 1st64sectors back \u003d Yes.  \nTiny Hexer and a 320 GB file \u003d No!  \n\nTiny Hexer will try to load it into RAM. You can use [HxD](http://mh-nexus.de/en/hxd/ \"External link\") for that.  \nIt has a nice option to open disk image files which makes it very easy to locate the start position of the last sector.   \nYou can find it in the Extras menu.  \nJump to the last sector and compare it with the boot sector found at position 0x7E00. You will see they are identical except for the OEM ID that still needs to be fixed. Fix it and save it.   \n"
    },
    {
      "id": "93833",
      "timestamp": "2010-03-09T16:03:25+00:00",
      "author": "dmtelf",
      "content": "\u003e Jump to the last sector and compare it with the boot sector found at position 0x7E00. You will see they are identical except for the OEM ID that still needs to be fixed. Fix it and save it.\nI wrote the 1st64sectors image back via dsfi, installed HxD, told HxD to display 512 bytes (1 sector) per line \\\u0026 compared sector 63 with the last sector. I made the necessary fix \\\u0026 saved it.  \n\nI then fired up TestDisk again \\\u0026 analysed the image. It found a partition, and tells me the structure is OK, but when I tell it to list the files, it tells it can\u0027t open the filesystem \\\u0026 that it seems damaged... ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)  \n\nDMTelf   \n"
    },
    {
      "id": "93837",
      "timestamp": "2010-03-09T16:27:52+00:00",
      "author": "TheK",
      "content": "In TestDisk choose \\[Advanced\\] from the main menu, then \\[Boot\\]. What does it say about the boot sector?   \n"
    },
    {
      "id": "93838",
      "timestamp": "2010-03-09T16:34:11+00:00",
      "author": "dmtelf",
      "content": "\u003e In TestDisk choose \\[Advanced\\] from the main menu, then \\[Boot\\]. What does it say about the boot sector?\nIt says both the boot sector \\\u0026 backup boot sector are \"Status: OK\" \\\u0026 that the sectors are identical.   \n\nIt also says that \"A valid NTFS Boot sector must be present in order to access any data; even if the partition is not bootable.\"  \n\nDMTelf   \n"
    },
    {
      "id": "93841",
      "timestamp": "2010-03-09T16:38:45+00:00",
      "author": "TheK",
      "content": "That\u0027s ok. Now choose \\[Repair MFT\\] and post back the result.   \n"
    },
    {
      "id": "93860",
      "timestamp": "2010-03-09T18:21:10+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Yes and No ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)   \n\u003e\n\u003e Writing the 1st64sectors back \u003d Yes.  \n\u003e Tiny Hexer and a 320 GB file \u003d No!  \n\u003e\n\u003e Tiny Hexer will try to load it into RAM. You can use [HxD](http://mh-nexus.de/en/hxd/ \"External link\") for that.\nNOT really.  \n\nIf you try to open the large disk image as file, yes.  \nIf you try to open the large disk image as disk-\\\u003eopen large image as disk, NO. ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)  \n\n![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)  \n\nWonko   \n"
    },
    {
      "id": "93876",
      "timestamp": "2010-03-09T19:28:03+00:00",
      "author": "dmtelf",
      "content": "\u003e That\u0027s ok. Now choose \\[Repair MFT\\] and post back the result.\n\"MFT \\\u0026 MFT mirror are bad. Failed to repair them.\"  \n\nWhat do you suggest I should try next..?  \n\nDMTelf   \n"
    },
    {
      "id": "94014",
      "timestamp": "2010-03-11T03:53:37+00:00",
      "author": "TheK",
      "content": "It looks like partition based recovery failed ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)   \nFormating the drive most likely damaged the MFT.  \n\nUnless anyone else has a better idea, I think it\u0027s time to switch to file based recovery.  \nYou can try DiskGenius which is able to open disk images without the need to mount them. Try the \u0027Recover\u0027 functoin.  \nThen you can try PhotoRec, Recuva and other recovery software.  \n\n@Wonko thanks for the hint with Tiny Hexer ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)   \n"
    },
    {
      "id": "94021",
      "timestamp": "2010-03-11T07:36:48+00:00",
      "author": "dmtelf",
      "content": "\u003e It looks like partition based recovery failed ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)   \n\u003e Formating the drive most likely damaged the MFT.\nOh no!!! ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif) ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif) ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)   \n\nI guess that means (at the very least) that the filenames are now lost?  \n\nOne file in the root of the NTFS drive (I now know not to store individual files there) was a complete \\\u0026 fairly recent WhereIsIt disk catalog of the drive. If I can get that back as part of the file based recovery, then it will hopefully help a lot identify original file names based on the recovered file size etc.  \n\n\u003e Unless anyone else has a better idea, I think it\u0027s time to switch to file based recovery.  \n\u003e You can try DiskGenius which is able to open disk images without the need to mount them. Try the \u0027Recover\u0027 functoin.  \n\u003e Then you can try PhotoRec, Recuva and other recovery software.\nThe link for DiskGenius 3.2 has expired, but 3.0 Beta 12 is still valid so I tried that but I can\u0027t see how to open a dd image with it?  \n\nAs the MFT is damaged, is it somehow possible to mount the image via ImDisk (or similar tool) etc so the partition file becomes a mapped drive \\\u0026 is visible in Explorer (even though its contents won\u0027t be visible) so I can then point my small collection of recovery tools at the drive letter? I think *some* - but not all - of the tools will work with disk images which haven\u0027t been mounted.  \n\n\u003e @Wonko thanks for the hint with Tiny Hexer ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)\nIndeed - I prefer TinyHexer \\\u0026 jaclaz\u0027s visualisation scripts rather than HxD.  \n\nDMTelf   \n"
    },
    {
      "id": "94040",
      "timestamp": "2010-03-11T10:32:53+00:00",
      "author": "Wonko the Sane",
      "content": "It is rather strange that both the MFT and it\u0027s mirror has been overwritten, usually the MFT mirror is way deep inside the volume, and, though it is possible, it is unlikely that it has been overwritten entirely.  \n\nFirst thing I would try would be to try mounting the image with VDK (through a .pln file) or even better through the MS VSS drivers.  \n\nI would try running checkdisk on it.  \n\nSee here for a batch to manage VSS:  \n[http://www.boot-land...?...ic\u003d6492\\\u0026hl\u003d](http://www.boot-land.net/forums/index.php?showtopic\u003d6492\u0026hl\u003d \"External link\")  \n\nAs I see it, all the steps till now has been performed correctly, so what you have right now is a somehow \"botched\" filesystem but still much beeter than the raw assembly of sectors you had before.  \n\nI presume (but we will need to actually try it) that recovering files from a filesystem with a wrong MFT is however better than recovering from completely raw data.  \n\nIt is possible that checkdisk can repair the MFT or that it can repair it \"enough\" to let testdisk finish repair it:  \n[http://www.cgsecurit..._and_MFT_Repair](http://www.cgsecurity.org/wiki/Advanced_NTFS_Boot_and_MFT_Repair \"External link\")  \n\nAnd we still have some other tricks to try, but let\u0027s go with order.  \n\nTrry mounting it and run checkdisk, \"in the right order\", i.e.:  \n\n```\nchkdsk\n```\n\n(disgnostic only)  \n\n```\nchkdsk /F\n```\n\nand then, try the other switches, depending on what happens with the first two.  \n\n![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)  \n\nWonko   \n"
    },
    {
      "id": "94069",
      "timestamp": "2010-03-11T17:24:40+00:00",
      "author": "dmtelf",
      "content": "\u003e First thing I would try would be to try mounting the image with VDK (through a .pln file) or even better through the MS VSS drivers.  \n\u003e\n\u003e I would try running checkdisk on it.  \n\u003e\n\u003e See here for a batch to manage VSS:  \n\u003e [http://www.boot-land...?...ic\u003d6492\\\u0026hl\u003d](http://www.boot-land.net/forums/index.php?showtopic\u003d6492\u0026hl\u003d \"External link\")\nI am feeling stupid because I have now installed VSS from that link, but I cannot see a batch file anywhere in the post/thread \\\u0026 I can\u0027t find any useful documentation or examples to look at... if the batch file you are referring to is part of the installed VSS SDK, then was it the following line of C:\\\\Program Files\\\\Microsoft\\\\VSSSDK72\\\\TestApps\\\\hwprovst\\\\bin\\\\install-sampleprovider.cmd that needed to be changed: vstorcontrol create fixeddisk -newimage %INSTALLTO%disk.image -blocks 40000  \n\nI unfortunately also can\u0027t find out how to create a .PLN file to enable VDK to mount the image ![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)  \n\nDo you have any links which will help me either create the PLN for VDK or create a batch file for VSS? I will then hopefully be able to mount the image as a drive letter \\\u0026 then try chkdsk.   \n\nIf at all possible, I\u0027d really like to continue to try partition based recovery as much as possible before switching to file based recovery. This is because there were hundreds of thousands of files on the 320Gb drive, and if there are no filenames...  \n\nDMTelf   \n"
    },
    {
      "id": "94080",
      "timestamp": "2010-03-11T18:33:50+00:00",
      "author": "TheK",
      "content": "Well we already recovered the partition, but the file system is damaged. That means we need to fix the MFT or use a tool than can find what\u0027s left of the MFT and does file based recovery.  \n\nBtw, file based recovery doesn\u0027t mean you can\u0027t recover the file names as well.  \nYou can mount the image with ImDisk and try Recuva. Go to options and enable \u0027deep scan\u0027 and \u0027scan for non-deleted files\u0027.  \nGive it a try. You can still try other methods if you aren\u0027t satisfied with the results.   \n"
    },
    {
      "id": "94168",
      "timestamp": "2010-03-12T15:34:09+00:00",
      "author": "dmtelf",
      "content": "\u003e Well we already recovered the partition, but the file system is damaged. That means we need to fix the MFT or use a tool than can find what\u0027s left of the MFT and does file based recovery.  \n\u003e\n\u003e Btw, file based recovery doesn\u0027t mean you can\u0027t recover the file names as well.  \n\u003e You can mount the image with ImDisk and try Recuva. Go to options and enable \u0027deep scan\u0027 and \u0027scan for non-deleted files\u0027.  \n\u003e Give it a try. You can still try other methods if you aren\u0027t satisfied with the results.\nI mounted the image with ImDisk \\\u0026 the partition appears as a drive letter, but when I go into it in Explorer, it\u0027s empty \\\u0026 I am unable to use chkdsk etc. I was able to use PhotoRec to recover 10,000\u0027s of files overnight \\\u0026 it stopped when disk space ran out. The issues I encountered with PhotoRec is this tool does not restore original file names and a lot of file types that were on the drive are not on PhotoRec\u0027s supported file types list e.g. VOB or AEP (After Effects CS4). The directory structure wasn\u0027t reconstructed (nor was I expecting it to be) and as a lot of the files on this drive are \"project\" related, this particular recovery wasn\u0027t satisfactory, but it was encouraging.  \n\nI then tried Recuva, and it took an hour and half to scan the partition in the image. I was delighted to see original file \\\u0026 folder names etc, although a lot of files are marked as Unrecoverable, I at least now know which ones fall in to this category. I found the State \\\u0026 Comment columns very useful. I really wanted to export the contents of the Recuva file list to Excel \\\u0026 there\u0027s no built in facility to do this, so I used nirsoft\u0027s [SysExporter](http://www.nirsoft.net/utils/sysexp.html \"External link\")utility to save a CSV with 369,349 rows.  \n\nI tried GetDataBack for NTFS on a friend\u0027s computer, and stopped it running after a couple of hours. It looks like it will be able to recover a lot although without having done a full scan etc which would take over 24 hours, I don\u0027t know if it will recover more or less files than Recuva.  \n\nGetDataBack reported this data for the MFT table:  \n\nName: NTFS  \nCluster0: 0  \nCluster size: 8  \nTotal sectors: 625,137,281  \n1st Mft cluster: 786,432  \n1st MftMirr cluster: 39,071,080  \nMft record size: 1024  \nIndex buffer siz: 4096  \nTotal clusters: 78,142,160  \nMin clusters used: 78,142,160  \nMax clusters used: 78,142,160  \nMft origin:,Ambiguous  \nCreation date:06/11/2009  \nData matches:1802  \nDebug info:B1!  \n\nWould following Wonko\u0027s original suggestion of creating a PLN file to enable VDK to mount the image or using MS\u0027s VSS SDK result in a higher likelihood of recovering the MFT (via chkdsk or testdisk) or recovering more files..?  \n\nDMTelf   \n"
    },
    {
      "id": "94186",
      "timestamp": "2010-03-12T18:07:46+00:00",
      "author": "Wonko the Sane",
      "content": "I was referring to the ones attached to this post:  \n[http://www.boot-land...?...c\u003d6492\\\u0026st\u003d7](http://www.boot-land.net/forums/index.php?showtopic\u003d6492\u0026st\u003d7 \"External link\")  \n\nTo create a .pln for VDK you can use this one:  \n[http://www.forensicf...m...c\\\u0026p\u003d6518434](http://www.forensicfocus.com/index.php?name\u003dForums\u0026file\u003dviewtopic\u0026p\u003d6518434 \"External link\")  \n\nAnd you can of course use my pseudo-GUI for VDK:  \n[http://jaclaz.alterv...ts/VDM/vdm.html](http://jaclaz.altervista.org/Projects/VDM/vdm.html \"External link\")  \n\nBut VSS should be \"better\" in this case.  \n\nWith the files mounted with one of the two drivers, I would first thing like to see what checkdisk has to say about it.  \n\nThen if chkdisk + testdisk lead us to nowhere, I would try another freebie, ScroungeNTFS:  \n[http://memberwebs.co...tware/scrounge/](http://memberwebs.com/stef/software/scrounge/ \"External link\")  \n\nIF we cannot get the files through Freely available software, the one I can suggest among available Commercial Software is File Scavenger:  \n[http://www.quetek.com/prod02.htm](http://www.quetek.com/prod02.htm \"External link\")  \n\nIf anyone near you has a licensed copy of the good ol\u0027 TIRAMISU, that would be another exceptionally good app (retired, acquired by ONTRACK, lost in one of there BLOATED recovery solutions).  \n\nI will have a look at the files you posted and see if there is anything that can be \"bettered\", I may need other \"snippets\" of your drive, I still presume that the MFT (or more probably it\u0027s mirror can be manually fixed, if not entirely, somewhat \"more\").  \n\n![:ranting2:](http://reboot.pro/public/style_emoticons/default/ranting2.gif)  \n\nWonko   \n"
    },
    {
      "id": "94270",
      "timestamp": "2010-03-13T00:18:22+00:00",
      "author": "dmtelf",
      "content": "\u003e I was referring to the ones attached to this post:  \n\u003e [http://www.boot-land...?...c\u003d6492\\\u0026st\u003d7](http://www.boot-land.net/forums/index.php?showtopic\u003d6492\u0026st\u003d7 \"External link\")\nVSS results using vsmount script:  \n\nVirtual Storage is not installed:  \nInstalling Virtual Bus Driver... Succeeded  \nVirtual Storage v5.2 Build 3790.1208:  \nNumber of Drives : 0  \n\nImage : \"e:\\\\ToshImage.dd\"  \nwill be installed on VSDrive 0  \n\nPress any key to continue . . .  \nVirtual Storage v5.2 Build 3790.1208  \n\nCreating drive backed by e:\\\\ToshImage.dd ...  \nWaiting for drive initialization...............  \nDrive : \\\\\\\\.\\\\PhysicalDrive2  \nDrive ID : {E6066DF7-2E27-11DF-9A70-001C233406C0}  \nType : Fixed Disk  \nSize : 305242MB  \n1 volume(s) on this drive:  \n\\\\\\\\?\\\\Volume{e6066df9-2e27-11df-9a70-001c233406c0}\\\\  \nF:\\\\  \n\nchkdsk f:\\\\ results in \"The drive, the path, or the file name is not valid.\"  \n\nVSS is the only method used so far which actually shows something in Explorer when the drive is opened - in this case, there is a \"System Volume Information\" folder. When this image is mounted with ImDisk, this folder does not appear in Explorer.  \n\nI tried testdisk with the image mounted via VSS, but unfortunately I get the same results as before when I try to repair the MFT.  \n\n\u003e And you can of course use my pseudo-GUI for VDK:  \n\u003e [http://jaclaz.alterv...ts/VDM/vdm.html](http://jaclaz.altervista.org/Projects/VDM/vdm.html \"External link\")\nSame results as above, except nothing appears in Explorer.  \n\n\u003e Then if chkdisk + testdisk lead us to nowhere, I would try another freebie, ScroungeNTFS:  \n\u003e [http://memberwebs.co...tware/scrounge/](http://memberwebs.com/stef/software/scrounge/ \"External link\")\nThe drive\u0027s directory tree structure is not recoverable with this tool \\\u0026 I need it, but here is the result after scrounge-ntfs had been running for half an hour:  \n\nE:\\\\!!HD Recovery\\\\scrounge-ntfs-0.8.6\\\u003escrounge-ntfs.exe -d f:\\\\ -o k:\\\\ 63 625137282  \nscrounge-ntfs: Scrounging via raw search. Directory info will be discarded.: No error  \n\\[Scrounging raw records...\\]  \n\\\\Certificates  \n\\\\LocalMLS_2.wmdb  \n\\\\LocalMLS_0.wmdb  \n\\\\AeX OS Results.nsi  \nscrounge-ntfs: invalid mft record  \nscrounge-ntfs: invalid mft record  \n\\[... dozens more lines like the above\\]  \nscrounge-ntfs: extended file attributes, but no MFT loaded. skipping \\\\pagefile.sys  \n\\[lots of files recovered\\]  \n\n\u003e IF we cannot get the files through Freely available software, the one I can suggest among available Commercial Software is File Scavenger:  \n\u003e [http://www.quetek.com/prod02.htm](http://www.quetek.com/prod02.htm \"External link\")  \n\u003e\n\u003e If anyone near you has a licensed copy of the good ol\u0027 TIRAMISU, that would be another exceptionally good app (retired, acquired by ONTRACK, lost in one of there BLOATED recovery solutions).\nI will see if anyone nearby has File Scavenger, unfortunately no-one has heard of TIRAMISU as it\u0027s not been around stand-alone for such a long time.  \n\n\u003e I will have a look at the files you posted and see if there is anything that can be \"bettered\", I may need other \"snippets\" of your drive, I still presume that the MFT (or more probably it\u0027s mirror can be manually fixed, if not entirely, somewhat \"more\").\nThank you very much for this. If you need any snippets, please let me know which ones you need.  \n\nThe Excel spreadsheet I produced using nirsoft\u0027s SysExporter utility (highly recommended) \\\u0026 the deep scan result data in Recuva\u0027s application is really useful although it makes me wonder if a better recovery job could be done though to claw back even more data.  \n\nOut of interest, I\u0027m wondering aloud \"Why did GetDataBack NTFS \\\u0026 Recuva do so much better than the majority of the various free or MS apps I have used so far e.g. chkdsk, testdisk, VSS etc...?\"  \n\nDMTelf   \n"
    },
    {
      "id": "94296",
      "timestamp": "2010-03-13T08:27:18+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Out of interest, I\u0027m wondering aloud \"Why did GetDataBack NTFS \\\u0026 Recuva do so much better than the majority of the various free or MS apps I have used so far e.g. chkdsk, testdisk, VSS etc...?\"\n\nBecause they are aimed towards different goals.  \n\nRecuva and GetdataBack are more similar to ScroungeNTFS, they aim to get the files, whilst checkdisk/testdisk aim to re-build or re-validate the filesystem.  \n\nIn an extremely summed up:  \n\n* IF checkdisk/testdisk succeed you have 100% or nearly 100% your data EXACTLY as it was\n* IF ScroungeNTFS or Recuva or similar apps succeed you have as many files as it is possible, but hardly 100% and ***NOT*** in the way they were (dates, permissions, fragmented status, etc.)\n* IF photorec succeed you have very nearly 100% of ***supported*** files BUT you loose filenames also\n\n\u003cbr /\u003e\n\nIf you prefer in any of the further steps you increase \"quantity\" but loose \"accuracy\". ![:lol:](http://reboot.pro/public/style_emoticons/default/laugh.png)  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nWonko   \n"
    },
    {
      "id": "94315",
      "timestamp": "2010-03-13T12:54:03+00:00",
      "author": "Wonko the Sane",
      "content": "OK, let\u0027s see what you have in the MFT and in it\u0027s mirror.  \n\nFrom the bootsector we have that:  \nSectors per cluster\u003d8  \nLCN for $MFT\u003d786432  \nLCN for $MFTMirr\u003d39070076  \nBytes per $MFT record\u003d1024  \n\nThus I need:  \n\n* Starting from absolute offset 786,432\\*8+63\u003dSector 6,291,519 i.e. absolute byte offset 3,221,257,728, say 50 clusters i.e. 50\\*8\\*512\u003d 204,800 bytes\n* Starting from absolute offset 39,070,076\\*8+63\u003dSector 312,560,671 i.e. absolute byte offset 160,031,063,552 , say 50 clusters i.e. 50\\*8\\*512\u003d 204,800 bytes\n\n\u003cbr /\u003e\n\nAlso, open the image as large disk image in Tiny hexer, and search on it for:  \n\n* 46494C4530\n\nand for:  \n\n* 46494C4530\n\n(which correspond - respectively - to \"FILE0\" and \"FILE\\*\")  \nfrom the start and post the location of first occurrence (please note that \"FILE0\" or FILE\\*\" needs to be first bytes of the sector, otherways it is a \"false positive\".  \nPost the usual 204,800 bytes starting from the found position. (it will take some time to scan the whole file)  \n\nThen, again from start, try searching for:  \n\n* 0324004D0046005400\n\n\u003cbr /\u003e\n\nI am starting to suspect that somehow we are missing the \"right\" offsets for the MFT and it\u0027s mirror, i.e. it is possible that the actual re-built values we found come NOT from the original partitioning/formatting, but rather from the \"new\" interrupted one. ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\nWonko   \n"
    }
  ]
}