{
  "id": "21375",
  "title": "Help regarding my bootable USB",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "201593",
      "timestamp": "2017-01-10T21:54:04+00:00",
      "author": "anonymous10",
      "content": "Alright everyone, here are the details.  \n\nMy Operating system is windows 10 64 bit. My USB drive is a Samsung flash drive. Below is the flash drive I bought.  \n[http://www.newegg.co...7-452-_-Product](http://www.newegg.com/Product/Product.aspx?Item\u003d9SIA4P03NV6157\u0026cm_re\u003dsamsung_32_gb_usb-_-20-147-452-_-Product \"External link\")\n\nMy goal is to put Gandalfs windows PE, a few versions (Windows 10, windows 8, windows 7, specifically 32 bit versions so that it works on 64 bit computers as well). I also want to put a few antivirus ISO\u0027s (Avira, Kaspersky, bit defender). I want this USB to be able to load while I select from the list what I want to run. Ive been able to accomplish getting one PE on the USB using other programs 9xboot and rufus), but I dont want to buy multiple flash drives for every ISO. I want to be smart about this and thats why I bought a 32 gb flash drive.  \n\nThis is the website to the windows PE: www.windowsmatters.com\n\nIve come to the conclusion that the best available software for what I want to do is Rmprep combined with easy2boot.\n\nIve put the Gandalfs pe in the PE folder of easy2boot. I opened up Rmprep and selected FAT32 and HDD option.  \n\n[https://gyazo.com/ad...ea454d6b146fca7](https://gyazo.com/ad61d5bbe50e802ecea454d6b146fca7 \"External link\")\n\nHere are images of the QEMU after running it.\n\n[https://gyazo.com/0e...d9dcbcf1b14c9df](https://gyazo.com/0e14a714a938e4f2ad9dcbcf1b14c9df \"External link\")\n\nHere are some instructions I found from the Easy2boot website regarding my ISO specifically. I had trouble going through the process. (control+F, type gandalf)  \n\n[http://www.easy2boot...and-winpe-isos/](http://www.easy2boot.com/add-payload-files/winbuilder-and-winpe-isos/ \"External link\")\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "201596",
      "timestamp": "2017-01-10T22:14:46+00:00",
      "author": "steve6375",
      "content": "OK\n\nFirst you need to make the Easy2Boot USB drive correctly.\n\n**Quick Instructions**   \nBeginners Tip: Download the self-extracting .exe version of E2B and run it. It will automatically do steps 1 and 2 for you!  \n\nFor more experienced users, I recommend using the zip file download:  \n\n1. Extract the E2B .7z or .zip download to a new folder called \u0027E2B\u0027 (any name will do)  \nI recommend you temporarily turn off anti-virus protection for the next step.  \n2. Run the MAKE_E2B_USB_DRIVE (run as admin).cmd script (NTFS is recommended)  \n3. Copy all your payload files (ISOs, etc.) to the correct sub-folders under \\\\_ISO (e.g. \\\\_ISO\\\\MAINMENU)  \n4. Run \\\\MAKE_THIS_DRIVE_CONTIGUOUS.cmd from the USB drive\n\nRead more: [http://www.easy2boot...boot-usb-drive/](http://www.easy2boot.com/make-an-easy2boot-usb-drive/ \"External link\")\n\nWhen you have done that (see video), test it by running the \\\\QEMU_MENU_TEST (run as admin).cmd.\n\nNo need for RMPrepUSB yet.\n\nGandalf is one of the most difficult ones to get working on a multiboot USB drive, so leave this until last.\n\nJust get it booting to the E2B menu first. The next step will be to get a simple linux ISO booting...\n\n"
    },
    {
      "id": "201598",
      "timestamp": "2017-01-10T23:04:59+00:00",
      "author": "anonymous10",
      "content": "Hey Steve,\n\nSo I went to this link as provided by easy2boot: [https://onedrive.liv...A0F146CC7416BA9](https://onedrive.live.com/?id\u003d8A0F146CC7416BA9%21120\u0026cid\u003d8A0F146CC7416BA9 \"External link\")  \n\nI downloaded: [Easy2Boot_v1.xxDPMS_Make_E2B_USB_Drive.exe](http://goo.gl/t5oEAf \"External link\")\n\nHere are pics of what happened next: (Dont need to see this but this is confirmation that it installed.)\n\n[https://gyazo.com/18...1d0011e9a0f3230](https://gyazo.com/187cd54d0ab04f1e51d0011e9a0f3230 \"External link\")  \n[https://gyazo.com/58...bcd1c992b659009](https://gyazo.com/58729a4d81445d5efbcd1c992b659009 \"External link\")  \n[https://gyazo.com/57...a1ade57601cb753](https://gyazo.com/57a2b46feb09620e6a1ade57601cb753 \"External link\")\n\n[https://gyazo.com/b3...387ee8149efdf34](https://gyazo.com/b38b8af7a22e167a5387ee8149efdf34 \"External link\")\n\nHere I select the keyboard. Th easy2boot site said if I do not know the answer to something, press enter, which is what I ended up doing in some cases.  \n[https://gyazo.com/85...7151f3f7a83b0d3](https://gyazo.com/85646c941339e60ae7151f3f7a83b0d3 \"External link\")  \n\nI got the confirmation screen in green which indicated it installed correctly.  \n\nI copied Gandalf 32 and 62 bit ISO to the windows PE folder of D:\\\\_ISO\\\\WINPE.  \nNext I put the Antivirus ISO\u0027s into the Antivirus folder.\n\nI do not know where to get a menu to export into this, which would be neat for me to have and choose from, but I\u0027ll go without it so I can learn the process.  \n\nHere is the QEMU test  \n[https://gyazo.com/fb...f7fbd18fd0d3caf](https://gyazo.com/fbfd82db50a4d2999f7fbd18fd0d3caf \"External link\")  \n\nI selected Gandalf 32 bit and it said something about an imgpt extension.  \nI got this message screen  \n[https://gyazo.com/d4...fc4235188a8cc86](https://gyazo.com/d4705118023d57dd1fc4235188a8cc86 \"External link\")  \n\nI am thrilled to have gotten this far. Thank you so much steve, I really appreciate you.  \n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "201599",
      "timestamp": "2017-01-10T23:11:01+00:00",
      "author": "steve6375",
      "content": "Good.\n\nFor now, forget about Gandalf because it is more complex (as I specifically told you but you seem to have ignored me!).\n\nNow look up on [this page](http://www.easy2boot.com/add-payload-files/list-of-tested-payload-files/ \"External link\") each of the other ISOs that you want to get working. If no special instructions are mentioned then all you need to do is copy the ISO to a menu folder.\n\nThe QEMU test environment is only good for testing 32-bit ISOs - if you try to boot a 64-bit ISO it will fall over but you can try a real 64-bit system.\n\nIf you hit a problem, post it here.\n\n"
    },
    {
      "id": "201601",
      "timestamp": "2017-01-11T00:42:33+00:00",
      "author": "anonymous10",
      "content": "I didnt mean to ignore you! I was listening to your instructions to put the ISO I want in the correct folder. So I thought naturally, to put Gandalfs in there. I assumed that you ment forget about it for now because you would help me with it later.\n\n"
    },
    {
      "id": "201614",
      "timestamp": "2017-01-12T09:02:28+00:00",
      "author": "steve6375",
      "content": "re. Gandalf ISOs\n\nIf you look at the comments on [this page](http://www.easy2boot.com/add-payload-files/list-of-tested-payload-files/ \"External link\") for Gandalf ISOs, it says \u0027easiest to make a .imgPTN file\u0027.\n\nTo convert the ISO to a .imgPTN file you need to download and install the [MPI Tool Kit](http://www.easy2boot.com/download/mpi-pack/ \"External link\")\n\nIf you look at [this page](http://www.easy2boot.com/add-payload-files/adding-uefi-images/ \"External link\"), it has a video and instructions. Also see [this page](http://www.easy2boot.com/add-payload-files/makepartimage/ \"External link\").\n\nHopefully, you will be able to follow the instructions under the \u0027How to make a .imgPTN file\u0027 heading.\n\nYou may find the concept of using .imgPTN files with E2B difficult\\\\confusing. So I advise you to watch the videos about them carefully and read the pages fully. E2B will switch-in a new partition and the E2B partition will disappear. When you choose the CSM Menu #0 it will restore the original E2B partition.\n\n"
    },
    {
      "id": "201623",
      "timestamp": "2017-01-13T00:22:33+00:00",
      "author": "anonymous10",
      "content": "Hey Steve,\n\nSo I\u0027m stuck on something that should fairly simple to solve. Ive tried googling. While following step 3 of making an IMG partition, [http://www.easy2boot...ng-uefi-images/](http://www.easy2boot.com/add-payload-files/adding-uefi-images/ \"External link\")  \n\nI\u0027m getting denied admin permission to move a file over from a folder to the USB folder ISO/win.  \n\nI am the admin. Here is a gif to show it more clearly  \n[https://gyazo.com/0e...d34cc992cdb7281](https://gyazo.com/0ed10e95e49b851bed34cc992cdb7281 \"External link\")  \n\nDo you know how to bypass this problem? Ive tried selecting properties of the e2b drive and also the folder itself and I went to the security tab and looked at permissions. It looks like everyone has permissions all of them too (Read, write). So do you know any solutions to moving this over?\n\n"
    },
    {
      "id": "201624",
      "timestamp": "2017-01-13T00:27:19+00:00",
      "author": "steve6375",
      "content": "Look in Control Panel - Imdisk to see if the file is mounted as a drive.\n\nTry rebooting Windows. ImDisk may not have closed the file.\n\n"
    },
    {
      "id": "201625",
      "timestamp": "2017-01-13T02:24:47+00:00",
      "author": "anonymous10",
      "content": "Here are the settings of the IMdisk. Not sure what I should do from here. I clicked \"mount new\" on the Usb drive but it asked for settings.\n\n[https://gyazo.com/b6...d37be637a73ff4f](https://gyazo.com/b64f064bf4b85da7ad37be637a73ff4f \"External link\")\n\nSo not sure where to go from here.\n\n"
    },
    {
      "id": "201626",
      "timestamp": "2017-01-13T08:55:48+00:00",
      "author": "steve6375",
      "content": "That indicates that you did not complete the MakePartImage script correctly.\n\nIt should be straight forward. You just drag-and-drop the Gandalf ISO onto the MPI_FAT32 Desktop shortcut and press ENTER when it suggests a size.\n\nAnyway, you can click on each .imgPTN file in the ImDisk control panel and click on Remove to dismount each one.\n\nThe ImDisk panel should then be empty.\n\nor *as I said* - just reboot your Windows system\n\nThe .imgPTN files will probably be corrupt so delete them.\n\nThen try again and drag-and-drop the Gandalf ISO onto the MPI_FAT32 Desktop shortcut and press ENTER when it suggests a size.\n\nIf you hit a problem running MPI, then give details.\n\nP.S. If you read a bit further down the page, you will see:\n\n\u003e **Troubleshooting**\n\u003e\n\u003e If ImDisk creates a virtual image but fails to dismount it, you will need to use ImDisk Manager in Windows - Control Panel to remove the virtual drive.\n\u003e\nRead more: [http://www.easy2boot...ng-uefi-images/](http://www.easy2boot.com/add-payload-files/adding-uefi-images/ \"External link\")\n\n**Edited by steve6375, 13 January 2017 - 09:02 AM.**\n"
    },
    {
      "id": "201633",
      "timestamp": "2017-01-14T00:07:15+00:00",
      "author": "anonymous10",
      "content": "Here is the error I got, I dont know how to solve it  \n[https://gyazo.com/52...4df1d028a2a6925](https://gyazo.com/52c0200324ac92ea44df1d028a2a6925 \"External link\")\n\n"
    },
    {
      "id": "201637",
      "timestamp": "2017-01-14T08:22:03+00:00",
      "author": "steve6375",
      "content": "How big is the \\\\sources\\\\boot.wim file inside the ISO?\n\nIf it is bigger than 4GB then you cannot use the MPI_FAT32 shortcut.\n\nInstead, use the MPI_NTFS shortcut.\n\nIf it is smaller than 4GB, then when you are prompted by MPI to enter a size for the .imgPTN file and you are suggested a size, instead of pressing ENTER, input a slightly larger size (say add 200MB),\n\n\\[Edit\\] I just tried it. You need to use MPI_FAT32 and set a size of 5100MB.\n\n**Edited by steve6375, 14 January 2017 - 09:04 AM.**\n"
    },
    {
      "id": "201644",
      "timestamp": "2017-01-15T00:44:36+00:00",
      "author": "anonymous10",
      "content": "If I have the correct folder below, its 840,383kb. This looked like its just under one gb.\n\n[https://gyazo.com/1e...9440dba40b38aa0](https://gyazo.com/1e4a2ad96671ff4af9440dba40b38aa0 \"External link\")\n\n"
    },
    {
      "id": "201647",
      "timestamp": "2017-01-15T08:52:47+00:00",
      "author": "steve6375",
      "content": "You seem to have trouble understanding simple instructions.\n\nIf you read my last post, I tell you what to do.\n\nAlso, I have made a blog post especially for you [here](http://rmprepusb.blogspot.co.uk/2017/01/add-recent-gandalf-pe-builds-to-e2b.html \"External link\").\n\n"
    },
    {
      "id": "201671",
      "timestamp": "2017-01-16T23:41:26+00:00",
      "author": "anonymous10",
      "content": "I\u0027m sorry Steve that I\u0027m a bad listener, I\u0027m just still confused. I\u0027m afraid to ask anything else in fear of being a bad listener or an idiot. I really dont want to feel like one, I just didn\u0027t know the process would be this complex or difficult. That\u0027s why I didn\u0027t respond yesterday. I felt so down about all this always having a new error or problem, with a new one on top of it, and one right after the other. Its like a never ending cycle. I\u0027m willing to learn but, either I have to be smarter, or the process should be easier, or we need to have more patience with me.  \n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "201676",
      "timestamp": "2017-01-17T10:54:19+00:00",
      "author": "steve6375",
      "content": "I don\u0027t know why you are confused.\n\n1. Drag-and-drop the Gandalf x64 ISO onto the MPI_FAT32 Desktop shortcut\n\n2. When prompted, enter a size of 5100\n\n3. Allow the .imgPTN file to be made\n\n4. Copy the .imgPTN file to \\\\_ISO\\\\MAINMENU on your E2B USB drive and run WinContig\n\n5. Boot to E2B and select the .imgPTN file - hit ENTER to get to the CSM menu - choose Item #1 to MBR boot\n\n**Edited by steve6375, 17 January 2017 - 12:43 PM.**\n"
    },
    {
      "id": "201677",
      "timestamp": "2017-01-17T21:15:56+00:00",
      "author": "anonymous10",
      "content": "I got to step 4. I opened winContig but it looks like it needs settings to be input, and I am unclear of what those are.\n\nHere is a picture: [https://gyazo.com/2f...fef2ae8edfe99be](https://gyazo.com/2f47ac3e15c726054fef2ae8edfe99be \"External link\")\n\n"
    },
    {
      "id": "201678",
      "timestamp": "2017-01-17T21:31:39+00:00",
      "author": "steve6375",
      "content": "Just run the cmd script that is in the root of the USB drive.\n\nMAKE_THIS_DRIVE_CONTIGUOUS.cmd\n\nthis runs WinContig for you.\n\nThe same that you should do every time you have added ISOs, etc.\n\nThe same as in all the instructions.\n\nThe same as in all the videos.\n\n"
    },
    {
      "id": "201679",
      "timestamp": "2017-01-17T22:46:06+00:00",
      "author": "anonymous10",
      "content": "Steve you\u0027re a genius!!! I\u0027m sorry for any trouble or problems I gave you. I apologize for my stupidity. I\u0027m sorry this took so long. I\u0027m so extremely happy. I thought we would go back and fourth for a month or two, just because you emphasized how difficult it was and how I was misunderstanding everything. I\u0027m extraordinarily grateful, and you helped teach a man how to fish instead of give a man a fish.\n\n"
    },
    {
      "id": "201680",
      "timestamp": "2017-01-17T23:02:07+00:00",
      "author": "cdob",
      "content": "\u003e teach a man\nPraise the teacher and the student.   \n"
    },
    {
      "id": "201681",
      "timestamp": "2017-01-17T23:16:37+00:00",
      "author": "anonymous10",
      "content": "Steve I have a couple more questions for ya. So I used it, and I got this screen saying the 32b drive may be overwritten if you continue. So I chose that option, and I went back to put more IMGPTN\u0027s and it looks like it was overwritten. I know I can reverse it by following the instructions to click \"RestoreE2B as admin\"?\n\n"
    },
    {
      "id": "201682",
      "timestamp": "2017-01-17T23:22:50+00:00",
      "author": "steve6375",
      "content": "boot it and chose option 0 - E2B menu\n\nor run \\\\e2b\\\\switch_e2b.exe and click on restore E2B partitions\n\nor run \\\\e2b\\\\Restore_e2b cmd file\n\nas it tells you when you select the .imgptn file, it will replace the E2B partition.\n\nIt is in the videos and explained on the E2B pages about .imgptn too.\n\n"
    },
    {
      "id": "201689",
      "timestamp": "2017-01-18T07:15:38+00:00",
      "author": "anonymous10",
      "content": "I know I understand that. I guess I was asking if there was another method to avoid changing the partition back and fourth? If not, then I understand.\n\n"
    },
    {
      "id": "201690",
      "timestamp": "2017-01-18T08:03:01+00:00",
      "author": "steve6375",
      "content": "If you use the .imgPTN method, then we need to change the partition and then boot to Gandalf PE.\n\nThere is a way to change it back from within Gandalf PE (run one of the \\\\e2b\\\\ utilities or scripts), from Windows or from the CSM menu.\n\nIt cannot magically change itself back just before you want to access the E2B menu...\n\n.imgPTN files have the advantage that they can support UEFI-booting which cannot be done using grub4dos from ISOs.\n\nIt has the disadvantage that you have to \u0027switch the partition back\u0027 afterwards.\n\nIf you don\u0027t want to use a .imgPTN file, you have the option to set E2B up for MBR-booting from an ISO (as I describe in my blog post).\n\n"
    }
  ]
}