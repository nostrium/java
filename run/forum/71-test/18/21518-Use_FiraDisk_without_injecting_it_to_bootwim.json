{
  "id": "21518",
  "title": "Use FiraDisk without injecting it to boot.wim?",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "203553",
      "timestamp": "2017-05-14T22:20:33+00:00",
      "author": "Uneitohr",
      "content": "Hello! I\u0027m trying to boot a windows install image via grub4dos. The error displayed is:\n\nA required CD/DVD drive device driver is missing.\n\nI understand that I must use either firadisk or winvblock to make it work but I\u0027d like a solution that does not involve editing the images. And I\u0027d also like to NOT use easy2boot for this.\n\nWhat other options are there to solve this, using the requirements above?\n\nThe version of grub4dos I\u0027m using is 0.4.5c-2015-05-18 but I will update if required.\n\nThank you!\n\n"
    },
    {
      "id": "203555",
      "timestamp": "2017-05-14T23:01:26+00:00",
      "author": "steve6375",
      "content": "You can use the same method that E2B uses, ImDisk + AutoUnattend.xml?\n\n[http://www.rmprepusb...ials/firawiniso](http://www.rmprepusb.com/tutorials/firawiniso \"External link\")\n\nNote that I had problems with firadisk and later versions of Windows 8/10, so I dropped it in favour of ImDisk.\n\n"
    },
    {
      "id": "203557",
      "timestamp": "2017-05-15T11:07:10+00:00",
      "author": "alacran",
      "content": "Easier way is use a small WinPE (you can run it from grub4dos or Windows bootmanager) and [WinNTSetup](http://www.msfn.org/board/topic/149612-winntsetup-v3874/ \"External link\") and your Iso\u0027s, but you do not need the full Iso, only install.wim or install.esd, etc,\n\nIf you want you can rename the install file as let\u0027s say 10x64.wim or 8.1x64.esd, this allows you to save space and also put several installers togeter on the root of your USB device or on a folder if you prefer.\n\nalacran\n\n"
    },
    {
      "id": "203571",
      "timestamp": "2017-05-20T01:20:32+00:00",
      "author": "Uneitohr",
      "content": "@alacran\n\nI already use WinNTSetup in WinPE. Have a dedicated disc that runs it automatically.\n\n@steve6375\n\nI would just need to create an autounattend.xml, and install imdisk from there? And once imdisk is installed in WinPE, are there any other operations that need to be done?\n\n"
    },
    {
      "id": "203579",
      "timestamp": "2017-05-20T17:18:01+00:00",
      "author": "Uneitohr",
      "content": "I\u0027ve created the autounattend.xml and script to setup imdisk in winpe. However, i am stuck at this:\n\n```\nwrite /logs/image_selection.txt iso\\\\en_windows_7_ultimate_with_sp1_x64_dvd_u_677332_eicfg_simplix.iso\n```\n\nIf the file /logs/image_selection.txt is empty then it outputs the error Cannot write resident/small file! And using the command like above does not overwrite the file.\n\n"
    },
    {
      "id": "203580",
      "timestamp": "2017-05-20T17:27:00+00:00",
      "author": "steve6375",
      "content": "I don\u0027t recognise that code. Is it grub4dos?\n\nAre you using latest version of grub4dos (which fixes problem with small/resident files).\n\nIf you have a file of less than approx 900 bytes on an NTFS system, it will use the resident attribute block and not a data block. Older versions of grub4dos could not write to the resident block, so you had to make sure the NTFS file was over 1K in size so that the file data was kept on data clusters. This shortcoming was fixed in later versions of grub4dos. The [current](http://grub4dos.chenall.net/categories/downloads/ \"External link\")0.4.6a 2017-05-15 is good.\n\nP.S. Why not look at the way Easy2Boot does it? It uses a similar technique but uses ImDisk.\n\nThe grub4dos batch file can be found in \\\\_ISO\\\\e2b\\\\grub\\\\RunWin8.g4b and the files in \\\\_ISO\\\\e2b\\\\firadisk.\n\n**Edited by steve6375, 20 May 2017 - 05:29 PM.**\n"
    },
    {
      "id": "203581",
      "timestamp": "2017-05-20T17:52:16+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e If you have a file of less than approx 900 bytes on an NTFS system, it will use the resident attribute block and not a data block.\n\nPlease read 900 as \"around 744 bytes\". ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)\n\nIt is not about being picky (which I am BTW), but what the heck ![:argue:](http://reboot.pro/public/style_emoticons/default/argue.gif) , experiments were made, exact or almost exact results were found and provided:\n\n[https://www.forensic...wtopic/t\u003d10403/](https://www.forensicfocus.com/Forums/viewtopic/t\u003d10403/ \"External link\")\n\n[http://reboot.pro/to...testers-wanted/](http://reboot.pro/topic/18315-easy2boot-v1-beta-install-windows-from-isos-on-a-flash-drive-beta-testers-wanted/ \"\")\n\nwe should stop using old and incorrect info.\n\nAnd FYI/for the record on 4 Kb sectored disks, the limit is 3776 bytes:  \n[https://www.forensic...wtopic/t\u003d10403/](https://www.forensicfocus.com/Forums/viewtopic/t\u003d10403/ \"External link\")\n\n[https://www.forensic...587693/#6587693](https://www.forensicfocus.com/Forums/viewtopic/p\u003d6587693/#6587693 \"External link\")\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "203584",
      "timestamp": "2017-05-20T22:43:01+00:00",
      "author": "Uneitohr",
      "content": "Thank you so much! It works as expected but I\u0027m a bit dissapointed of the fact that Windows 8/8.1/10 requires a productkey in xml in order to work. I\u0027ve decided to run the install script of imdisk manually though, instead of using autounattend.xml.\n\n"
    }
  ]
}