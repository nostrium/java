{
  "id": "10931",
  "title": "Can a wim image be bootet directly?",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "96600",
      "timestamp": "2010-04-02T11:43:43+00:00",
      "author": "MedEvil",
      "content": "Can a wim image also be bootet directly without loading it into ram?  \nI asked this before. Just checking if anything has changed.  \n\n:smile:   \n"
    },
    {
      "id": "96607",
      "timestamp": "2010-04-02T14:33:47+00:00",
      "author": "steve6375",
      "content": "a wim file is a compressed (and therefore encypted) file. So something would have to decompress it and put the decompressed data into Ram, so I don\u0027t see how it can be run \u0027directly\u0027 in the same way that a ZIP of gz file containing and .exe file cannot be run directly... :smile:   \n"
    },
    {
      "id": "96608",
      "timestamp": "2010-04-02T14:47:21+00:00",
      "author": "MedEvil",
      "content": "A wim file does not get uncompressed in ram before usage. The files it contains will, when loaded to be used.  \n\nIt\u0027s basicly the same as for NTFS compressed HDD images.   \n\nThe problem with wim is/was, that, unlike for CD and HDD images, there is no driver which can boot wim images directly. No idea why.  \n\n:smile:   \n"
    },
    {
      "id": "96610",
      "timestamp": "2010-04-02T15:02:30+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e A wim file does not get uncompressed in ram before usage. The files it contains will, when loaded to be used.  \n\u003e\n\u003e It\u0027s basicly the same as for NTFS compressed HDD images.   \n\u003e\n\u003e The problem with wim is/was, that, unlike for CD and HDD images, there is no driver which can boot wim images directly.\nTalking of people who ask questions for which they already know the answer..... ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)   \n[http://www.boot-land...?...c\u003d10933\\\u0026hl\u003d](http://www.boot-land.net/forums/index.php?showtopic\u003d10933\u0026hl\u003d \"External link\")  \n\n\u003e No idea why.\nThat\u0027s an easy one ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png) , because ***NO*** programmer (nor anyone presenting himself/herself as a programmer) has written it yet. :smile:  \n\n:smile:  \nWonko   \n"
    },
    {
      "id": "96613",
      "timestamp": "2010-04-02T15:20:26+00:00",
      "author": "steve6375",
      "content": "\u003e Can a wim image also be bootet directly **without loading it into ram** ?  \n\u003e\n\u003e :smile:\nYour question stated \u0027without loading it into ram\u0027.   \n\nNow if you mean - can all the files in an image file (e.g. img #1) inside a wim file be decompressed,**loaded into ram** and executed, then the answer is **yes** as that is what happens when WinPE loads the files into boot.wim as a ram drive.   \n"
    },
    {
      "id": "96619",
      "timestamp": "2010-04-02T15:56:10+00:00",
      "author": "MedEvil",
      "content": "Ok Steve let\u0027s get this thing settled.  \n\nram booting:  \nImage get\u0027s loaded into ram and then files get loaded into ram before execution.  \nRAM requirement is: RAM the OS needs + size of WIM file  \n\ndirect booting:  \nImage does **not** get loaded into ram, but files **still** get loaded into ram before execution.  \nRAM requirement is: RAM the OS needs  \n\nHence a direct booting 2GB XP based PE can make due with 128MB RAM. A ram booting 2GB XP based PE can not! It will need 2GB + 128MB RAM!  \n\nAll clearances removed? :smile:  \n\n:smile:   \n"
    },
    {
      "id": "96620",
      "timestamp": "2010-04-02T15:58:48+00:00",
      "author": "MedEvil",
      "content": "\u003e That\u0027s an easy one ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png) , because ***NO*** programmer (nor anyone presenting himself/herself as a programmer) has written it yet. :smile:\nAnd why not? :smile:   \n\n![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)   \n"
    },
    {
      "id": "96623",
      "timestamp": "2010-04-02T16:18:59+00:00",
      "author": "steve6375",
      "content": "I think so, so you are saying that the OS bootloader would have some sort of filter driver that would be able to access any file in the wim (rather like mounting a WIM file using Imagex /mountrw under an OS) and then run from that mounted folder/drive (drive C:?) and be able to write to those files as well (as required by an OS), without using any more RAM? Like mounting an image in the wim file as a virtual drive?   \n"
    },
    {
      "id": "96630",
      "timestamp": "2010-04-02T17:27:41+00:00",
      "author": "MedEvil",
      "content": "\u003e Like mounting an image in the wim file as a virtual drive?\nDon\u0027t know about the \u0027in the Wim file\u0027 part, but yes, just like mounting an image as a virtual drive.  \n\n:smile:   \n"
    },
    {
      "id": "96631",
      "timestamp": "2010-04-02T17:39:02+00:00",
      "author": "pscEx",
      "content": "What about wimfltr.sys?  \n\nIMHO it is a driver for the file system \u0027wim\u0027  \n\nPeter   \n"
    },
    {
      "id": "96632",
      "timestamp": "2010-04-02T17:51:32+00:00",
      "author": "steve6375",
      "content": "\u003e Don\u0027t know about the \u0027in the Wim file\u0027 part, but yes, just like mounting an image as a virtual drive.  \n\u003e\n\u003e :smile:\nA wim file can contain more than one image. It is a single-instancing file compression format. If you add a second version of say your XP OS to the same wim file, it will only add a few 100MB instead of adding all the same files again. Any VHD/mounted filesystem filter would probably be very slow.   \n"
    },
    {
      "id": "96636",
      "timestamp": "2010-04-02T18:24:55+00:00",
      "author": "vvurat",
      "content": "can boot i think so. i didnt test but can try. in theory. apply boot.wim to a local disk. use windows 7 dvd and select start up repair. also can maybe need to disable ramdisk boot service i dont know. i dont see a reason it cant. i think you asked about it can boot from a local disk as an installed system. what means directly?   \n"
    },
    {
      "id": "96642",
      "timestamp": "2010-04-02T19:12:40+00:00",
      "author": "felix",
      "content": "Like other disk image formats, a WIM file contains a set of files and associated filesystem metadata. However, unlike sector-based formats (such as .ISO, .CUE/.BIN used for CD and DVD images), WIM is file-based, which means that the smallest unit of information is a file. The primary advantages of it being file-based include hardware independence and single-instance storage of a file referenced multiple times in the filesystem tree.  \n\nAlthough the architecture is file-based, the files are nevertheless stored inside a single WIM database, thereby reducing the SMB overhead of opening and closing many individual files at that end of the data transfer. The cost of reading or writing many thousands of individual files on the local disk is negated by hardware and software-based disk caching as well as sequential reading and writing of the data.  \n\nWIM images need to be deployed to an existing volume or partition as the toolset does not create low-level disk structures such as partitions, nor does it format them.  \n\nJust as Wonko( jaclaz :smile: ) pointed, \"wimfltr.sys\" is an **32bit Windows only** driver so to load it you still need to load an PE envoirment first, and then use it to access the files inside the WIM.  \nThe only bootloader capable of accessing WIMs for now is Vista\u0027s and Win7\u0027s one.  \nAnd that\u0027s closed source MS code. Cracking it mean legal issues with MS.  \n\n@vvurat  \nHe means keeping files compressed on the WIM and chainload a driver to access them directly on the WIM without first unpacking them.  \n\nfelix   \n"
    },
    {
      "id": "96653",
      "timestamp": "2010-04-03T00:33:18+00:00",
      "author": "MedEvil",
      "content": "As far as i know and please correct me, if i\u0027m wrong. PE1 can boot from wim too. But only as long as the wim is loaded first into RAM. (Rambooting)  \nI the image is not first loaded into ram, it is not possible to boot from it.  \nNo idea why, i never tested it myself, that\u0027s just the way, i remember, what jaclaz told me.  \n\n\u003cbr /\u003e\n\n:smile:   \n"
    },
    {
      "id": "96654",
      "timestamp": "2010-04-03T00:48:41+00:00",
      "author": "Galapo",
      "content": "\u003e I the image is not first loaded into ram, it is not possible to boot from it.  \n\u003e No idea why, i never tested it myself, that\u0027s just the way, i remember, what jaclaz told me.\nI\u0027m sure that Jaclaz will have explained at the time that part of the reason is because WIM images lack a bootable filesystem. That\u0027s why a ramdisk needs to be created, the contents of the WIM loaded onto it, and then the ramdisk booted.  \n\nRegards,  \nGalapo.   \n"
    },
    {
      "id": "96660",
      "timestamp": "2010-04-03T01:41:29+00:00",
      "author": "MedEvil",
      "content": "And CD and HDD do not have a bootable file system?  \nOr are you talking about unpacking the contents of the wim to a ramdisk, like unpacking an archive, so that the compression will get lost?  \n\n\u003cbr /\u003e\n\n:smile:   \n"
    },
    {
      "id": "96662",
      "timestamp": "2010-04-03T02:41:27+00:00",
      "author": "Galapo",
      "content": "\u003e And CD and HDD do not have a bootable file system?\nDepends on the filesystem.  \n\n\u003e Or are you talking about unpacking the contents of the wim to a ramdisk, like unpacking an archive, so that the compression will get lost?\n\u003e a ramdisk needs to be created, the contents of the WIM loaded onto it, and then the ramdisk booted.\n\nRegards,  \nGalapo.   \n"
    },
    {
      "id": "96663",
      "timestamp": "2010-04-03T02:45:49+00:00",
      "author": "Galapo",
      "content": "You can read here for general information: [http://en.wikipedia...._Imaging_Format](http://en.wikipedia.org/wiki/Windows_Imaging_Format \"External link\").  \n\nMore specifically, take note of the following: WIM images need to be deployed to an existing volume or partition as the toolset does not create low-level disk structures such as partitions, nor does it format them.\n\nRegards,  \nGalapo.   \n"
    },
    {
      "id": "96675",
      "timestamp": "2010-04-03T12:49:01+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Just as Wonko( jaclaz :smile: ) pointed, \"wimfltr.sys\" is an **32bit Windows only** driver so to load it you still need to load an PE envoirment first, and then use it to access the files inside the WIM.\n\nDid I?   \n\nWhere? ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)  \n\n\u003cbr /\u003e\n\n:smile:  \nWonko   \n"
    }
  ]
}