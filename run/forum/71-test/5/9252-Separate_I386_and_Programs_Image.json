{
  "id": "9252",
  "title": "Separate I386 and Programs Image",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "80315",
      "timestamp": "2009-09-29T22:39:55+00:00",
      "author": "mint",
      "content": "Hello, this is my first post. Usually i\u0027m just looking around the forum and taking anything that I need. Buu, i want to share something back to the forum, something that useful to me and maybe other will find it useful too, or not ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \nSince english is not my native language, well...please be patient with me.  \n\nFor starter, I\u0027m still using BartPE and not WinBuilder, BSExplorer as my shell and Joshua\u0027s Preshell. My goal is to reduce my iso as small as possible so I can boot it on machine with 128 MB RAM using my USB. But since I have a lot of software that I use, it still exceed 150MB. Of course I can boot only the necessary software and keep the rest on my USB and only call them whenever I need. But I don\u0027t really like this way since I can\u0027t use my BSExplorer menu. I have to pick the software that I need manually. What I want is to separate I386 and Programs folder and keep my menu functional.  \nHere\u0027s what I do.  \n\nFirst, I need FileDisk plugin. Integrate filedisk driver with my bartpe and keep the filedisk.exe in my I386\\\\System32\\\\ folder.  \n\nSecond, I made script logon.cmd  \n\n\\[codebox\\]@ECHO OFF SETLOCAL ENABLEEXTENSIONS ECHO\\\\Detecting removable drives . . . SET \"TXT\u003d530054004F00520041\" (REG QUERY HKLM\\\\SYSTEM\\\\MOUNTEDDEVICES ) \\| (FIND \"%TXT%\" 9\\\u003eNUL 1\\\u003e\\\u00269 2\\\u003e\\\u00261 ) \\|\\| SET \"TXT\u003d550053004200530054\" FOR /F \"DELIMS\u003d\\\\: TOKENS\u003d0X3\" %%\\^\\^ IN ( \\\u0026#39;REG QUERY HKLM\\\\SYSTEM\\\\MOUNTEDDEVICES \\^\\| FIND \"%TXT%\"\\\u0026#39; ) DO ( VOL %%\\^\\^: 8\\\u003eNUL 1\\\u003e\\\u00268 2\\\u003e\\\u00261 \\\u0026\\\u0026 ( filedisk /mount 0 %%\\^\\^:\\\\Programs\\\\programs.iso /cd Y: logon.exe ) )\\[/codebox\\] Third, copy logon.cmd to I386\\\\System32\\\\ folder Fourth, change the registry so at boot it load logon.cmd before shell. \\[SetupReg.AddReg\\] 0x2, \"Setup\", \"CmdLine\", \"nu2shell.exe Logon.cmd\" ( or you can load setupreg.hiv using Registry Editor, go to Setup and edit CmdLine ) Fifth, make iso of Programs folder using UltraISO or MagicISO etc. Sixth, copy programs.iso to YourUSB\\\\Programs\\\\ Seventh, change all reference in your menu from X:\\\\Programs\\\\yoursoftware.exe to Y:\\\\Programs\\\\yoursoftware.exe. Or if you are using BSExplorer just like me, change %systemdrive% to Y: Eight, delete Programs folder and built your iso as usual. Copy to USB and boot. Now, a bit of explanation of logon.cmd \\[codebox\\]@ECHO OFF SETLOCAL ENABLEEXTENSIONS ECHO\\\\Detecting removable drives . . . SET \"TXT\u003d530054004F00520041\" (REG QUERY HKLM\\\\SYSTEM\\\\MOUNTEDDEVICES ) \\| (FIND \"%TXT%\" 9\\\u003eNUL 1\\\u003e\\\u00269 2\\\u003e\\\u00261   \n) \\|\\| SET \"TXT\u003d550053004200530054\"   \nFOR /F \"DELIMS\u003d\\\\: TOKENS\u003d0X3\" %%\\^\\^ IN (   \n\\\u0026#39;REG QUERY HKLM\\\\SYSTEM\\\\MOUNTEDDEVICES \\^\\| FIND \"%TXT%\"\\\u0026#39;   \n) DO (   \nVOL %%\\^\\^: 8\\\u003eNUL 1\\\u003e\\\u00268 2\\\u003e\\\u00261 \\\u0026\\\u0026 ( \\[/codebox\\]  \nThis part actually find out what drive my USB is assigned,whether it is D or E or F etc   \n( I found this script somewhere from the internet)  \n\n\\[codebox\\]filedisk /mount 0 %%\\^\\^:\\\\Programs\\\\programs.iso /cd Y:\\[/codebox\\]  \nThis part mount programs.iso in my USB as drive Y  \n\n\\[codebox\\]logon.exe\\[/codebox\\]  \nRun the shell, in my case it run logon.exe, that is Joshua\u0027s preshell  \n\nI know my explanation seem confusing, sorry for that :wink:   \nI don\u0027t know if someone already propose this method in this forum or whether someone have a better way or it has been discussed elsewhere, please forgive me then.  \nAnyway, I manage to boot only 40MB ISO PE ( no SATA and network support ) or 80MB ISO ( full), mount Programs folder, and run my software from BSExplorer menu as usual. And I can boot my PE to RAM in machine with 128Mb RAM.   \n"
    },
    {
      "id": "80337",
      "timestamp": "2009-09-30T01:25:58+00:00",
      "author": "Lancelot",
      "content": "\u003e I know my explanation seem confusing, sorry for that :wink:   \n\u003e I don\u0027t know if someone already propose this method in this forum or whether someone have a better way or it has been discussed elsewhere, please forgive me then.  \n\u003e Anyway, I manage to boot only 40MB ISO PE ( no SATA and network support ) or 80MB ISO ( full), mount Programs folder, and run my software from BSExplorer menu as usual. And I can boot my PE to RAM in machine with 128Mb RAM.\n\nHi mint,  \nnot confusing at all, this reminded me my old BartPE days (before meeting LiveXP), I did nearly same with you, only I packed Programs folder to .wim (Programs.wim \\*better compression\\*), packed i386 to a ntfs compressed image (bartpe.img \\*better compression\\*), used nu2 shell. Rest is very similar to your description.  \n\nThan I meet LiveXP, which has BootSDI and WimPack features that does the same more automatically and with more quality. Than I decide to migrate to LiveXP :wink:.   \n\nBootSDI.img (where i386 folder exists) of LiveXP can be minimum \\~53MB, +7MB DPs drivers\u003d60MB, +MMC\u003d69MB, Ntfs Compressed\u003d(not sure, lets say \\~60MB)  \n\nIf you are interested, Make some trials with LiveXP, I hope you like ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n"
    },
    {
      "id": "80354",
      "timestamp": "2009-09-30T05:37:11+00:00",
      "author": "mint",
      "content": "![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) Hi, many thanks for your information. I never tried LiveXP myself, I tried PicoXP and NaughtyPE. PicoXP run well but since most of my software cannot run on it, I never use it again. NaughtyPE on the other hand, always give me error when build. HojoPE script always give me error and I don\u0027t know why. I use winbuilder 072a then o77rc2 but none of it succeed. At first I suspect it have something to do Windows installation so I reinstall it. Still, nothing happened. PicoXp also use hojoPE and it didn\u0027t have problem.  \n:wink: So, I swith back to Geexbox.  \n\n![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png) So, I guess my method is not new huh??  \nWell, back to the board then and try to find something more to contribute.  \n\nAnd, i\u0027ll try LiveXP now. :wink:   \n"
    },
    {
      "id": "80437",
      "timestamp": "2009-09-30T16:32:42+00:00",
      "author": "Lancelot",
      "content": "\u003e Well, back to the board then and try to find something more to contribute.\nI am sure some users around will find the instruction you made already valuable for their usage, keep the good work ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n\n\u003e And, i\u0027ll try LiveXP now. ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)\nThe problems you had before seems to be related to the winbuilder version of the project, Since winbuilder is not backward compatible You need to have right winbuilder version to make builds of different projects.  \n\nLiveXP: We have a nice update button for this task, after a download from server, just click update button to get the right version of winbuilder for livexp (see [picture](http://i487.photobucket.com/albums/rr238/lancelotreal/wbtutorial/LiveXP_Updatewb.png \"External link\")) . We also have \"View LiveXP Changelog\" button for the news ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)   \n\nSee you around ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)   \n"
    },
    {
      "id": "80439",
      "timestamp": "2009-09-30T16:45:55+00:00",
      "author": "was_jaclaz",
      "content": "The idea isn\u0027t new, and actually (no offence intended, mind you ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)) there are \"better\" solutions than mapping the \"Programs\" drive to another Letter, namely use a NTFS filesystem for the \"main\" image and use a mountpoint in it for the \"Programs\" Volume to a directory named \"Programs\" ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png))  \n\nYou can find some hints/methds on 911cd forum, posts by users **pavel** and **sanbarrow** , here is a start:  \n[http://www.911cd.net...showtopic\u003d15843](http://www.911cd.net/forums//index.php?showtopic\u003d15843 \"External link\")  \n[http://www.911cd.net...showtopic\u003d12954](http://www.911cd.net/forums//index.php?showtopic\u003d12954 \"External link\")  \n\nBut your method is easy to follow and well detailed ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif), and is however a nice solution for booting on systems with a small amount of RAM.  \n\n![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \n\njaclaz   \n"
    },
    {
      "id": "80485",
      "timestamp": "2009-10-01T04:17:07+00:00",
      "author": "mint",
      "content": "![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png) Thank you for your kind word, sirs.  \n\nAnyway, again I know it\u0027s off topic, but anyone know a good GUI for Trid that work in BartPE or WinBuilder? As far as I know, the official GUI need .Net Framework and some other GUI I found made in Java. I don\u0027t want to add anything bulky as .Net or JVM.  \nI made GUI for it myself using Autoit, it\u0027s work but I wish to find a better replacement for it  \nFor those of you that doesn\u0027t know TRid, it\u0027s a small software that check the type of file that we don\u0027t know, whether the file is .exe or .dll or plain .txt. I found this software very helpful. Once, I got a customer with 80GB harddisk and all of the file extension in the harddisk have become .chk. It seem Windows Checkdisk did this and since all of the file has become 0001.chk, 0002.chk and so on, I don\u0027t know which file is document or photo etc. Then TRid come and save my job ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) , it scan entire harddsik and automatically give the file .chk its proper extension.  \nI use search in this forum and find nothing about TRid so maybe someone will find it helpful.  \nLink :[TRid Website](http://mark0.net/soft-trid-e.html \"External link\")  \n\nOh, and another question, is there working Nvidia or ATI driver? I know there are some but, correct me if i\u0027m wrong, it doesn\u0027t work on all graphic card?I want to have 3D Benchmark on my CD so maybe someone can point me to the right direction? I manage to use SLAX with Nvidia and ATI driver but then I can\u0027t found proper software to do 3D Benchmark.  \n\nLast, it is ok if I ask this question here? Or should I make another topic for it?   \n"
    },
    {
      "id": "80504",
      "timestamp": "2009-10-01T08:13:28+00:00",
      "author": "was_jaclaz",
      "content": "Yes, TRid is a very, very nice and useful app in data recovery. ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \n\nExactly because .Net and Java suck (just meaning that they need a looot more bytes than needed) the AutoIT thingy appears to me a very good idea. :wink:   \n\nWhy don\u0027t you publish your AutoIT script?  \n\nIt is possible that some member may be able to help you in refining it. :wink:  \n\nAbout the 3D/driver thingy, really cannot say, you might want to start a new thread here:  \n[http://www.boot-land...hp?showforum\u003d70](http://www.boot-land.net/forums/index.php?showforum\u003d70 \"External link\")  \n\n![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)  \n\njaclaz   \n"
    },
    {
      "id": "80512",
      "timestamp": "2009-10-01T09:25:14+00:00",
      "author": "maanu",
      "content": "well if you use dipe (driver import pe ) you can install graphics driver while being in pe with 3 methods .   \n\ni ll check the other tool , i remember i have seen a portable of it somewhere which had a launcher (which bypass the .net framework need )  \n\nedit :   \n\nfrom this page ,   \n\n```\nhttp\u0026#58;//mark0.net/soft-tridnet-e.html\n```\n\n\u003cbr /\u003e\n\n\u003e Upon start TrIDNet load all definitions at once from the file TrIDDefList.TRS. If that file doesn\u0027t exist, or a Rescan is requested, TrIDNet will in turn load all the defs one by one from the original XML files; once the loading and parsing is completed, the entire TrIDDefList.TRS file is (re)written. This way, next time TrIDNet is started it will load all the defs in an instant.\n\nhere is what i did .  \n\n1. downloaded the main exe.  \n2. downloaded xml archive   \n3. extracted the xml archive in same directory as the gui .  \n4. when i fired up gui , it told me that no declinations were loaded . i clicked on \" rescan \" . and it loaded the all of them right.   \n5. step # 4 produced a **TrIDDefList.TRS** file which is 3.8 MB .   \n6. now i thought it has all the deffinations stored now . when i re open gui ,it again told me that no deffinations were found . but the details i quoted above say that i once the .TRS file is created then there will be no need for rescanning ?   \n\ncan you shed some light on it plz ?   \n\noh and by the way im at 2k3 sp2 .and i have no .net framework installed but it executed all right . may be 2k3 already has the core files by default ?   \n"
    },
    {
      "id": "80518",
      "timestamp": "2009-10-01T10:13:08+00:00",
      "author": "mint",
      "content": "@ Jaclaz  \nWell, I\u0027m a bit embarassed to share it. But u\u0027r right, maybe someone will refine it. So here it is :[http://www.boot-land...?showtopic\u003d9274](http://www.boot-land.net/forums/index.php?showtopic\u003d9274 \"External link\")  \nOh, and it\u0027s made using Autohotkey, i was wrong when I say I\u0027m using Autoit.  \n\n@ Maanu  \nYes, i tried with Driver import and try using driver from Windows instalation and from DriverPack. None of it work, I don\u0027t know why. I\u0027m using an old graphic card, GeForce MX4000.  \nAbout TRid, i\u0027m posting my own GUI but I really hope there is better replacement ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n"
    },
    {
      "id": "80527",
      "timestamp": "2009-10-01T11:29:45+00:00",
      "author": "sanbarrow",
      "content": "Hi Mint - thanks for mentioning Trid. Never heard of it before but its very useful with PE.  \nThe .net GUI is nice and easy ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n"
    },
    {
      "id": "80535",
      "timestamp": "2009-10-01T12:09:32+00:00",
      "author": "mint",
      "content": "@ sanbarrow  \nYou welcome, and yes it is useful, save my jobs once ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)   \n\n@ maanu  \nI\u0027m afraid i\u0027m in the dark too and can\u0027t shed some light. I never use the official GUI since most of my customer\u0027s computer have no .NET installed so its pretty much useless. I use my own GUI to run it.  \nMaybe someone else know?   \n\nAnd I found some interesting tool here [http://ndff.hotbox.ru/en/index.html](http://ndff.hotbox.ru/en/index.html \"External link\")  \nIt said it can search file in NTFS volume very fast, haven\u0027t tried it though.   \n"
    },
    {
      "id": "80536",
      "timestamp": "2009-10-01T12:12:35+00:00",
      "author": "maanu",
      "content": "\u003e And I found some interesting tool here [http://ndff.hotbox.ru/en/index.html](http://ndff.hotbox.ru/en/index.html \"External link\")  \n\u003e It said it can search file in NTFS volume very fast, haven\u0027t tried it though.\n\nis it similar to this one ?  \n\n```\nhttp\u0026#58;//www.voidtools.com/\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "80539",
      "timestamp": "2009-10-01T12:24:17+00:00",
      "author": "was_jaclaz",
      "content": "\u003e And I found some interesting tool here [http://ndff.hotbox.ru/en/index.html](http://ndff.hotbox.ru/en/index.html \"External link\")  \n\u003e It said it can search file in NTFS volume very fast, haven\u0027t tried it though.\n\n[http://www.boot-land...?showtopic\u003d2898](http://www.boot-land.net/forums/index.php?showtopic\u003d2898 \"External link\")  \n[http://www.boot-land...?...c\u003d2898\\\u0026st\u003d6](http://www.boot-land.net/forums/index.php?showtopic\u003d2898\u0026st\u003d6 \"External link\")  \n\n[http://www.boot-land...?showtopic\u003d6848](http://www.boot-land.net/forums/index.php?showtopic\u003d6848 \"External link\")  \n:wink:  \n\n![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)  \n\njaclaz   \n"
    },
    {
      "id": "80541",
      "timestamp": "2009-10-01T12:25:11+00:00",
      "author": "mint",
      "content": "![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) Ummm, i have no idea.  \nBut i think it worked on different principle. NDFF search the file by directly accessing MFT while Everything Search Engine build indeks database first then use that index to search for the file.   \nI just found NDFF a few hours ago so i haven\u0027t tried it yet. I don\u0027t know which one is faster. I usually use Ransack search though.   \n"
    },
    {
      "id": "80543",
      "timestamp": "2009-10-01T12:30:22+00:00",
      "author": "mint",
      "content": "@ jaclaz  \n![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) Ahaha...i\u0027m sorry. I thought no one knew about it yet.  \nSo, how it is? Really fast? Does it have a GUI? ( yea...i\u0027m not a command line guy :wink: )   \n"
    },
    {
      "id": "80546",
      "timestamp": "2009-10-01T12:35:22+00:00",
      "author": "was_jaclaz",
      "content": "\u003e @ jaclaz  \n\u003e :wink: Ahaha...i\u0027m sorry. I thought no one knew about it yet.  \n\u003e So, how it is? Really fast? Does it have a GUI? ( yea...i\u0027m not a command line guy :wink: )\n\n* It\u0027s really, really fast ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)\n* It has no GUI, and yes, I don\u0027t care about it, since I ***am*** a command line guy (please read as \"dinosaur\" :wink:)\n\n\u003cbr /\u003e\n\n\u003cbr /\u003e\n\n:wink:  \n\njaclaz   \n"
    },
    {
      "id": "80549",
      "timestamp": "2009-10-01T12:45:00+00:00",
      "author": "mint",
      "content": "\u003e \u003cbr /\u003e\n\u003e\n\u003e * It\u0027s really, really fast ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)\n\u003e * It has no GUI, and yes, I don\u0027t care about it, since I ***am*** a command line guy (please read as \"dinosaur\" :wink:)\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003e :wink:  \n\u003e\n\u003e jaclaz\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003cbr /\u003e\n\n\u003cbr /\u003e\n\nBack to Autohotkey then, and try to build some \"nice\" and working GUI. :wink:   \n"
    }
  ]
}