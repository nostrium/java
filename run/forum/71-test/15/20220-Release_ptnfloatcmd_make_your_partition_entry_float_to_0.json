{
  "id": "20220",
  "title": "[Release] ptnfloat.cmd, make your partition entry float to #0",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "189303",
      "timestamp": "2014-12-19T15:33:19+00:00",
      "author": "Wonko the Sane",
      "content": "For NO apparent reason ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif), if not to provide a temporary replacement for plutonium ![:w00t:](http://reboot.pro/public/style_emoticons/default/w00t.gif) :wink::  \n[http://reboot.pro/to...files/?p\u003d189253](http://reboot.pro/topic/20217-how-to-addintegrate-wow64-feature-within-image-index-2-of-64-bit-bootwim-of-win81u3win10-with-the-help-of-cmd-and-script-files/?p\u003d189253 \"\")  \n\n\u003cbr /\u003e\n\n\u003cbr /\u003e\n\n\u003e Typical XYZ problem, again. ![:frusty:](http://reboot.pro/public/style_emoticons/default/frusty.gif)  \n\u003e [http://homepage.ntlw...red-banana.html](http://homepage.ntlworld.com./jonathan.deboynepollard/FGA/put-down-the-chocolate-covered-banana.html \"External link\")  \n\u003e\n\u003e You want to swap/reorder partitions?  \n\u003e\n\u003e Good :smile:, then ask \"How can I swap partitions?\", do not ask \"How can I gather some plutonium and build an interstellar spacecraft that will allow me to make contact with an alien race that will have the technology to go back in time and swap partitions?\" ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)\n\n\u003cbr /\u003e\n\nfind attached the ptnfloat.cmd, yet another half-@§§ed batch by jaclaz, making use of Olof\u0027s rawcopy:  \n[http://www.ltr-data.se/opencode.html/](http://www.ltr-data.se/opencode.html/ \"External link\")  \nand (hopefully ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)) working also with it\u0027s 64 bit version on 64 bit systems without WOW64 (obviously only briefly tested on 32 bit system - XP SP2 - and COMPLETELY UNLIKE tested on any stupid 64 bit OS).  \n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)  \nWonko  \n\n#### Attached Files {#attach_wrap}\n\n* [![Attached File](http://reboot.pro/public/style_extra/mime_types/zip.gif)](http://reboot.pro/index.php?s\u003d7f4fc1a88ef7cf76a06bbe5d3d9cb223\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d15204 \"Download attachment\") [**ptnfloat_001.zip**](http://reboot.pro/index.php?s\u003d7f4fc1a88ef7cf76a06bbe5d3d9cb223\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d15204 \"Download attachment\") **1.26KB** 364 downloads\n\n"
    },
    {
      "id": "189305",
      "timestamp": "2014-12-19T16:19:47+00:00",
      "author": "devdevadev",
      "content": "*Can I edit*  \nECHO rawcopy 0 512 parttable.bin \\\\\\\\.\\\\Physicaldrive%PHDrive%  \n*to*  \nrawcopy 0 512 parttable.bin \\\\\\\\.\\\\Physicaldrive%PHDrive%  \nBoth 32-bit and 64-bit **\u0027rawcopy.exe\u0027** are same in both size and name so How I can keep both along with **\u0027ptnfloat.cmd\u0027**to work ?  \nI think I have to modify my \u0027Mount_Boot_Index.cmd\u0027 in such a way so that It copy 32-bit \u0027rawcopy.exe\u0027 to root of 32-bit \u0027boot.wim\u0027 and 64-bit \u0027rawcopy.exe\u0027 to root of 64-bit \u0027boot.wim\u0027  \n*Thanks \\\u0026 Regards....*\n\n"
    },
    {
      "id": "189306",
      "timestamp": "2014-12-19T16:32:56+00:00",
      "author": "Wonko the Sane",
      "content": "There is only one way to find out, isn\u0027t it? ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)\n\n\u003cbr /\u003e\n\nSpoiler  \n![8just_do_it.jpg](http://koifishcommunications.com/wp-content/uploads/2009/02/8just_do_it.jpg)\n\n\u003cbr /\u003e\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)  \nWonko\n\n"
    },
    {
      "id": "189307",
      "timestamp": "2014-12-19T17:09:49+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Both 32-bit and 64-bit **\u0027rawcopy.exe\u0027** are same in both size and name so How I can keep both along with **\u0027ptnfloat.cmd\u0027**to work ?  \n\nNo, they are NOT the SAME size, the 32 bit is 24736 bytes, the 64 bit version is 25248, at least here, and strangely enough an executable file can often (please read as almost always) be renamed and/or placed in a different folder, even if it has a same name.\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "189308",
      "timestamp": "2014-12-19T17:58:08+00:00",
      "author": "devdevadev",
      "content": "And finally I removed following lines within from **\u0027ptnfloat.cmd\u0027** :smile:\n\n```\n::- Can you find WHICH line needs to be edited?\n::- |\n::-\\|/\nECHO rawcopy 0 512 parttable.bin \\\\.\\Physicaldrive%PHDrive%\n::-/|\\\n::- |\n::- Hmmm, if you got here, you did not find it :(.\n```\n\nI think now I got concept of your .cmd file....... :wink:\n\nYour **\u0027ptnfloat.cmd\u0027** is very nice but I have to modify it in order to fit into my goal. ![:rolleyes:](http://reboot.pro/public/style_emoticons/default/rolleyes.gif)\n\nI want to **SET PHDrive\u003d%USBDRIVENUMBER%** if only one USB Drive is connected in the System otherwise LIST all Removable USB Drives in order to choose desired one.....\n\nSo please update in such a way so that you .cmd LIST all **PHdrive/USBdrive** so that we can choose drive number correctly....\n\nRegards....\n\n"
    },
    {
      "id": "189309",
      "timestamp": "2014-12-19T18:13:28+00:00",
      "author": "devdevadev",
      "content": "\u003e No, they are NOT the SAME size, the 32 bit is 24736 bytes, the 64 bit version is 25248, at least here, and strangely enough an executable file can often (please read as almost always) be renamed and/or placed in a different folder, even if it has a same name.\n\nX:\\\\rawcopy_x86.exe\n\nX:\\\\rawcopy_x64.exe\n\nX:\\\\ptnfloat.cmd\n\nWill \u0027ptnfloat.cmd\u0027 execute following code line successfully in both 32-bit and 64-bit WinPE environment if I keep all above 3 files in the same location ?\n\n```\nrawcopy 0 512 \\\\.\\Physicaldrive%PHDrive% parttable.bin\n```\n\nI know I can test it but currently I don\u0027t have 64-bit WinPE in order to test....So PLEASE clear this point...\n\nOr It is compulsory to keep name of \u0027rawcopy.exe\u0027 as \u0027rawcopy.exe\u0027 in order to run above command successfully ?\n\nRegards....\n\n"
    },
    {
      "id": "189311",
      "timestamp": "2014-12-19T18:38:33+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Your **\u0027ptnfloat.cmd\u0027** is very nice but I have to modify it in order to fit into my goal. ![:rolleyes:](http://reboot.pro/public/style_emoticons/default/rolleyes.gif)\n\nWell, if ***you*** have to modify it, then ***you*** modify it...  \n\n\u003e ***I want*** to **SET PHDrive\u003d%USBDRIVENUMBER%** if only one USB Drive is connected in the System otherwise LIST all Removable USB Drives in order to choose desired one.....  \n\u003e ***So*** please update in such a way so that you .cmd LIST all **PHdrive/USBdrive** so that we can choose drive number correctly....\n\n... sure, *do wait* for it.  \n\n\u003e I know I can test it but currently I don\u0027t have 64-bit WinPE in order to test....So PLEASE clear this point...\n\nWhich is good :smile: as I NEVER had a 64-bit WinPE, I have not one currently and do not expect to have one in the foreseeable future, which makes a nice two of us without the possibility of testing \\*anything\\* in a 64 bit WinPE, the trifling difference being that ***you*** want to build a 64 bit WinPE and there are very few things ***I*** could care less about than building a 64 bit WinPE ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif).  \n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)  \nWonko\n\n"
    },
    {
      "id": "189314",
      "timestamp": "2014-12-19T19:30:55+00:00",
      "author": "devdevadev",
      "content": "Is there any alternative of following **RMPARTUSB.exe/Syntax** which will also list DRIVE number of \u0027Removable USB Drives\u0027 in 64-bit WinPE without \u0027Wow64\u0027 ?\n\n```\nrmpartusb% LIST | find \"DRIVE\"\n```\n\nRegards..\n\n"
    },
    {
      "id": "189315",
      "timestamp": "2014-12-19T19:32:01+00:00",
      "author": "devdevadev",
      "content": "```\n@ Sectors backup \u0026 restore\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nBOOTICE [DEVICE] /sectors [/backup /restore] [parameters]\n\n/backup  \u003e\u003e Backup sectors to a file.\n/restore \u003e\u003e Restore sectors from a file.\n/lba\u003dn   \u003e\u003e Specify the start sector LBA.\n/sectors\u003dn \u003e\u003e Sectors to backup or restore.\n/file\u003dxxx \u003e\u003e File name. Could be a rel. path or full path name.\n/keep_dpt \u003e\u003e Keep disk signature and partition table untouched.\n/keep_bpb \u003e\u003e Keep BPB untouched.\n```\n\nI want to Restore MBR from LBA33 so what Syntax should I use ?\n\n```\nbootice.exe /DEVICE\u003d%drive%: /sectors /restore /lba\u003d33 /sectors\u003d1SEC\n```\n\nIs it correct ?\n\nRegards...\n\n"
    },
    {
      "id": "189332",
      "timestamp": "2014-12-20T14:43:02+00:00",
      "author": "devdevadev",
      "content": "\u003e ... sure, *do wait* for it.\n\nThanks in Advance......I am just waiting for Santa Christmas Gift...... :smile:\n\n"
    },
    {
      "id": "189337",
      "timestamp": "2014-12-20T16:38:15+00:00",
      "author": "Wonko the Sane",
      "content": "Hmmm, ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif), maybe next year, your Christmas Gift, this year, it is likely to come not from Santa Claus/Saint Nicholas but rather from Krampus ![:w00t:](http://reboot.pro/public/style_emoticons/default/w00t.gif) ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif):\n\n[http://en.wikipedia.org/wiki/Krampus](http://en.wikipedia.org/wiki/Krampus \"External link\")\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "189366",
      "timestamp": "2014-12-22T13:22:51+00:00",
      "author": "devdevadev",
      "content": "I have copied both \u0027ptnfloat.cmd\u0027 and \u0027rawcopy.exe\u0027 within same folder and then I have changed  \n*ECHO rawcopy 0 512 parttable.bin \\\\\\\\.\\\\Physicaldrive%PHDrive%*  \nto  \n*rawcopy 0 512 parttable.bin \\\\\\\\.\\\\Physicaldrive%PHDrive%*  \nAnd then open \u0027ptnfloat.cmd\u0027 and type 1 and then type 1 and then type \u0027Y\u0027 but \u0027ptnfloat.cmd\u0027 gives following error message and do not make partition 1 the first partition on the on \\\\\\\\.\\\\PhysicalDrive1. The Disk Number of my 3 Partitioned \u0027Removable USB Drive\u0027 is 1.  \nI could not understood why I got this error each time. Please Help....  \nRegards...  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![Errir.png](http://reboot.pro/uploads/monthly_12_2014/post-65263-12648_thumb.png)](http://reboot.pro/uploads/monthly_12_2014/post-65263-12648.png \"Errir.png - Size: 26.38KB\"){#ipb-attach-url-15207-0-76728100-1676066493}\n\n"
    },
    {
      "id": "189368",
      "timestamp": "2014-12-22T13:41:08+00:00",
      "author": "Wonko the Sane",
      "content": "Oh my ![:frusty:](http://reboot.pro/public/style_emoticons/default/frusty.gif).  \n\nFORGET about the batch.\n\nOpen a command prompt, navigate to where you rawcopy.exe is.\n\nThen type in it:\n\n```\nrawcopy -v 0 512 \\\\.\\Physicaldrive1 parttable.bin\n```\n\n\\[ENTER\\]  \nWhat happens?  \nNow type:\n\n```\nrawcopy -v 0 512 parttable.bin \\\\.\\Physicaldrive1\n```\n\n\\[ENTER\\]  \nWhat happens?\n\nThen type:\n\n```\nrawcopy /?\n```\n\nand see if any of the other options are needed, in your environment (whatever it is).\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "189370",
      "timestamp": "2014-12-22T14:16:40+00:00",
      "author": "devdevadev",
      "content": "Where I am doing wrong ?  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![Error1.png](http://reboot.pro/uploads/monthly_12_2014/post-65263-0-50526700-1419257307_thumb.png)](http://reboot.pro/uploads/monthly_12_2014/post-65263-0-50526700-1419257307.png \"Error1.png - Size: 287.23KB\"){#ipb-attach-url-15208-0-76735600-1676066493}\n* [![Usage.png](http://reboot.pro/uploads/monthly_12_2014/post-65263-0-79837700-1419257784_thumb.png)](http://reboot.pro/uploads/monthly_12_2014/post-65263-0-79837700-1419257784.png \"Usage.png - Size: 54.41KB\"){#ipb-attach-url-15209-0-76742000-1676066493}\n\n"
    },
    {
      "id": "189373",
      "timestamp": "2014-12-22T15:40:01+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Where I am doing wrong ?\n\nYou are not \"doing wrong\", for some reasons (unknown to me) your current environment/Operating System (also unknown to me) denies access to the device \\\\\\\\.\\\\PhysicalDrive1, obviously since the first command failed to produce the parttable.bin file, second command fails because it is missing the source.\n\nAs you can see in the second screenshot, the syntax used is the same one suggested by the \"help\" of the program (and BTW it works fine here) so it is possible that \\*something\\* in your environment is blocking access to the device.\n\nSince it works here and Olof tends to write good, working programs, it is more likely that there is something on your specific machine/environment, you may try (AT YOUR OWN RISK) to add the -l switch and see what happens.\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "189374",
      "timestamp": "2014-12-22T15:47:22+00:00",
      "author": "devdevadev",
      "content": "I am currently using \u0027Win 10 Build 9879\u0027. May it be the reason for not working ? Does \u0027rawcopy.exe\u0027 support Win 7/8/8.1/8.1U1 ?\n\nRegards...\n\n"
    },
    {
      "id": "189378",
      "timestamp": "2014-12-22T16:13:06+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I am currently using \u0027Win 10 Build 9879\u0027.\nWHY? ![:w00t:](http://reboot.pro/public/style_emoticons/default/w00t.gif)  \n\nWhat you recently posted (just as a reminder ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif)):  \n[http://reboot.pro/to...files/?p\u003d189262](http://reboot.pro/topic/20217-how-to-addintegrate-wow64-feature-within-image-index-2-of-64-bit-bootwim-of-win81u3win10-with-the-help-of-cmd-and-script-files/?p\u003d189262 \"\")  \n[http://reboot.pro/to...files/?p\u003d189264](http://reboot.pro/topic/20217-how-to-addintegrate-wow64-feature-within-image-index-2-of-64-bit-bootwim-of-win81u3win10-with-the-help-of-cmd-and-script-files/?p\u003d189264 \"\")  \n\n\u003e May it be the reason for not working ?\nIt may be.  \n\n\u003e Does \u0027rawcopy.exe\u0027 support Win 7/8/8.1/8.1U1 ?\nTry them and see. ![:frusty:](http://reboot.pro/public/style_emoticons/default/frusty.gif)  \n\n\u003cbr /\u003e\n\n\u003cbr /\u003e\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)  \nWonko   \n"
    }
  ]
}