{
  "id": "20646",
  "title": "REQUEST : Thoughts on Partitioning ( Hybrid-MBR / GPT ) - Stacked Partition Grid",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "194335",
      "timestamp": "2015-08-05T19:12:25+00:00",
      "author": "S466531257BOSS",
      "content": "To roll it up from bottom to top ( copied from [here](http://reboot.pro/topic/20448-does-uefi-booting-read-the-mbr-or-pbr/#entry194328 \"\") )  \nYes, i am familiar with hybrid mbrs efi uefi duet tianocore also and especially rodsbooks practical notes on that .  \nFor testing purposes a just big enough 80GB SSD ( Intel X-18M G1 80 GB SSD - original one from the 2730p ) ;  \nIf it survives the task - next stage is on the 2740p which runs a samsung evo 840 1TB ; next stage on the 2760p with samsung evo 850 1TB ; If it is possible to create the setup stable i am willed to spend a ( so-to-say refurbished then ) 3TB Fixstars ( possible in Q2 next year ) ;  \nTesting work also for testing on 1.5TB and 3TB Drives ( mechanical WD i think 32M Cache ) in forefront for HDD\u0027s 4TB and 8 TB external SATA-600 USB-3 and as sas raid 4 x 8TB but not as hardware raid, that would be total nonsense and even myself accpets that as a no-go.  \nOh sorry, the NoteBooks are Convertibles with digitizer HP CompaQ EliteBook 2730p \\| 2740P \\| 2760P - as an alternative a ruggedized Panasonic ToughBook CF-30 and a CF-31 later when worn-out will be the basement for the next years for the 2.5 inch drives ( the problem with the elitebooks is they need 1.8\u0027\u0027 (7mm) drives ; its a bit cozy in there . CPU Classes vary from Core-Duo to i5 . RAM is varying from 2 to 8 GB .  \nThe EliteBooks have HP-Customized (U)EFI from version 1.7 ( 2730p alternatively modded variant available with 2.0 but needs time and concentration due to TPM-Binding ) others are 2.0 2.1 2.10 2.11 ; EliteBooks are CSM-enabled and support Intel TXT \\| CIRA \\| SecureBoot model-dependent ; the ToughBooks are a bit more complicated ( GPS-Lock and some other fancy remote-stuff ) and the CF-30 runs EFI (1.3/1.7 ? AMI-EFI-CSM-Bios ) --- in short --- 5 mixed CSM/EFI/UEFI - Setups  \n--- and the wish to run and prepare the same drives also on bios-based systems ( Dell Poweredge 2900 (broken right now ) and 2950 ESXI5 \\| Windows Server 2008 \\| Windows Hyper-V 2012 \\| Ubuntu Server Lucid \\| Precise \\| Trusty \\| Fedora 21 WorkStation \\| Server and CentOS 6 and Debian Jessie untouched for month ) --- so in short --- i need interchangeability , mostly because i try to avoid to sit anymore than necessary right besides these monsters - i would estimate around 100 to 115dB noise of Wind on a beaufort scale around 6 -- NEVER SMOKE ASIDE ! )  \nThe ToughBook runs fine/excellent with a hybrid-mbr in any variant. It runs Leopard / Fedora 21 WorkStation and Ubuntu Precise Desktop Which is the main reason for using a hybrid mbr as long as i haven\u0027t found more simple ways to run a hackintosh ( especially interested in Snow Leopard / Mavericks on the EliteBooks if Posssible ).  \nThe eliteBooks by the way are the most hairy ones in terms of bitching around when something changes ( It is more complicated to avoid that the books save em\u0027self beware of potential problems which there might could happen then to break them at will / at least when using the hardware-assisted tpm/credential/fingerprint-combo in combination with amt-assist and remote-storage ) --- however in short --- hybrid mbr because of hackintosh .  \nThe optimum in terms of disk layout i can think of  \n1. ESP ( EFI system Partition )  \n: of 8GiB up to 32GiB  \n: ( Offset and Sector-Alignment 63 ( 32KB / 512 Byte/Sector ))  \n--- which is already problematic with external HDD 1.5TB USB-3 cases because i haven\u0027t found a firmware that allows me to handle that directly and the 3 TB are Adavanced Format ; So a better solution would be circumventing the start at Sector 63 for hybrid MBR problemless booting in bios mode ; any ideas/informations welcome  \nThe ESP also  \n--- as the first hybrid mbr partition  \n--- active  \n--- containing any boot loaders  \n--- easy2Boot (G4D)  \n--- besides  \n: Clover / Chameleon / grub4dos earlier versions / refit / refind / grub2 / burg / ntldr / bootmgr ( except grub2 stage 1.5 - that one is appended as separate gpt partition and mirrored as bios-boot partition )  \n2. So to say in the inbetween of the first active primary hybrid mbr which is identical to the ESP  \n--- an hybrid mbr extended partition  \n--- with fixed positions  \n--- and reserved space between the EP and the first logical  \n--- to secure that ( due to the fact an MBR-EP handles PBR listwise ) the corruption is as minimal as possible just in case ;  \n--- followed by a copy of the EP ( 0x88 ) which is unknown to the hybrid mbr and set with enough offset to the ExtendedPartition-Definition  \n--- followed by all logical partitions pre-reserved in stackings of  \n: 8 GB + reserved-space-up-to 8 GiB  \n: 16 GB + reserved-space-up-to 16 GiB  \n: 32 GB + reserved-space-up-to 32 GiB  \n: 64 GB + reserved-space-up-to 64 GiB  \netc. ( just to be able to calculate the offsets in case of repairing tables / recovery )  \n--- if you ask why --- BECAUSE ( in the logical ones interchangeable SetUps / Installed Versions of mostly Linux-LVM2-Container-Stuff awaits editing / direct-booting / cloning / deploying / virtualizing / etc. via Network/SDHC/CompactFlash/VHD(1/RAW)/DVD/BluRay )  \nSo just in case one can follow - this is all about having a fixed grid that can be calculated in disaster case by hand and also can be setup dependent on a fixed set of hardware for storage/backup/deployment-purposes  \nHowever  \nThe last logical-partition is the grub-stage 1.5 / the full grub2 --- aka the bios-boot which can already and should be runable in any mode (bios/csm/efi) problem is sometimes it does / sometimes not  \n--- so right now i am staggering with gaining the feel of when something will definately go to break ;  \n3. After the extended partition (well-defined as you might have understood right now and so far according to Steves notes on Easy2Boot )  \n--- the hybrid mbr  \n--- JUST contains the ESP as first primary  \n--- and the extended partition  \n--- containing a plaintext-copy of the EP-PBR-LIST  \n--- followed by the Logicals  \n--- followed and therefore ended/closed by the grub2 bios-boot partition  \n... and here it comes : the icing on the top of the fire-pickle-carrying water-rock-climbing-deep-sky-diver drowning under it :  \n--- all that is followed by the MSR ( MicroSoft Reserved Partition which can be 32MiB if just followed by one 16GiB GPT-Partition or 128 MiB for any bigger amounts following )  \n... so the MSR states the border between the (hybrid-)MBR-Portion and the GPT-Piss-In-Rest-Portions of the drive .  \n... I know, i know you might think i am crazy and one could do that easier ; Well if so please show me the way . If not feel free to tinker with it .  \nThe main problem right now is the layout of the grid to specify where the partitions have to start and end so that  \n--- enough space is inbetween  \n--- the offsets accord to the rules given by MBR \\| GPT \\| BIOS \\| EFI and the necessities of the bootloaders  \n--- and the offsets have to fit into the possible formats ( 512Byte/2kb/AF or conditions like having the ESP fat28/32 with 4k-clusters etc. )  \nAll in all its simple , but to create it practically has to be done step-by-step and though almost all parts behave like they should if used on their own it is problematic because i haven\u0027t found the least common denominator for the partition-splitting.  \nAnd also i am not sure about things like in fact Mac OS X as stated on rodsbook has a definitive problem with hybrid-mbr protected ee-partition-type additionally ; it is true but i haven\u0027t found an alternative yet that is untouched by other operating systems ( besides x88 which is recognized by some os but doesn\u0027t bother them ) .  \nWell, that\u0027s it in a round-up for now.  \nWhen time comes - i\u0027ll try to essay out the conclusions and spend some drawings and attaching some partition tables and configurations; Until then : Maybe one has a deeper knowledge and an interest in it and is willed to help out with some thoughts to give the cuddle-muddle in my head based on some hundred tested variants until now a better shape .  \nYOU DID IT ! I AM PROUD OF YOU !! YOU BEHAVED BRAVE !!!  \nNow forget about all that crap, go get a girl or a drink or show your kid why you have that funny unexplainable look on your face ...  \nTHANKS FOR YOUR INTEREST .  \nS466531257 BOSS  \nPAETH CLAUDIUSRAPHAEL  \nP.S.: You are save now ... That was the last post from my side, mostly because  \n: Reboot.Pro tells me \u0027 You can make 1 more posts until A minute ago. \u0027 ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif)  \nBURN AFTER READING .\n\n"
    }
  ]
}