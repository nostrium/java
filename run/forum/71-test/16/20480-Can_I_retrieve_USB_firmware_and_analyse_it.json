{
  "id": "20480",
  "title": "Can I retrieve USB firmware and analyse it",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "192530",
      "timestamp": "2015-05-11T00:38:13+00:00",
      "author": "Louis XV",
      "content": "Recently, my friend gave me a special/interesting USB flash drive which separate 2 parts: 1 as CD-Drive, 1 as hidden part (you can\u0027t access it normally). I want to find out how it works. Should I retrieve the firmware? How can I do? Do we have any tools to analyse?\n\n"
    },
    {
      "id": "192531",
      "timestamp": "2015-05-11T06:35:35+00:00",
      "author": "netlord",
      "content": "Well\n\nfirst of all you have to know what chip youre using with this stick.\n\nDownload [http://www.antspec.com/usbflashinfo/](http://www.antspec.com/usbflashinfo/ \"External link\") and identify your chip.\n\nThen we can continue....\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "192537",
      "timestamp": "2015-05-11T10:23:26+00:00",
      "author": "Wonko the Sane",
      "content": "Just for the record, there is nothing \"special\" about that USB stick (though it may be interesting nonetheless) as MOST modern USB stick controllers provide that option.\n\nTo identify surely the controller I advice to use 3 (three) different tools, see:\n\n[http://reboot.pro/to...gb/#entry190777](http://reboot.pro/topic/20337-pendrive-samsung-0011-7788-64-gb-to-8-gb/#entry190777 \"\")\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "192538",
      "timestamp": "2015-05-11T16:37:06+00:00",
      "author": "Louis XV",
      "content": "\u003e Just for the record, there is nothing \"special\" about that USB stick (though it may be interesting nonetheless) as MOST modern USB stick controllers provide that option.\n\u003e\n\u003e To identify surely the controller I advice to use 3 (three) different tools, see:\n\u003e\n\u003e [http://reboot.pro/to...gb/#entry190777](http://reboot.pro/topic/20337-pendrive-samsung-0011-7788-64-gb-to-8-gb/#entry190777 \"\")\n\u003e\n\u003e ![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\u003e\n\u003e Wonko\n\nI read the usbdev.ru site, no specific text details how to retrieve the firmware. As I checked that \"special\" USB, the manufacturer made a tool and user have to use that tool to access hidden partition. So, I think I should get the firmware, analyse it how it works. Is this possible? Btw, do you know how the partition is hided, Wonko?\n\nThanks\n\n"
    },
    {
      "id": "192539",
      "timestamp": "2015-05-11T17:53:03+00:00",
      "author": "Wonko the Sane",
      "content": "It depends on the actual USB stick Controller.\n\nYou won\u0027t (very likely) get the firmware, but rather the tool that allows to change settings in the firmware.\n\nImagine a PC where you cannot access the BIOS (firmware) normally and you can only change settings in it through a given program, most (but not all) USB controllers manufacturer provide a so-called manufacturer tool (aimed to manufacturers, that often \"leak\" through Chinese or Russian channels) and a \"user oriented\" tool usually capable of only creating (or removing) a hidden partition and a program that allow (providing the password) to access it.\n\nConversely (and without any offence intended :smile:) if you are here asking about how to get the firmware, allow me to doubt that you will be able to do much with it, some (but again not all) manufacturer tool packages may include the actual firmware, but - not completely unlike a BIOS - it is not something that can be easily analyzed or disassembled/understood (even setting aside any possible illegality in doing that) and you do appear like being in a CATCH22 situation, it is already difficult enough to only understand how one of the manufacturer tool is to be operated ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif) (due to almost total lack of documentation and the very scarce available usually being in Chinese or Russian).\n\nIn any case you have to proceed with some order:\n\n1. identify the actual controller used\n2. get each and every related tool you can find\n3. test the actually found tools to verify that they actually work and work on the given stick (at the risk of botching the stick forever ![:(](http://reboot.pro/public/style_emoticons/default/sad.png))\n4. check if in any of the found packages there is a firmware image or a tool to backup the current one\n5. if yes, retrieve the firmware and analyze/disassemble it\n\nAs I see it:\n\n#1 is usually trivial\n\n#2 starts being not-so-easy\n\n#3 becomes difficult and risky\n\n#4 depends more on having luck than anything else\n\n#5 is one of those things I can most probably count people I know in the world capable of doing that on my fingers without taking my shoes off ![:w00t:](http://reboot.pro/public/style_emoticons/default/w00t.gif) and none of them would ask on reboot.pro how to retrieve the firmware\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "192540",
      "timestamp": "2015-05-11T19:13:57+00:00",
      "author": "Louis XV",
      "content": "\u003e It depends on the actual USB stick Controller.\n\u003e\n\u003e You won\u0027t (very likely) get the firmware, but rather the tool that allows to change settings in the firmware.\n\u003e\n\u003e Imagine a PC where you cannot access the BIOS (firmware) normally and you can only change settings in it through a given program, most (but not all) USB controllers manufacturer provide a so-called manufacturer tool (aimed to manufacturers, that often \"leak\" through Chinese or Russian channels) and a \"user oriented\" tool usually capable of only creating (or removing) a hidden partition and a program that allow (providing the password) to access it.\n\u003e\n\u003e Conversely (and without any offence intended :smile:) if you are here asking about how to get the firmware, allow me to doubt that you will be able to do much with it, some (but again not all) manufacturer tool packages may include the actual firmware, but - not completely unlike a BIOS - it is not something that can be easily analyzed or disassembled/understood (even setting aside any possible illegality in doing that) and you do appear like being in a CATCH22 situation, it is already difficult enough to only understand how one of the manufacturer tool is to be operated ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif) (due to almost total lack of documentation and the very scarce available usually being in Chinese or Russian).\n\u003e\n\u003e In any case you have to proceed with some order:\n\u003e\n\u003e 1. identify the actual controller used\n\u003e 2. get each and every related tool you can find\n\u003e 3. test the actually found tools to verify that they actually work and work on the given stick (at the risk of botching the stick forever ![:(](http://reboot.pro/public/style_emoticons/default/sad.png))\n\u003e 4. check if in any of the found packages there is a firmware image or a tool to backup the current one\n\u003e 5. if yes, retrieve the firmware and analyze/disassemble it\n\u003e\n\u003e As I see it:\n\u003e\n\u003e #1 is usually trivial\n\u003e\n\u003e #2 starts being not-so-easy\n\u003e\n\u003e #3 becomes difficult and risky\n\u003e\n\u003e #4 depends more on having luck than anything else\n\u003e\n\u003e #5 is one of those things I can most probably count people I know in the world capable of doing that on my fingers without taking my shoes off ![:w00t:](http://reboot.pro/public/style_emoticons/default/w00t.gif) and none of them would ask on reboot.pro how to retrieve the firmware\n\u003e\n\u003e ![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\u003e\n\u003e Wonko\n\nThanks Wonko. I found the controller is Alcor and can save the image with provided tool. The more difficult step is finding out what is the configuration parameters. Do you know about Alcor?\n\n"
    },
    {
      "id": "192541",
      "timestamp": "2015-05-11T19:29:08+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Do you know about Alcor?\n\nYes ![:smiling9:](http://reboot.pro/public/style_emoticons/default/smiling9.gif).\n\n[http://homepage.ntlw...no-answers.html](http://homepage.ntlworld.com/jonathan.deboynepollard/FGA/questions-with-yes-or-no-answers.html \"External link\")\n\nWhile you are there:\n\n[http://homepage.ntlw...ynepollard/FGA/](http://homepage.ntlworld.com/jonathan.deboynepollard/FGA/ \"External link\")\n\ncheck also:\n\n[http://homepage.ntlw...ard-litany.html](http://homepage.ntlworld.com/jonathan.deboynepollard/FGA/problem-report-standard-litany.html \"External link\")\n\nThis page:\n\n[http://www.usbdev.ru/files/alcor/](http://www.usbdev.ru/files/alcor/ \"External link\")\n\nlists roughly 400 programs or related files/docs, for no less than 15 (possibly more) controller models.\n\nI guess that when you go shopping for a specific spare part for your car you tell to the guy at the shop \"I have a Peugeot\", right? ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif)\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "192555",
      "timestamp": "2015-05-12T15:13:04+00:00",
      "author": "Louis XV",
      "content": "\u003e Yes ![:smiling9:](http://reboot.pro/public/style_emoticons/default/smiling9.gif).\n\u003e\n\u003e [http://homepage.ntlw...no-answers.html](http://homepage.ntlworld.com/jonathan.deboynepollard/FGA/questions-with-yes-or-no-answers.html \"External link\")\n\u003e\n\u003e While you are there:\n\u003e\n\u003e [http://homepage.ntlw...ynepollard/FGA/](http://homepage.ntlworld.com/jonathan.deboynepollard/FGA/ \"External link\")\n\u003e\n\u003e check also:\n\u003e\n\u003e [http://homepage.ntlw...ard-litany.html](http://homepage.ntlworld.com/jonathan.deboynepollard/FGA/problem-report-standard-litany.html \"External link\")\n\u003e\n\u003e This page:\n\u003e\n\u003e [http://www.usbdev.ru/files/alcor/](http://www.usbdev.ru/files/alcor/ \"External link\")\n\u003e\n\u003e lists roughly 400 programs or related files/docs, for no less than 15 (possibly more) controller models.\n\u003e\n\u003e I guess that when you go shopping for a specific spare part for your car you tell to the guy at the shop \"I have a Peugeot\", right? ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif)\n\u003e\n\u003e ![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\u003e\n\u003e Wonko\n\n![:good:](http://reboot.pro/public/style_emoticons/default/good.gif) I am sorry that I dont ask clearly, Wonko. I has the image from Alcor controller firmware of the USB by using Check Drive tool. My purpose is to create a USB with similar function: the USB has built-in tools in CD-ROM partition which protect USB using password and it enables user copy data between hidden partition and computer.\n\nI think I should analyse the controller firmware to know how they implement it. I cant find the tool to create Alcor firmware. How can I analyse the existing USB firmware? With my purpose, can you suggest the step should I do?\n\nThanks\n\n"
    },
    {
      "id": "192559",
      "timestamp": "2015-05-12T16:46:25+00:00",
      "author": "Wonko the Sane",
      "content": "I will try to be more explicit. ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)\n\n* Post the EXACT model of the Alcor stick you have.\n* Post links to the EXACT tools/programs you used.\n* Post the EXACT output these tools provided.\n* Post the \\*whatever\\* you got through the use of the \\*whatever\\* tools you used also DESCRIBING IN DETAIL how EXACTLY you extracted it.\n\n\u003cbr /\u003e\n\nThe above will allow both of us to have the SAME data and (before or later) find a common language to exchange informations.  \nAny part of the above 4 point missing leads to the impossibility of communicating between us meaningful informations on this specific topic.  \n\nWhat you have in your hands (my guess at a probability level of 99% ) is not \"firmware\", and in any case you DO NOT \"create\" firmware with ANY tool, at the most you may be able to find a manufacturer tool capable of changing settings on an existing firmware.  \n\nAs well, you won\u0027t \"analyze firmware\" and you will never get to know how they implement it, at the very most you will be able to analyze the manufacturer\u0027s tool and discover how the changes in the settings of the firmware are performed.  \n\nWhat you are asking (final GOAL) which should be more or less \"How do I create on a specific USB stick a dual LUN setup, with first a CD-like device and second a hd-like one with a hidden partition?\" does NOT pass through analyzing the firmware nor through analyzing the manufacturer tool, it rather goes through finding a working manufacturer\u0027s tool or similar Alcor utility and learn how to use it to achieve the result.  \n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)  \nWonko\n\n"
    }
  ]
}