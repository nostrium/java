{
  "id": "18868",
  "title": "G4D Command Index (Chinese)",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "176963",
      "timestamp": "2013-09-11T20:03:20+00:00",
      "author": "saddlejib",
      "content": "This page gives in depth descriptions:\n\n[https://cvwyg-blog.a...UB4DOS5mlsy.htm](https://cvwyg-blog.appspot.com/grub/GRUB4DOS5mlsy.htm \"External link\")\n\nFor Example:\n\nMAP. Command using google translate,\n\nmap  \n\nUsage: map \\[--status\\] \\[--mem\\[\u003dRESERV\\] \\[--top\\]\\] \\[--hook\\] \\[--unhook\\] \\[--unmap\u003dDRIVES\\] \\[--rehook\\]  \n\n\\[--floppies\u003dM\\] \\[--harddrives\u003dN\\] \\[--memdisk-raw\u003dRAW\\] \\[--a20-keep-on\u003dAKO\\]  \n\n\\[--safe-mbr-hook\u003dSMH\\] \\[--int13-scheme\u003dSCH\\] \\[--ram-drive\u003dRD\\] \\[--rd-base\u003dADDR\\]\\[--rd-size\u003dSIZE\\]  \n\n\\[\\[--read-only\\] \\[--fake-write\\] \\[--unsafe-boot\\]  \n\n\\[--disable-chs-mode\\] \\[--disable-lba-mode\\] \\[--heads\u003dH\\] \\[--sectors-per-track\u003dS\\] TO_DRIVE_FROM_DRIVE\\]  \nDescription:  \n\nmap the drive FROM_DRIVE to the drive TO_DRIVE. this is necessary when you chain-load some operating systems, such as DOS, if such an OS resides at a non-first drive. TO_DRIVE can be a disk file, this indicates a disk emulation. if --fake-write is given, any write operations to the emulated drive are allowed but the data written will be discarded. the --unsafe-boot switch enables the write to the Master and DOS boot sectors of the emulated disk. if --disable-chs\u003dmode is given, CHS access to the emulated drive will be refused. if --disable-lba-mode is given, LBA access to the emulated drive will be refused. if RAW\u003d1, all memdrives will be accessed without using int15/ah\u003d87h. if RAW\u003d0, then int15/ah\u003d87h will be used to access memdrives. if one of --status,--hook,--unhook,--rehook,--floppies,--harddrives,--memdisk-raw, --a20-keep-on,--safe-mbr-hook,--int13-scheme,--ram-drive,--rd-base or --rd-size is given, then any other command-line arguments will be ignored. the --mem option indicates a drive in memory. if RESERV is used and \\\u003c\u003d0, the minimum memory occupied by the memdrive is (-RESERV) in 512-byte-sectors. if RESERV is used and \\\u003e0 , the memdrive will occupy the mem area starting at absolute physical address RESERV in 512-byte-sectors and ending at the end of this mem block(uaually the end of physical mem).  \n\nThe device mappings. This sector of the chain guide is useful features, such as DOS。  \n\nHere, the target drive(TO_DRIVE)Can be a disk file, using the virtual disk feature. Note that this requires continuous disk file is stored in the partition。  \n\nInmapCommand line，(hdm,n)+1Style of writing is interpreted as representative of the(hdm,n)Partition, rather than just the first sector of the partition.  \n\nThis form  \n\nmap ... (fd?)  \n\nBe a floppy emulation, and the following form  \n\nmap ... (hd?)  \n\nIs a hard disk emulation.  \n\n1、Use --mem Parameter represents the mirror image of the first to be simulated is loaded into memory and then be simulated.  \n\nThis parameter is required without the mirror stored in consecutive sectors. Only plus--memParameters to usefiradisk Or winvblock And other third-party drivers.  \n\nExample One： map --mem\u003d-2880 (hd0,0)/floppy.img (fd0)  \n\nThis memory drive (fd0) will occupy at least1440 KB Of memory. This usage for those less than 1440 KB of 1.44M floppy image useful.  \n\nExample 2: map --mem --read-only (hd0,0)/hd.img (hd1)  \n\nThis memory drive has become a hard drive, and is read-only. This means that you can not give this (hd1) to write data.  \n\nNote: When using - mem when, even in into Windows when it seemed to be quite safe. Win98 can run memory drive.  \nWindows NT/2000/XP driver does not recognize the simulation, regardless of whether the - mem option.  \n\n2、0.4.5 add the parameter - top, tie - mem parameter can be loaded into high memory mirroring, such as map - mem - top (hd0, 0) / hdimg.img (hd1).  \n\nNote: The image is loaded into high memory can not use gzip compression, but not both achieve.  \n\nIn grub4dos, the memory is divided into at 3.25G at high memory and low memory ends, mirroring can not cross 3.25G this point.  \n\nSuch as 4G memory machines, high-end memory was about 4.0G-3.25G \u003d 0.75G, namely 750M or so.  \n\nIt should be noted that the high-end memory, and low memory can not be used simultaneously with a mirror, for example, 4G RAM, 800M volume can not be loaded into high memory mirroring，  \n\nBecause the high-end memory is only 750M or so, the excess part of the low-end is not written in memory, used to pay attention.  \n\n3、Use - hook parameter represents the simulation effect immediately, even in the GRUB command line mode.  \n\n4、Parameters - unmap Usage:  \n\nmap --unmap\u003dRANGE  \n\nWhich has been mapped RANGE is a BIOS drive domains. BIOS drive number 0 indicates the first floppy, 1 for the second floppy drive;  \n\n0x80 Represents the first hard drive, 0x81 for the second hard drive, and so on;  \n\n0x80 is the first hard drive, 0x81 for the second hard drive, and so on;No. actuator 0xA0 ,(hd33) Corresponds0xA1 , And so on.  \n\nExample 1:  \n\nmap --unmap\u003d0,0x80,0xff  \n\nThis will reflect the shoot virtual floppy drive (fd0), virtual hard disk (hd0) and virtual CD (0xff).  \n\nExample 2:  \n\nmap --unmap\u003d0:0xff  \n\nThis will reflect the radio all virtual floppy drive, all virtual hard disks and all virtual disc.  \n\nNote 1: In general, a \u0027map\u0027 command will drive mapping table for a virtual drive to add a table entry.  \n\nAnd \u0027- unmap\u0027 means in the drive mapping table (specifically refers to a virtual drive) entries will be deleted.  \n\nNote 2: - unhook options simply disconnect INT13 hook (in the interrupt vector table). It does not affect the drive mapping table.  \n\nAnd in the implementation of a \u0027boot\u0027 command, even if it has been reflected when the shot,  \n\nINT13 disk emulator also when needed (ie, the drive mapping table is not empty) is created automatically linked.  \n\nNote 3: Normally you need to have changed the drive mapping table is performed after a \\`map - rehook \u0027command.  \n\n5、If you use the - read-only parameter, this feature allows the \\`disk \u0027is read-only;  \n\n6、If you use the - fake-write parameters, this feature allows the \\`disk \u0027in the dummy write, which can\" write \"data, but it is not recorded to the real disk;  \n\n7If using the - unsafe-boot parameters, this feature allows the \\`disk \u0027is true writable;  \n\n8、If you use the - disable-chs-mode parameters, CHS access functionality will be disabled;  \n\n9、If you use the - disable-lba-mode parameters, LBA access functionality will be disabled;  \n\n10、 H and S specifies the physical parameters of the virtual disk.  \n\n11、If you use the - status, - hook, - unhook, - rehook various parameters, then the other command line arguments will be ignored.  \n\n12、Parameters - safe-mbr-hook \u003d SMH and - int13-scheme \u003d SCH Du and Win9x environment (as stable as possible) use disk emulation related.  \n\nSMH parameter can be 0 or 1, one of the two values. As a default, SMH parameter is 1. If you encounter on Win9x disk emulation problems,  \n\nYou can insert a line into the \\`boot \u0027command,  \n\nmap --safe-mbr-hook\u003d0  \n\nThen try again.  \n\nSCH when in use, it can take a value of 0 or 1. As a default, SCH is 1. If you encounter on Win9x disk emulation problems,  \n\nYou can insert a line into the \\`boot \u0027command,  \n\nmap --int13-scheme\u003d0  \n\nThen try again.  \n\nBy the way. Similar to the - safe-mbr-hook and - int13-scheme, MAP command, there are several other options that can be used to set the global variables.  \n\n13、 map --floppies\u003dM  \n\nWherein M may be 0, 1, or 2. MAP will set an appropriate value of M at the address 0040:0010.  \n\nmap --harddrives\u003dN  \n\nWhere N can be from 0 to 127 values. MAP will place the value of N is set at 0040:0075.  \n\nNote: 1, BIOS data area, the total number of floppy and hard disk during the mapping has not been changed. When the board is not configured real floppy drive,  \n\nYou should generally use exclusively as \u0027map - floppioes \u003d\u0027 and \u0027map - harddrives \u003d\u0027 to set them.  \n\nIf you do not, DOS may fail to start.  \n\n2、\u0027map --floppies\u003d\u0027和\u0027map --harddrives\u003d \u0027Needs before mapping is not performed alone.  \n\n14、 map --memdisk-raw\u003dRAW  \n\nRAW which defaults to 1, to prevent the BIOS does not support interrupts int15/87h, or int18/87h support flawed.  \n\nIf RAW \u003d 0, will be int15/ah \u003d 87h access memory drives, and memory drives to simulate similar to native mode.  \n\n15、 map --ram-drive\u003dRD  \n\nThe default is 0x7F which RD floppy number. If the random memory drive is a hard drive mirroring (the first sector contains the partition table)，  \n\nThen you can set the RD 0x80 and less than or equal to a value between 0xA0.  \n\nIf it is a CD-ROM image, it needs to be set greater than or equal to 0xA0 and less than a value 0xFF.  \n\nmap --rd-base\u003dADDR  \n\nmap --rd-size\u003dSIZE  \n\nWhich specifies the memory image ADDR physical base address. SIZE specifies the number of bytes in the memory image size. ADDR default is 0.  \n\nSIZE The default value is 0, but the value of 0 indicates 4 GB, rather than the zero-byte disk.  \n\nRandom memory drive can be in the GRUB environment by using (rd) device to access.  \n\n16、Parameters - in-situ was used for hard drive image or hard drive partition.  \n\nBy - in-situ, we can put a logical partition symbolic use as a primary partition.  \n\n- In-situ of the mapping is the mapping of the entire drive. It is only a virtual partition table and DBR BPB on the hidden sectors.  \n\nAlthough disk emulation in win9x may encounter various problems, but in win9x in, in-situ mapping was run very well.  \n\nNote - in-situ mapping does not change the real partition table.  \n\nExample: map --in-situ (hd0,4)+1 (hd0)  \n\n17、Parameters - a20-keep-on, it is accessible memdrive sector after control of the A20 address line  \n\nmap --a20-keep-on\u003d0  \n\nIt must be used in the \"map - hook\" before the command.  \n\nAs a default, in the sector of RAM INT13 A20 will remain open after the visit.  \n\nIf the \"map - a20-keep-on \u003d 0\" is used, then the A20 INT13 interrupt status after the call and will be the same as before the INT13 interrupt calls.  \n\n18、Common examples:  \n\ngrub\\\u003e map --status  \n# Output current mapping status can report something valuable  \n\ngrub\\\u003e map /ADD.ISO (0xff)  \ngrub\\\u003e map --hook  \ngrub\\\u003e chainloader (0xff)  \ngrub\\\u003e boot  \n# The root directory ADD.ISO directly mapped to (0xff) No. Device (CD-ROM), and start  \n\ngrub\\\u003e map --mem /PE.ISO (0xff)  \ngrub\\\u003e map --hook  \ngrub\\\u003e chainloader (0xff)  \ngrub\\\u003e boot  \n# The root directory PE.ISO first loaded into memory, and then mapped to (0xff) No. Device (CD-ROM), and start  \n\ngrub\\\u003e map --mem /DGDOS.IMG (fd0)  \ngrub\\\u003e map --hook  \ngrub\\\u003e rootnoverify (fd0)  \ngrub\\\u003e chainloader ()+1  \ngrub\\\u003e boot  \n# Load the floppy image IMG file  \n\nor if you use g4b and wondered how partnew works translate partnew command.\n\n"
    },
    {
      "id": "176969",
      "timestamp": "2013-09-12T15:47:38+00:00",
      "author": "saddlejib",
      "content": "Tip:\n\nFor easy translation open page and SavePageAs whatever it says.\n\nGoto:\n\n[http://translate.google.com/](http://translate.google.com/ \"External link\")\n\nSelect detetct language, then translate document, then browse to page you\u0027ve just saved load Grub4Dos.htm and translate then\n\nonce more,\n\nSavePageAs whatever it says.\n\n"
    }
  ]
}