{
  "id": "18488",
  "title": "Tiny PXE Server",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "171721",
      "timestamp": "2013-04-30T18:34:24+00:00",
      "author": "erwan.l",
      "content": "![Posted Image](http://reboot.pro/index.php?app\u003ddownloads\u0026module\u003ddisplay\u0026section\u003dscreenshot\u0026id\u003d303)\n**File Name** : Tiny PXE Server  \n**File Submitter** : [erwan.l](http://reboot.pro/index.php?showuser\u003d25905 \"\")  \n**File Submitted** : 30 Apr 2013  \n**File Updated** : *03 Mar 2021*   \n**File Category** : [Boot tools](http://reboot.pro/index.php?app\u003ddownloads\u0026showcat\u003d7 \"\")  \n\nHi Gents,  \n\nI have been playing with pxe booting for a while, first starting with pxelinux, then gpxe and lately with ipxe.  \n\nI am mostly a windows user and as an IT often needs a quick (\u003dno install) and portable (\u003drun from USB) dhcp server including a tftp server and a http server offering me then pxe booting.  \nI could use tftp32 or serva but i like to make my own tools and these 2 were missing some features here and there.  \n\nSo here comes a small portable dhcp server including a tftp and a http server.  \n\nThis is freeware (and will always be), should be opensource and the unique here idea is to share and contribute.  \n\n-dhcp daemon supports an **alternative filename** based on the user-class thus enabling chainloading (gpxe-\\\u003epxelinux, ipxe-\\\u003escript, etc), and also support settings **dhcp options** (which can then be used by your boot loader)  \n-tftp daemon supports **tsize** and **blksize** commands.  \n-http daemon support **head** , **range** (mandatory for ipxe sanboot options) and over 2gb iso.  \n-new in version 1.0.0.7 : **BINL** (RIS \\\u0026 WDS) support  \n-new in version 1.0.0.10 : **DNS** daemon  \n-new in version 1.0.0.14 : **ProxyDHCP** option  \n-new in version 1.0.0.18 : support **pcbios/EFI** mode  \n\nThe root home of tftp and http is the folder where you main pxe loader sits.  \nI put all my iso files in a sub folder called images.  \nI put all my wim files in a sub folder called sources.  \nI put all my other loaders, in case I want to chain load, in next to my main loader (bootmgr, pxelinux, gpxe, grldr, etc)  \n\nIn the attached screenshot, i load ipxe then chainloads a script (menu.ipxe).  \nIn the script 3 different methods : the classic memdisk, a newer approach with sanboot and a new kid on the block wimboot.  \n\nMore info about these loading methods here :  \n[http://www.syslinux....dex.php/MEMDISK](http://www.syslinux.org/wiki/index.php/MEMDISK \"External link\")  \n[http://ipxe.org/cmd/sanboot](http://ipxe.org/cmd/sanboot \"External link\")  \n[http://ipxe.org/wimboot](http://ipxe.org/wimboot \"External link\")  \n\nSide note about ipxe+sanboot+http : I am big fan.  \nI have always been looking for a quick and efficient boot from lan methods and this is one is great : executes as it read and faster than memdisk since no preloading of the ISO is required.  \niPXE reaches 50/60 MBits/secs on my lan.  \n\n\"Voila\".  \nAny questions, feedback is welcome.  \n\nRegards,  \nErwan  \n\n[Click here to download this file](http://reboot.pro/index.php?app\u003ddownloads\u0026showfile\u003d303 \"\")   \n"
    },
    {
      "id": "171724",
      "timestamp": "2013-04-30T18:42:44+00:00",
      "author": "erwan.l",
      "content": "the menu.ipxe script :\n\nThe menu.ipxe script :  \n\\\u003ccode\\\u003e  \n#!ipxe  \nset boot-url [http://${dhcp-server}]( \"External link\")  \n######## MAIN MENU ###################  \n:start  \nmenu Welcome to iPXE\u0027s Boot Menu  \nitem  \nitem --gap -- ------------------------- Operating systems ------------------------------  \nitem 7pe_x86_E Boot 7pe_x86 via sanboot  \nitem pmagic Boot pmagic via memdisk  \nitem wimboot wimboot  \nitem --gap -- ------------------------------ Utilities ---------------------------------  \nitem shell Enter iPXE shell  \nitem reboot Reboot  \nitem  \nitem exit Exit (boot local disk)  \nchoose --default 7pe_x86_E_1 --timeout 30000 target \\\u0026\\\u0026 goto ${target}  \n########## UTILITY ITEMS ####################  \n:shell  \necho Type exit to get the back to the menu  \nshell  \nset menu-timeout 0  \ngoto start  \n:failed  \necho Booting failed, dropping to shell  \ngoto shell  \n:reboot  \nreboot  \n:exit  \nexit  \n########## MENU ITEMS #######################  \n:7pe_x86_E  \nsanboot --no-describe ${boot-url}/images/7pe_x86.iso \\|\\| goto failed  \ngoto start  \n:pmagic  \ninitrd ${boot-url}/images/pmagic/pmagic_2013_02_28.iso  \nchain ${boot-url}/memdisk iso \\|\\| goto failed  \ngoto start  \n:wimboot  \n#case sensitive  \nkernel wimboot  \ninitrd BOOTMGR BOOTMGR  \ninitrd BOOT/BCD BCD  \ninitrd BOOT/BOOT.SDI BOOT.SDI  \ninitrd SOURCES/BOOT.WIM BOOT.WIM  \nboot  \ngoto start\n\n"
    },
    {
      "id": "171725",
      "timestamp": "2013-04-30T19:35:06+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e \"Voila\".  \n\u003e **Any questions** , feedback is welcome.  \n\nI know you were waiting for it ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif):  \nWHAT? ![:w00t:](http://reboot.pro/public/style_emoticons/default/w00t.gif) NO BINL server integrated? ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif)  \n\n![:jaclaz:](http://reboot.pro/public/style_emoticons/default/jaclaz.gif)  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko\n\n"
    },
    {
      "id": "171727",
      "timestamp": "2013-04-30T19:54:24+00:00",
      "author": "erwan.l",
      "content": "Hi Wonko,\n\nI dont know much about BINL right now.\n\nI may be wrong but this is mainly (only?) used my MS is not it? is not it obsolete nowadays?\n\nShoot me for my ignorance there :smile:\n\nIf this is \"only\" a set of dhcp settings + some files to serve, I could probably implement it as well.\n\nRegards,  \nErwa,\n\n"
    },
    {
      "id": "171728",
      "timestamp": "2013-04-30T19:59:16+00:00",
      "author": "erwan.l",
      "content": "about ipxe, if anyone is willing to give the following a test :\n\n:win7  \nsanboot --no-describe --drive 0x81 ${boot-url}/images/win7_x86_sp1.iso \\|\\| goto failed  \ngoto start  \nit boots but with long delays between different steps, and by the end the windows installer GUI complains about \"no dvd driver found\"...  \ni believe it would be handy to install win7 this way.  \n/erwan  \nanswering myself :smile:  \none cannot boot win7dvd.iso, see explanation from Michael here : [http://forum.ipxe.or...ad.php?tid\u003d6894](http://forum.ipxe.org/showthread.php?tid\u003d6894 \"External link\").\n\n"
    },
    {
      "id": "171734",
      "timestamp": "2013-04-30T20:58:18+00:00",
      "author": "erwan.l",
      "content": "Another one which I like :,\n\n-one can sanboot to an iscsi blank target.\n\n-boot will fail (since target is blank) and then the system will keep on booting on the cd/dvd (provided bios is setup that way).\n\n-if the dvd happens to be win7 (or up), windows will list the iscsi target as possible installable media :smile:\n\nhere below the ipxe script :\n\n:bootsan  \ndhcp net0  \nset keep-san 1  \nsanboot iscsi:192.168.1.248:tcp:3260:0:iqn.2000-01.com.synology:ds210.name  \nboot  \ngoto start  \nwhich is equal to the following dhcp setup (see screenshot) :  \n-load ipxe,  \n-chainload rootpath \u003d iscsi:192.168.1.248:tcp:3260:0:iqn.2000-01.com.synology:ds210.name  \n-set options \u003d 175.6.1.1.1.8.1.1 (see [here](http://ipxe.org/howto/dhcpd \"External link\")for options)  \n/erwan  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![iscsi.png](http://reboot.pro/uploads/monthly_04_2013/post-25905-0-94712500-1367355288_thumb.png)](http://reboot.pro/uploads/monthly_04_2013/post-25905-0-94712500-1367355288.png \"iscsi.png - Size: 28.38KB\"){#ipb-attach-url-14249-0-65550300-1676066516}\n\n"
    },
    {
      "id": "171779",
      "timestamp": "2013-05-01T15:28:40+00:00",
      "author": "reboot12",
      "content": "Maybe try load ISO over memdisk from menu.ipxe like this: [with RAW parameter](http://reboot.pro/topic/11668-load-iso-with-memdisk-using-http-not-tftp/page-2#entry171762 \"\")\n\n"
    },
    {
      "id": "171780",
      "timestamp": "2013-05-01T15:37:20+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Hi Wonko,\n\u003e\n\u003e I dont know much about BINL right now.\n\u003e\n\u003e I may be wrong but this is mainly (only?) used my MS is not it? is not it obsolete nowadays?\n\u003e\n\u003e Shoot me for my ignorance there :smile:\n\nI have no idea if \"something\" else uses BINL, for sure it used in PXe RIS installs of Windows and - conversely - in the senselessly renamed WDS (which is actually an evolution of RIS and BINL).\n\nTraditionally this has been a PITA because easy to follow/implement documentation is very scarce, there is in practice only one \"free\" BINL server (by Sherpya) and TFTP32 - which is undoubtedly the most used tool - misses one.\n\nServa includes one and since it is an \"all in one\" it has quickly become a new \"standard\".\n\nIn practice:\n\nTFTP32 alone \u003d no PXE installs (No RIS No BINL No WDS)\n\nTFTP32+Sherpya\u0027s BINL Server \u003d PXE install up to Server 2003 (RIS + BINL, No WDS)\n\nServa \u003d PXE install up to Server 2003 AND up to Windows 8 (RIS + BINL + WDS)\n\nDeveloping a new thingy without it seems to me like a \"step backwards\", maybe (cannot say) it could be implemented as a \"Plugin\" or \"Module\" (or whatever) i.e. optional but somehow \"certified\" by the Author ![:worship:](http://reboot.pro/public/style_emoticons/default/worship.gif) as compatible/easy to use.\n\nSee Definitions here:\n\n[http://www.vercot.co...indowsPXE1.html](http://www.vercot.com/~serva/an/WindowsPXE1.html \"External link\")\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "171784",
      "timestamp": "2013-05-01T17:04:48+00:00",
      "author": "erwan.l",
      "content": "\u003e Maybe try load ISO over memdisk from menu.ipxe like this: [with RAW parameter](http://reboot.pro/topic/11668-load-iso-with-memdisk-using-http-not-tftp/page-2#entry171762 \"\")\n\nHi Reboot12,\n\nThe issue with memdisk is the memory requirement.\n\nMy dvd iso is 2.1 gig and my system cannot afford to lose that much memory to load the iso.\n\nBest method I could find for now to install win7 thru pxe boot is [http://ipxe.org/howt...talling_windows](http://ipxe.org/howto/winpe#installing_windows \"External link\").\n\nRegards,\n\nErwa,\n\n"
    },
    {
      "id": "171786",
      "timestamp": "2013-05-01T17:15:31+00:00",
      "author": "erwan.l",
      "content": "\u003e I have no idea if \"something\" else uses BINL, for sure it used in PXe RIS installs of Windows and - conversely - in the senselessly renamed WDS (which is actually an evolution of RIS and BINL).\n\u003e\n\u003e Traditionally this has been a PITA because easy to follow/implement documentation is very scarce, there is in practice only one \"free\" BINL server (by Sherpya) and TFTP32 - which is undoubtedly the most used tool - misses one.\n\u003e\n\u003e Serva includes one and since it is an \"all in one\" it has quickly become a new \"standard\".\n\u003e\n\u003e In practice:\n\u003e\n\u003e TFTP32 alone \u003d no PXE installs (No RIS No BINL No WDS)\n\u003e\n\u003e TFTP32+Sherpya\u0027s BINL Server \u003d PXE install up to Server 2003 (RIS + BINL, No WDS)\n\u003e\n\u003e Serva \u003d PXE install up to Server 2003 AND up to Windows 8 (RIS + BINL + WDS)\n\u003e\n\u003e Developing a new thingy without it seems to me like a \"step backwards\", maybe (cannot say) it could be implemented as a \"Plugin\" or \"Module\" (or whatever) i.e. optional but somehow \"certified\" by the Author ![:worship:](http://reboot.pro/public/style_emoticons/default/worship.gif) as compatible/easy to use.\n\u003e\n\u003e See Definitions here:\n\u003e\n\u003e [http://www.vercot.co...indowsPXE1.html](http://www.vercot.com/~serva/an/WindowsPXE1.html \"External link\")\n\u003e\n\u003e ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\u003e\n\u003e Wonko\n\nHi Wonko,\n\nI\u0027ll definitely have a look at BINL along with RIS and WDS.\n\nFor now the main purpose of my pxe server is not to install windows distributions : although it may be possible and to be fair is what I am looking at right now :smile:\n\nIt seems that this is serva\u0027s main purpose.\n\nNow I need to reverse engeeneer BINL :smile:\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "171787",
      "timestamp": "2013-05-01T17:21:23+00:00",
      "author": "erwan.l",
      "content": "talking about operating system installation thru PXE :\n\nI successfully tested the following linux distribs.\n\nLinux sure makes it easy (when it comes to install thru a network) as opposed to windows (my personal view there...).\n\n:ubuntu-installer  \nkernel ${boot-url}/ubuntu-installer/i386/linux  \ninitrd ${boot-url}/ubuntu-installer/i386/initrd.gz  \nboot  \ngoto start  \n:centos-installer  \ninitrd ${boot-url}/centos-installer/i386/CentOS-6.4-i386-netinstall.iso  \nchain ${boot-url}/memdisk iso \\|\\| goto failed  \ngoto start  \n:opensuse-installer  \nsanboot --no-describe --keep ${boot-url}/opensuse-installer/openSUSE-12.3-NET-i586.iso \\|\\| goto failed  \ngoto start  \ni purposedly picked up 3 different ways of booting\n\n"
    },
    {
      "id": "171797",
      "timestamp": "2013-05-01T19:34:28+00:00",
      "author": "Wonko the Sane",
      "content": "NO need to reverse BINL, Sherpya\u0027s tool is Open Source (see links here):\n\n[http://diddy.boot-la.../files/binl.htm](http://diddy.boot-land.net/pxe/files/binl.htm \"External link\")\n\nand has published a page about it:\n\n[http://oss.netfarm.it/guides/binl.php](http://oss.netfarm.it/guides/binl.php \"External link\")\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "171800",
      "timestamp": "2013-05-01T19:54:46+00:00",
      "author": "erwan.l",
      "content": "\u003e NO need to reverse BINL, Sherpya\u0027s tool is Open Source (see links here):\n\u003e\n\u003e [http://diddy.boot-la.../files/binl.htm](http://diddy.boot-land.net/pxe/files/binl.htm \"External link\")\n\u003e\n\u003e and has published a page about it:\n\u003e\n\u003e [http://oss.netfarm.it/guides/binl.php](http://oss.netfarm.it/guides/binl.php \"External link\")\n\u003e\n\u003e ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\u003e\n\u003e Wonko\n\nReading thru it, on top of looking in bnlsrv.py and looking at what my wireshark spits out.\n\nI have found the following steps.\n\nI made it up to step 7 so far :smile:\n\nStill dont know what bcd winpe.wim must contain. i guess genuine ones fresh from dvd wont do.\n\nWith some time and effort, i may be able to implement BINL.\n\nFor now, if it is only about booting a winpe.wim, there other simpler ways.\n\nif I can boot a windows 7 installation, then it shall become interesting.\n\n```\n1.C-\u003eS DHCP request for IP\n2.S-\u003eC Acknowledges IP request and gives the client a (free) ip-address\n3.C-\u003eS DHCP request for bootserver/file\n\n4.S-\u003eC DHCP Reply for bootserver/file SERVER:/boot/myserver/wdsnbp.0\n5.C-\u003eS TFTP Request for bootfile /boot/myserver/wdsnbp.0\n6.S-\u003eC TFTP Reply /boot/myserver/wdsnbp.0\n7.C-\u003eS BINL request (where can I find the BCD file?)\n\nServer finds in tftpd.log where that client has downloaded its wdsnbp file from and relies with the bcd file in that same directory.\n\n8.S-\u003eC BINL reply   /boot/pxeboot.com and /boot/myserver/bcd\n\n9.C-\u003eS TFTP request /boot/pxeboot.com\n10.S-\u003eC TFTP reply   /boot/pxeboot.com\n11.C-\u003eS TFTP request /boot/myserver/bcd\n12.S-\u003eC TFTP reply   /boot/myserver/bcd\n\nClient reads BCD file and finds out where to download the boot.sdi and winpe.wim from\n\n13.C-\u003eS TFTP request /boot/boot.sdi\n14.S-\u003eC TFTP reply   /boot/boot.sdi\n\n15.C-\u003eS TFTP request /boot/winpe.wim\n16.S-\u003eC TFTP reply   /boot/winpe.wim\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "171833",
      "timestamp": "2013-05-02T14:05:10+00:00",
      "author": "erwan.l",
      "content": "AIO Pxe Server (not sure about that name...) + BINL server works.\n\nI was able to perform an XP installation over the network.\n\n1-I created a folder RIS (windows shared, nullsessions enabled) containing BINL and XP cd.\n\n2-I extracted all inf files from driverpacks to a temp\\\\inf folder and ran infparser against it to obtain devlist.cache and nics.txt.\n\n3-I extracted all sys files from driverpacks to a temp\\\\sys folder and moved them to \\\\xp\\\\i386.\n\n4-I launched binlsrv.exe.\n\n5-I put the following file on my root RIS folder : startrom.0, ntldr, ntdetect.com, and winnt.sif.\n\n6-I launched my pxe server choosing startrom.0 as the bootstrap loader.\n\nI then could witness that startom.0 called ntldr which called ntdetect.com which read winnt.sif (thru tftpd) and from there my windows xp installation started.\n\nDuring the process I could see my BINL server indicating which sys file to retrieve.\n\nLater on, I could see the windows installation using my windows share (dont forget about nullsessions!).\n\nThe content of my (ris) winnt.sif is to be found below.\n\nXp was \"easy\", will now try Win7 :smile:\n\n/Erwan\n\n\\[data\\]  \nfloppyless \u003d \"1\"  \nmsdosinitiated \u003d \"1\"  \n; Needed for second stage  \nOriSrc \u003d \"\\\\\\\\192.168.1.100\\\\RemInst\\\\XP\\\\i386\"  \nOriTyp \u003d \"4\"  \nLocalSourceOnCD \u003d 1  \nDisableAdminAccountOnDomainJoin \u003d 1  \n\\[SetupData\\]  \nOsLoadOptions \u003d \"/fastdetect\"  \n; Needed for first stage  \nSetupSourceDevice \u003d \"\\\\Device\\\\LanmanRedirector\\\\192.168.1.100\\\\RemInst\\\\XP\"  \n\\[RemoteInstall\\]  \n; Avoid automatic format/repartition  \nRepartition \u003d No  \nUseWholeDisk \u003d No  \n\\[UserData\\]  \nComputerName \u003d \\*  \n;ProductID\u003dXXXXX-XXXXX-XXXXX-XXXXX-XXXXX\n\n"
    },
    {
      "id": "171859",
      "timestamp": "2013-05-02T19:07:30+00:00",
      "author": "erwan.l",
      "content": "In the previous post, I showed how to boot Windows XP install cd thru network with a PXE server + a BINL server.\n\nNow here comes to do the same with a WinPE wim file.\n\n1-I created a WDS folder with a sources sub folder containing boot.wim and a boot sub folder containing bcd and boot.sdi.\n\n2-I extracted all inf files from driverpacks to a temp\\\\inf folder and ran infparser against it to obtain devlist.cache and nics.txt. (not sure this part is needed but binlsrv wont start without these 2 generated files).\n\n3-I launched binlsrv.exe.\n\n4-I put the following file on my root WDS folder : wdsnbp.com, pxeboot.com, bootmgr.exe.\n\n5-I launched my pxe server choosing wdsnbp.com as the bootstrap loader.\n\nwdsnbp.com with load pxeboot.com which will load bootmgr.exe which will read bcd ...\n\nFrom winpe, you can then map the windows share containing your windows 7 installation files then.\n\nOr even automate by customizing your winpe wim file.\n\nThe AIO Pxe Server zip file contains the BINL server. I believe there are no issues to distribute it.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "171877",
      "timestamp": "2013-05-03T09:08:09+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e AIO Pxe Server (not sure about that name...)\n\nWhat about \"ELPxe Server\" this allows, beside giving some relevance to the name (actually initials) of the Author, some spanish subtitle:\n\n\u003e ELPxe Server, el Pxe server más completo del mundo\n\n![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "171885",
      "timestamp": "2013-05-03T10:50:02+00:00",
      "author": "erwan.l",
      "content": "\u003e What about \"ELPxe Server\" this allows, beside giving some relevance to the name (actually initials) of the Author, some spanish subtitle:\n\u003e\n\u003e ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)\n\u003e\n\u003e ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\u003e\n\u003e Wonko\n\nThen it should be \"LEPxe Server\", would still work with my initials and would add a french touch !\n\nBut this is way too megalomaniac :smile:\n\n"
    },
    {
      "id": "171886",
      "timestamp": "2013-05-03T10:57:35+00:00",
      "author": "erwan.l",
      "content": "About [post #15](http://reboot.pro/topic/18488-all-in-one-pxe-server/#entry171800 \"\"), I was about to add a BINL/WDS feature to that pxe server (listen on port 4011 requests, send back the right responses, etc) but it appears that if no BINL/WDS server is found, then the winpe boot will proceed anyway going for a default \\\\boot\\\\bcd (whereas with a BINL/WDS server you could implement some logic based on platform/mac/uuid, etc).\n\nBINL/WDS is \"really/only\" useful in step 8 (see [post #13](http://reboot.pro/topic/18488-all-in-one-pxe-server/#entry171800 \"\")).\n\nActually MS explains it here : [http://technet.micro...8(v\u003dws.10).aspx](http://technet.microsoft.com/en-us/library/cc722358(v\u003dws.10).aspx \"External link\") .\n\nAlso one can use pxeboot.com (or rather pxeboot.n12) directly, thus skipping wdsnbp.com.\n\n/Erwan\n\n"
    },
    {
      "id": "171889",
      "timestamp": "2013-05-03T11:18:31+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Then it should be \"LEPxe Server\", would still work with my initials and would add a french touch !  \n\u003e But this is way too megalomaniac :smile:\nWell, the issue is that LE is usually associated with Lite Edition, i.e. somewhat a diminutive. ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif)  \n\nI am not sure to understand your last post. (actually I am sure I don\u0027t understand it) ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)  \nCan you expand on it?  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "171894",
      "timestamp": "2013-05-03T11:35:24+00:00",
      "author": "erwan.l",
      "content": "\u003e Well, the issue is that LE is usually associated with Lite Edition, i.e. somewhat a diminutive. ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif)  \n\u003e\n\u003e I am not sure to understand your last post. (actually I am sure I don\u0027t understand it) ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)  \n\u003e Can you expand on it?  \n\u003e\n\u003e ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\u003e Wonko\n\nWhat I meant is that initially I tought that having a BINL server running was mandatory to boot winpe using wdsnbp.com boot strapper.\n\nAnd actually indeed, when BINL is running, you can see one incoming request and BINL server pointing to \\\\boot\\\\bcd.\n\nBut I then realised that even with BINL not running, wdsnpb/pxeboot will still boot winpe.\n\nPxeboot will then simply attempt to download \\\\boot\\\\bcd (default hardcoded path I guess).\n\nIn such case then, I would say that the only interesting point of the BINL server is that one could dynamically point to another bcd file (which would then point to another wim file).\n\nOne could think of a logic depending on the mac address, or platform, etc which is part of the client request.\n\nI guess this is probably what MS WDS does.\n\nNote that this applies only to WDS (win7 and up), not RIS (xp network install is not possible without a BINL/RIS server).\n\nHope this makes more sense.\n\n/Erwan\n\n"
    },
    {
      "id": "171899",
      "timestamp": "2013-05-03T11:52:35+00:00",
      "author": "Wonko the Sane",
      "content": "I thought that the feature was required by WDS in the sense that normally (nomen is omen) Windows Deployment Service in an enterprise should allow to choose different images from the server to be deployed to the client (i.e. one central repository serving all). ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)\n\nI.e. i believed that that would provide a way to choose form the client which image is deployed from the server.\n\nIt\u0027s not really my field of experience, though.\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "171903",
      "timestamp": "2013-05-03T12:19:51+00:00",
      "author": "erwan.l",
      "content": "Hi Wonko,\n\nIndeed this is what I meant :\n\nMy [post #15](http://reboot.pro/topic/18488-all-in-one-pxe-server/#entry171859 \"\") was wrong : you can boot winpe via wdsnbp bootstrap loader without a BINL server (which is answering WDS client requests).\n\nIf I were to implement a BINL/WDS feature in my pxe server, to make it useful I would then offer some sort of logic where one could hand over BCD files based on some criterias found in the client request.\n\nA bit like pxelinux does to hand over a menu file (first tries out mac address, then ip, and finally defaullt menu).\n\nTo illustrate what goes on between client and server when wdsnbp bootstrap loader, see attached screenshot.\n\nOne thing which is not clear to me yet (I dont have a MS WDS server) is how the windows installation is actually triggered : is it simply a batch/executable triggerred from winpeshl.ini using some samba share?\n\nRegards,\n\nErwan  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![binl.png](http://reboot.pro/uploads/monthly_05_2013/post-25905-0-47819400-1367583414_thumb.png)](http://reboot.pro/uploads/monthly_05_2013/post-25905-0-47819400-1367583414.png \"binl.png - Size: 47.56KB\"){#ipb-attach-url-14250-0-65559500-1676066516}\n\n"
    },
    {
      "id": "171905",
      "timestamp": "2013-05-03T12:25:30+00:00",
      "author": "Wonko the Sane",
      "content": "Neither I have one available, but it seems to me much more complex than what you seem to assume. ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif)\n\nSee:\n\n[http://trycatch.be/b...parameters.aspx](http://trycatch.be/blogs/roggenk/archive/2010/07/02/looking-at-your-wds-windows-deployment-services-configuration-parameters.aspx \"External link\")\n\nThis may be of actual help to you ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png):\n\n[http://jacermeno.fil...alreference.doc](http://jacermeno.files.wordpress.com/2010/10/wds_technicalreference.doc \"External link\")\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "171909",
      "timestamp": "2013-05-03T12:40:28+00:00",
      "author": "erwan.l",
      "content": "\u003e Neither I have one available, but it seems to me much more complex than what you seem to assume. ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif)\n\u003e\n\u003e See:\n\u003e\n\u003e [http://trycatch.be/b...parameters.aspx](http://trycatch.be/blogs/roggenk/archive/2010/07/02/looking-at-your-wds-windows-deployment-services-configuration-parameters.aspx \"External link\")\n\u003e\n\u003e This may be of actual help to you ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png):\n\u003e\n\u003e [http://jacermeno.fil...alreference.doc](http://jacermeno.files.wordpress.com/2010/10/wds_technicalreference.doc \"External link\")\n\u003e\n\u003e ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\u003e\n\u003e Wonko\n\nYou are right : wds is quite complex and complete actually.\n\nI am only focusing on one small aspect : the booting part.\n\nI was merely surfing on your initial comment i.e should my pxe server implements some sort of BINL feature.\n\nI have now come to the conclusion that I could very easily add an extra option/field where one would tick a checkbox to enable \"BINL/WDS\" and he would then have to point to BCD file (himself pointing to a WIM file).\n\nNot sure if this is very useful.\n\nPlus this is stepping away from opensource/free technologies.\n\nAt least now that you pointed me to BINL/WDS/RIS, I have a tiny bit more understanding and I could myself install XP thru network which is useless these days (at least in my environement) :smile:\n\n/Erwan\n\n"
    },
    {
      "id": "171915",
      "timestamp": "2013-05-03T14:09:41+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Not sure if this is very useful.  \n\u003e Plus this is stepping away from opensource/free technologies.  \n\u003e\nAllow me to disagree.  \nThe whole point of having free (and possibly additionally open source) tools is to be not forced to (example) get Server 2008 or 2012 to have WDS to deploy a set of images.  \n\nMore than that :wink: you would need to name your tool All (but BINL and WDS) In One Pxe Server, ABBAWIO Pxe Server.  \nOf course, you could as well call it Winbuilder ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) or Billy-Bob ![:w00t:](http://reboot.pro/public/style_emoticons/default/w00t.gif), what\u0027s in a name? ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "171721",
      "timestamp": "2013-04-30T18:34:24+00:00",
      "author": "erwan.l",
      "content": "![Posted Image](http://reboot.pro/index.php?app\u003ddownloads\u0026module\u003ddisplay\u0026section\u003dscreenshot\u0026id\u003d303)\n**File Name** : Tiny PXE Server  \n**File Submitter** : [erwan.l](http://reboot.pro/index.php?showuser\u003d25905 \"\")  \n**File Submitted** : 30 Apr 2013  \n**File Updated** : *03 Mar 2021*   \n**File Category** : [Boot tools](http://reboot.pro/index.php?app\u003ddownloads\u0026showcat\u003d7 \"\")  \n\nHi Gents,  \n\nI have been playing with pxe booting for a while, first starting with pxelinux, then gpxe and lately with ipxe.  \n\nI am mostly a windows user and as an IT often needs a quick (\u003dno install) and portable (\u003drun from USB) dhcp server including a tftp server and a http server offering me then pxe booting.  \nI could use tftp32 or serva but i like to make my own tools and these 2 were missing some features here and there.  \n\nSo here comes a small portable dhcp server including a tftp and a http server.  \n\nThis is freeware (and will always be), should be opensource and the unique here idea is to share and contribute.  \n\n-dhcp daemon supports an **alternative filename** based on the user-class thus enabling chainloading (gpxe-\\\u003epxelinux, ipxe-\\\u003escript, etc), and also support settings **dhcp options** (which can then be used by your boot loader)  \n-tftp daemon supports **tsize** and **blksize** commands.  \n-http daemon support **head** , **range** (mandatory for ipxe sanboot options) and over 2gb iso.  \n-new in version 1.0.0.7 : **BINL** (RIS \\\u0026 WDS) support  \n-new in version 1.0.0.10 : **DNS** daemon  \n-new in version 1.0.0.14 : **ProxyDHCP** option  \n-new in version 1.0.0.18 : support **pcbios/EFI** mode  \n\nThe root home of tftp and http is the folder where you main pxe loader sits.  \nI put all my iso files in a sub folder called images.  \nI put all my wim files in a sub folder called sources.  \nI put all my other loaders, in case I want to chain load, in next to my main loader (bootmgr, pxelinux, gpxe, grldr, etc)  \n\nIn the attached screenshot, i load ipxe then chainloads a script (menu.ipxe).  \nIn the script 3 different methods : the classic memdisk, a newer approach with sanboot and a new kid on the block wimboot.  \n\nMore info about these loading methods here :  \n[http://www.syslinux....dex.php/MEMDISK](http://www.syslinux.org/wiki/index.php/MEMDISK \"External link\")  \n[http://ipxe.org/cmd/sanboot](http://ipxe.org/cmd/sanboot \"External link\")  \n[http://ipxe.org/wimboot](http://ipxe.org/wimboot \"External link\")  \n\nSide note about ipxe+sanboot+http : I am big fan.  \nI have always been looking for a quick and efficient boot from lan methods and this is one is great : executes as it read and faster than memdisk since no preloading of the ISO is required.  \niPXE reaches 50/60 MBits/secs on my lan.  \n\n\"Voila\".  \nAny questions, feedback is welcome.  \n\nRegards,  \nErwan  \n\n[Click here to download this file](http://reboot.pro/index.php?app\u003ddownloads\u0026showfile\u003d303 \"\")   \n"
    },
    {
      "id": "171724",
      "timestamp": "2013-04-30T18:42:44+00:00",
      "author": "erwan.l",
      "content": "the menu.ipxe script :\n\nThe menu.ipxe script :  \n\\\u003ccode\\\u003e  \n#!ipxe  \nset boot-url [http://${dhcp-server}]( \"External link\")  \n######## MAIN MENU ###################  \n:start  \nmenu Welcome to iPXE\u0027s Boot Menu  \nitem  \nitem --gap -- ------------------------- Operating systems ------------------------------  \nitem 7pe_x86_E Boot 7pe_x86 via sanboot  \nitem pmagic Boot pmagic via memdisk  \nitem wimboot wimboot  \nitem --gap -- ------------------------------ Utilities ---------------------------------  \nitem shell Enter iPXE shell  \nitem reboot Reboot  \nitem  \nitem exit Exit (boot local disk)  \nchoose --default 7pe_x86_E_1 --timeout 30000 target \\\u0026\\\u0026 goto ${target}  \n########## UTILITY ITEMS ####################  \n:shell  \necho Type exit to get the back to the menu  \nshell  \nset menu-timeout 0  \ngoto start  \n:failed  \necho Booting failed, dropping to shell  \ngoto shell  \n:reboot  \nreboot  \n:exit  \nexit  \n########## MENU ITEMS #######################  \n:7pe_x86_E  \nsanboot --no-describe ${boot-url}/images/7pe_x86.iso \\|\\| goto failed  \ngoto start  \n:pmagic  \ninitrd ${boot-url}/images/pmagic/pmagic_2013_02_28.iso  \nchain ${boot-url}/memdisk iso \\|\\| goto failed  \ngoto start  \n:wimboot  \n#case sensitive  \nkernel wimboot  \ninitrd BOOTMGR BOOTMGR  \ninitrd BOOT/BCD BCD  \ninitrd BOOT/BOOT.SDI BOOT.SDI  \ninitrd SOURCES/BOOT.WIM BOOT.WIM  \nboot  \ngoto start\n\n"
    },
    {
      "id": "171725",
      "timestamp": "2013-04-30T19:35:06+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e \"Voila\".  \n\u003e **Any questions** , feedback is welcome.  \n\nI know you were waiting for it ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif):  \nWHAT? ![:w00t:](http://reboot.pro/public/style_emoticons/default/w00t.gif) NO BINL server integrated? ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif)  \n\n![:jaclaz:](http://reboot.pro/public/style_emoticons/default/jaclaz.gif)  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko\n\n"
    },
    {
      "id": "171727",
      "timestamp": "2013-04-30T19:54:24+00:00",
      "author": "erwan.l",
      "content": "Hi Wonko,\n\nI dont know much about BINL right now.\n\nI may be wrong but this is mainly (only?) used my MS is not it? is not it obsolete nowadays?\n\nShoot me for my ignorance there :smile:\n\nIf this is \"only\" a set of dhcp settings + some files to serve, I could probably implement it as well.\n\nRegards,  \nErwa,\n\n"
    },
    {
      "id": "171728",
      "timestamp": "2013-04-30T19:59:16+00:00",
      "author": "erwan.l",
      "content": "about ipxe, if anyone is willing to give the following a test :\n\n:win7  \nsanboot --no-describe --drive 0x81 ${boot-url}/images/win7_x86_sp1.iso \\|\\| goto failed  \ngoto start  \nit boots but with long delays between different steps, and by the end the windows installer GUI complains about \"no dvd driver found\"...  \ni believe it would be handy to install win7 this way.  \n/erwan  \nanswering myself :smile:  \none cannot boot win7dvd.iso, see explanation from Michael here : [http://forum.ipxe.or...ad.php?tid\u003d6894](http://forum.ipxe.org/showthread.php?tid\u003d6894 \"External link\").\n\n"
    },
    {
      "id": "171734",
      "timestamp": "2013-04-30T20:58:18+00:00",
      "author": "erwan.l",
      "content": "Another one which I like :,\n\n-one can sanboot to an iscsi blank target.\n\n-boot will fail (since target is blank) and then the system will keep on booting on the cd/dvd (provided bios is setup that way).\n\n-if the dvd happens to be win7 (or up), windows will list the iscsi target as possible installable media :smile:\n\nhere below the ipxe script :\n\n:bootsan  \ndhcp net0  \nset keep-san 1  \nsanboot iscsi:192.168.1.248:tcp:3260:0:iqn.2000-01.com.synology:ds210.name  \nboot  \ngoto start  \nwhich is equal to the following dhcp setup (see screenshot) :  \n-load ipxe,  \n-chainload rootpath \u003d iscsi:192.168.1.248:tcp:3260:0:iqn.2000-01.com.synology:ds210.name  \n-set options \u003d 175.6.1.1.1.8.1.1 (see [here](http://ipxe.org/howto/dhcpd \"External link\")for options)  \n/erwan  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![iscsi.png](http://reboot.pro/uploads/monthly_04_2013/post-25905-0-94712500-1367355288_thumb.png)](http://reboot.pro/uploads/monthly_04_2013/post-25905-0-94712500-1367355288.png \"iscsi.png - Size: 28.38KB\"){#ipb-attach-url-14249-0-88849100-1676066516}\n\n"
    },
    {
      "id": "171779",
      "timestamp": "2013-05-01T15:28:40+00:00",
      "author": "reboot12",
      "content": "Maybe try load ISO over memdisk from menu.ipxe like this: [with RAW parameter](http://reboot.pro/topic/11668-load-iso-with-memdisk-using-http-not-tftp/page-2#entry171762 \"\")\n\n"
    },
    {
      "id": "171780",
      "timestamp": "2013-05-01T15:37:20+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Hi Wonko,\n\u003e\n\u003e I dont know much about BINL right now.\n\u003e\n\u003e I may be wrong but this is mainly (only?) used my MS is not it? is not it obsolete nowadays?\n\u003e\n\u003e Shoot me for my ignorance there :smile:\n\nI have no idea if \"something\" else uses BINL, for sure it used in PXe RIS installs of Windows and - conversely - in the senselessly renamed WDS (which is actually an evolution of RIS and BINL).\n\nTraditionally this has been a PITA because easy to follow/implement documentation is very scarce, there is in practice only one \"free\" BINL server (by Sherpya) and TFTP32 - which is undoubtedly the most used tool - misses one.\n\nServa includes one and since it is an \"all in one\" it has quickly become a new \"standard\".\n\nIn practice:\n\nTFTP32 alone \u003d no PXE installs (No RIS No BINL No WDS)\n\nTFTP32+Sherpya\u0027s BINL Server \u003d PXE install up to Server 2003 (RIS + BINL, No WDS)\n\nServa \u003d PXE install up to Server 2003 AND up to Windows 8 (RIS + BINL + WDS)\n\nDeveloping a new thingy without it seems to me like a \"step backwards\", maybe (cannot say) it could be implemented as a \"Plugin\" or \"Module\" (or whatever) i.e. optional but somehow \"certified\" by the Author ![:worship:](http://reboot.pro/public/style_emoticons/default/worship.gif) as compatible/easy to use.\n\nSee Definitions here:\n\n[http://www.vercot.co...indowsPXE1.html](http://www.vercot.com/~serva/an/WindowsPXE1.html \"External link\")\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "171784",
      "timestamp": "2013-05-01T17:04:48+00:00",
      "author": "erwan.l",
      "content": "\u003e Maybe try load ISO over memdisk from menu.ipxe like this: [with RAW parameter](http://reboot.pro/topic/11668-load-iso-with-memdisk-using-http-not-tftp/page-2#entry171762 \"\")\n\nHi Reboot12,\n\nThe issue with memdisk is the memory requirement.\n\nMy dvd iso is 2.1 gig and my system cannot afford to lose that much memory to load the iso.\n\nBest method I could find for now to install win7 thru pxe boot is [http://ipxe.org/howt...talling_windows](http://ipxe.org/howto/winpe#installing_windows \"External link\").\n\nRegards,\n\nErwa,\n\n"
    },
    {
      "id": "171786",
      "timestamp": "2013-05-01T17:15:31+00:00",
      "author": "erwan.l",
      "content": "\u003e I have no idea if \"something\" else uses BINL, for sure it used in PXe RIS installs of Windows and - conversely - in the senselessly renamed WDS (which is actually an evolution of RIS and BINL).\n\u003e\n\u003e Traditionally this has been a PITA because easy to follow/implement documentation is very scarce, there is in practice only one \"free\" BINL server (by Sherpya) and TFTP32 - which is undoubtedly the most used tool - misses one.\n\u003e\n\u003e Serva includes one and since it is an \"all in one\" it has quickly become a new \"standard\".\n\u003e\n\u003e In practice:\n\u003e\n\u003e TFTP32 alone \u003d no PXE installs (No RIS No BINL No WDS)\n\u003e\n\u003e TFTP32+Sherpya\u0027s BINL Server \u003d PXE install up to Server 2003 (RIS + BINL, No WDS)\n\u003e\n\u003e Serva \u003d PXE install up to Server 2003 AND up to Windows 8 (RIS + BINL + WDS)\n\u003e\n\u003e Developing a new thingy without it seems to me like a \"step backwards\", maybe (cannot say) it could be implemented as a \"Plugin\" or \"Module\" (or whatever) i.e. optional but somehow \"certified\" by the Author ![:worship:](http://reboot.pro/public/style_emoticons/default/worship.gif) as compatible/easy to use.\n\u003e\n\u003e See Definitions here:\n\u003e\n\u003e [http://www.vercot.co...indowsPXE1.html](http://www.vercot.com/~serva/an/WindowsPXE1.html \"External link\")\n\u003e\n\u003e ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\u003e\n\u003e Wonko\n\nHi Wonko,\n\nI\u0027ll definitely have a look at BINL along with RIS and WDS.\n\nFor now the main purpose of my pxe server is not to install windows distributions : although it may be possible and to be fair is what I am looking at right now :smile:\n\nIt seems that this is serva\u0027s main purpose.\n\nNow I need to reverse engeeneer BINL :smile:\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "171787",
      "timestamp": "2013-05-01T17:21:23+00:00",
      "author": "erwan.l",
      "content": "talking about operating system installation thru PXE :\n\nI successfully tested the following linux distribs.\n\nLinux sure makes it easy (when it comes to install thru a network) as opposed to windows (my personal view there...).\n\n:ubuntu-installer  \nkernel ${boot-url}/ubuntu-installer/i386/linux  \ninitrd ${boot-url}/ubuntu-installer/i386/initrd.gz  \nboot  \ngoto start  \n:centos-installer  \ninitrd ${boot-url}/centos-installer/i386/CentOS-6.4-i386-netinstall.iso  \nchain ${boot-url}/memdisk iso \\|\\| goto failed  \ngoto start  \n:opensuse-installer  \nsanboot --no-describe --keep ${boot-url}/opensuse-installer/openSUSE-12.3-NET-i586.iso \\|\\| goto failed  \ngoto start  \ni purposedly picked up 3 different ways of booting\n\n"
    },
    {
      "id": "171797",
      "timestamp": "2013-05-01T19:34:28+00:00",
      "author": "Wonko the Sane",
      "content": "NO need to reverse BINL, Sherpya\u0027s tool is Open Source (see links here):\n\n[http://diddy.boot-la.../files/binl.htm](http://diddy.boot-land.net/pxe/files/binl.htm \"External link\")\n\nand has published a page about it:\n\n[http://oss.netfarm.it/guides/binl.php](http://oss.netfarm.it/guides/binl.php \"External link\")\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "171800",
      "timestamp": "2013-05-01T19:54:46+00:00",
      "author": "erwan.l",
      "content": "\u003e NO need to reverse BINL, Sherpya\u0027s tool is Open Source (see links here):\n\u003e\n\u003e [http://diddy.boot-la.../files/binl.htm](http://diddy.boot-land.net/pxe/files/binl.htm \"External link\")\n\u003e\n\u003e and has published a page about it:\n\u003e\n\u003e [http://oss.netfarm.it/guides/binl.php](http://oss.netfarm.it/guides/binl.php \"External link\")\n\u003e\n\u003e ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\u003e\n\u003e Wonko\n\nReading thru it, on top of looking in bnlsrv.py and looking at what my wireshark spits out.\n\nI have found the following steps.\n\nI made it up to step 7 so far :smile:\n\nStill dont know what bcd winpe.wim must contain. i guess genuine ones fresh from dvd wont do.\n\nWith some time and effort, i may be able to implement BINL.\n\nFor now, if it is only about booting a winpe.wim, there other simpler ways.\n\nif I can boot a windows 7 installation, then it shall become interesting.\n\n```\n1.C-\u003eS DHCP request for IP\n2.S-\u003eC Acknowledges IP request and gives the client a (free) ip-address\n3.C-\u003eS DHCP request for bootserver/file\n\n4.S-\u003eC DHCP Reply for bootserver/file SERVER:/boot/myserver/wdsnbp.0\n5.C-\u003eS TFTP Request for bootfile /boot/myserver/wdsnbp.0\n6.S-\u003eC TFTP Reply /boot/myserver/wdsnbp.0\n7.C-\u003eS BINL request (where can I find the BCD file?)\n\nServer finds in tftpd.log where that client has downloaded its wdsnbp file from and relies with the bcd file in that same directory.\n\n8.S-\u003eC BINL reply   /boot/pxeboot.com and /boot/myserver/bcd\n\n9.C-\u003eS TFTP request /boot/pxeboot.com\n10.S-\u003eC TFTP reply   /boot/pxeboot.com\n11.C-\u003eS TFTP request /boot/myserver/bcd\n12.S-\u003eC TFTP reply   /boot/myserver/bcd\n\nClient reads BCD file and finds out where to download the boot.sdi and winpe.wim from\n\n13.C-\u003eS TFTP request /boot/boot.sdi\n14.S-\u003eC TFTP reply   /boot/boot.sdi\n\n15.C-\u003eS TFTP request /boot/winpe.wim\n16.S-\u003eC TFTP reply   /boot/winpe.wim\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "171833",
      "timestamp": "2013-05-02T14:05:10+00:00",
      "author": "erwan.l",
      "content": "AIO Pxe Server (not sure about that name...) + BINL server works.\n\nI was able to perform an XP installation over the network.\n\n1-I created a folder RIS (windows shared, nullsessions enabled) containing BINL and XP cd.\n\n2-I extracted all inf files from driverpacks to a temp\\\\inf folder and ran infparser against it to obtain devlist.cache and nics.txt.\n\n3-I extracted all sys files from driverpacks to a temp\\\\sys folder and moved them to \\\\xp\\\\i386.\n\n4-I launched binlsrv.exe.\n\n5-I put the following file on my root RIS folder : startrom.0, ntldr, ntdetect.com, and winnt.sif.\n\n6-I launched my pxe server choosing startrom.0 as the bootstrap loader.\n\nI then could witness that startom.0 called ntldr which called ntdetect.com which read winnt.sif (thru tftpd) and from there my windows xp installation started.\n\nDuring the process I could see my BINL server indicating which sys file to retrieve.\n\nLater on, I could see the windows installation using my windows share (dont forget about nullsessions!).\n\nThe content of my (ris) winnt.sif is to be found below.\n\nXp was \"easy\", will now try Win7 :smile:\n\n/Erwan\n\n\\[data\\]  \nfloppyless \u003d \"1\"  \nmsdosinitiated \u003d \"1\"  \n; Needed for second stage  \nOriSrc \u003d \"\\\\\\\\192.168.1.100\\\\RemInst\\\\XP\\\\i386\"  \nOriTyp \u003d \"4\"  \nLocalSourceOnCD \u003d 1  \nDisableAdminAccountOnDomainJoin \u003d 1  \n\\[SetupData\\]  \nOsLoadOptions \u003d \"/fastdetect\"  \n; Needed for first stage  \nSetupSourceDevice \u003d \"\\\\Device\\\\LanmanRedirector\\\\192.168.1.100\\\\RemInst\\\\XP\"  \n\\[RemoteInstall\\]  \n; Avoid automatic format/repartition  \nRepartition \u003d No  \nUseWholeDisk \u003d No  \n\\[UserData\\]  \nComputerName \u003d \\*  \n;ProductID\u003dXXXXX-XXXXX-XXXXX-XXXXX-XXXXX\n\n"
    },
    {
      "id": "171859",
      "timestamp": "2013-05-02T19:07:30+00:00",
      "author": "erwan.l",
      "content": "In the previous post, I showed how to boot Windows XP install cd thru network with a PXE server + a BINL server.\n\nNow here comes to do the same with a WinPE wim file.\n\n1-I created a WDS folder with a sources sub folder containing boot.wim and a boot sub folder containing bcd and boot.sdi.\n\n2-I extracted all inf files from driverpacks to a temp\\\\inf folder and ran infparser against it to obtain devlist.cache and nics.txt. (not sure this part is needed but binlsrv wont start without these 2 generated files).\n\n3-I launched binlsrv.exe.\n\n4-I put the following file on my root WDS folder : wdsnbp.com, pxeboot.com, bootmgr.exe.\n\n5-I launched my pxe server choosing wdsnbp.com as the bootstrap loader.\n\nwdsnbp.com with load pxeboot.com which will load bootmgr.exe which will read bcd ...\n\nFrom winpe, you can then map the windows share containing your windows 7 installation files then.\n\nOr even automate by customizing your winpe wim file.\n\nThe AIO Pxe Server zip file contains the BINL server. I believe there are no issues to distribute it.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "171877",
      "timestamp": "2013-05-03T09:08:09+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e AIO Pxe Server (not sure about that name...)\n\nWhat about \"ELPxe Server\" this allows, beside giving some relevance to the name (actually initials) of the Author, some spanish subtitle:\n\n\u003e ELPxe Server, el Pxe server más completo del mundo\n\n![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "171885",
      "timestamp": "2013-05-03T10:50:02+00:00",
      "author": "erwan.l",
      "content": "\u003e What about \"ELPxe Server\" this allows, beside giving some relevance to the name (actually initials) of the Author, some spanish subtitle:\n\u003e\n\u003e ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)\n\u003e\n\u003e ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\u003e\n\u003e Wonko\n\nThen it should be \"LEPxe Server\", would still work with my initials and would add a french touch !\n\nBut this is way too megalomaniac :smile:\n\n"
    },
    {
      "id": "171886",
      "timestamp": "2013-05-03T10:57:35+00:00",
      "author": "erwan.l",
      "content": "About [post #15](http://reboot.pro/topic/18488-all-in-one-pxe-server/#entry171800 \"\"), I was about to add a BINL/WDS feature to that pxe server (listen on port 4011 requests, send back the right responses, etc) but it appears that if no BINL/WDS server is found, then the winpe boot will proceed anyway going for a default \\\\boot\\\\bcd (whereas with a BINL/WDS server you could implement some logic based on platform/mac/uuid, etc).\n\nBINL/WDS is \"really/only\" useful in step 8 (see [post #13](http://reboot.pro/topic/18488-all-in-one-pxe-server/#entry171800 \"\")).\n\nActually MS explains it here : [http://technet.micro...8(v\u003dws.10).aspx](http://technet.microsoft.com/en-us/library/cc722358(v\u003dws.10).aspx \"External link\") .\n\nAlso one can use pxeboot.com (or rather pxeboot.n12) directly, thus skipping wdsnbp.com.\n\n/Erwan\n\n"
    },
    {
      "id": "171889",
      "timestamp": "2013-05-03T11:18:31+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Then it should be \"LEPxe Server\", would still work with my initials and would add a french touch !  \n\u003e But this is way too megalomaniac :smile:\nWell, the issue is that LE is usually associated with Lite Edition, i.e. somewhat a diminutive. ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif)  \n\nI am not sure to understand your last post. (actually I am sure I don\u0027t understand it) ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)  \nCan you expand on it?  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "171894",
      "timestamp": "2013-05-03T11:35:24+00:00",
      "author": "erwan.l",
      "content": "\u003e Well, the issue is that LE is usually associated with Lite Edition, i.e. somewhat a diminutive. ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif)  \n\u003e\n\u003e I am not sure to understand your last post. (actually I am sure I don\u0027t understand it) ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)  \n\u003e Can you expand on it?  \n\u003e\n\u003e ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\u003e Wonko\n\nWhat I meant is that initially I tought that having a BINL server running was mandatory to boot winpe using wdsnbp.com boot strapper.\n\nAnd actually indeed, when BINL is running, you can see one incoming request and BINL server pointing to \\\\boot\\\\bcd.\n\nBut I then realised that even with BINL not running, wdsnpb/pxeboot will still boot winpe.\n\nPxeboot will then simply attempt to download \\\\boot\\\\bcd (default hardcoded path I guess).\n\nIn such case then, I would say that the only interesting point of the BINL server is that one could dynamically point to another bcd file (which would then point to another wim file).\n\nOne could think of a logic depending on the mac address, or platform, etc which is part of the client request.\n\nI guess this is probably what MS WDS does.\n\nNote that this applies only to WDS (win7 and up), not RIS (xp network install is not possible without a BINL/RIS server).\n\nHope this makes more sense.\n\n/Erwan\n\n"
    },
    {
      "id": "171899",
      "timestamp": "2013-05-03T11:52:35+00:00",
      "author": "Wonko the Sane",
      "content": "I thought that the feature was required by WDS in the sense that normally (nomen is omen) Windows Deployment Service in an enterprise should allow to choose different images from the server to be deployed to the client (i.e. one central repository serving all). ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)\n\nI.e. i believed that that would provide a way to choose form the client which image is deployed from the server.\n\nIt\u0027s not really my field of experience, though.\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "171903",
      "timestamp": "2013-05-03T12:19:51+00:00",
      "author": "erwan.l",
      "content": "Hi Wonko,\n\nIndeed this is what I meant :\n\nMy [post #15](http://reboot.pro/topic/18488-all-in-one-pxe-server/#entry171859 \"\") was wrong : you can boot winpe via wdsnbp bootstrap loader without a BINL server (which is answering WDS client requests).\n\nIf I were to implement a BINL/WDS feature in my pxe server, to make it useful I would then offer some sort of logic where one could hand over BCD files based on some criterias found in the client request.\n\nA bit like pxelinux does to hand over a menu file (first tries out mac address, then ip, and finally defaullt menu).\n\nTo illustrate what goes on between client and server when wdsnbp bootstrap loader, see attached screenshot.\n\nOne thing which is not clear to me yet (I dont have a MS WDS server) is how the windows installation is actually triggered : is it simply a batch/executable triggerred from winpeshl.ini using some samba share?\n\nRegards,\n\nErwan  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![binl.png](http://reboot.pro/uploads/monthly_05_2013/post-25905-0-47819400-1367583414_thumb.png)](http://reboot.pro/uploads/monthly_05_2013/post-25905-0-47819400-1367583414.png \"binl.png - Size: 47.56KB\"){#ipb-attach-url-14250-0-88858900-1676066516}\n\n"
    },
    {
      "id": "171905",
      "timestamp": "2013-05-03T12:25:30+00:00",
      "author": "Wonko the Sane",
      "content": "Neither I have one available, but it seems to me much more complex than what you seem to assume. ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif)\n\nSee:\n\n[http://trycatch.be/b...parameters.aspx](http://trycatch.be/blogs/roggenk/archive/2010/07/02/looking-at-your-wds-windows-deployment-services-configuration-parameters.aspx \"External link\")\n\nThis may be of actual help to you ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png):\n\n[http://jacermeno.fil...alreference.doc](http://jacermeno.files.wordpress.com/2010/10/wds_technicalreference.doc \"External link\")\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "171909",
      "timestamp": "2013-05-03T12:40:28+00:00",
      "author": "erwan.l",
      "content": "\u003e Neither I have one available, but it seems to me much more complex than what you seem to assume. ![:ph34r:](http://reboot.pro/public/style_emoticons/default/scared9.gif)\n\u003e\n\u003e See:\n\u003e\n\u003e [http://trycatch.be/b...parameters.aspx](http://trycatch.be/blogs/roggenk/archive/2010/07/02/looking-at-your-wds-windows-deployment-services-configuration-parameters.aspx \"External link\")\n\u003e\n\u003e This may be of actual help to you ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png):\n\u003e\n\u003e [http://jacermeno.fil...alreference.doc](http://jacermeno.files.wordpress.com/2010/10/wds_technicalreference.doc \"External link\")\n\u003e\n\u003e ![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\u003e\n\u003e Wonko\n\nYou are right : wds is quite complex and complete actually.\n\nI am only focusing on one small aspect : the booting part.\n\nI was merely surfing on your initial comment i.e should my pxe server implements some sort of BINL feature.\n\nI have now come to the conclusion that I could very easily add an extra option/field where one would tick a checkbox to enable \"BINL/WDS\" and he would then have to point to BCD file (himself pointing to a WIM file).\n\nNot sure if this is very useful.\n\nPlus this is stepping away from opensource/free technologies.\n\nAt least now that you pointed me to BINL/WDS/RIS, I have a tiny bit more understanding and I could myself install XP thru network which is useless these days (at least in my environement) :smile:\n\n/Erwan\n\n"
    },
    {
      "id": "171915",
      "timestamp": "2013-05-03T14:09:41+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Not sure if this is very useful.  \n\u003e Plus this is stepping away from opensource/free technologies.  \n\u003e\nAllow me to disagree.  \nThe whole point of having free (and possibly additionally open source) tools is to be not forced to (example) get Server 2008 or 2012 to have WDS to deploy a set of images.  \n\nMore than that :wink: you would need to name your tool All (but BINL and WDS) In One Pxe Server, ABBAWIO Pxe Server.  \nOf course, you could as well call it Winbuilder ![:whistling:](http://reboot.pro/public/style_emoticons/default/happy22.gif) or Billy-Bob ![:w00t:](http://reboot.pro/public/style_emoticons/default/w00t.gif), what\u0027s in a name? ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "171919",
      "timestamp": "2013-05-03T15:40:54+00:00",
      "author": "coder",
      "content": "I agree, I think you cannot call your software \"All in one\" ![:doh7:](https://reboot.pro/public/style_emoticons/default/doh7.gif)\n\nso far I cannot see the difference between this software and Tftpd32+BINL ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)\n\nTime ago I started using Serva (I think recommended by Wonko) when there\n\nwas a guy trying to \"sell\" as \"easier\" the same idea of mixing Tftpd + BINL + etc etc...\n\nSince then Serva is loaded on my PC with the OSs I need to net install and it is just a\n\nmatter of running the app and selecting the OS I want from the booting menu.\n\nI\u0027m having a hard time imagining anything easier... ![:clap:](https://reboot.pro/public/style_emoticons/default/clap.gif)\n\n"
    },
    {
      "id": "171922",
      "timestamp": "2013-05-03T16:50:55+00:00",
      "author": "erwan.l",
      "content": "Hi Coder,\n\nI am not trying to sell anything here (litteraly or not litteraly speaking).\n\nAll in one Pxe Server is indeed just a name (I had to find one...).\n\n\"All In One\" seemed a good idea as it does HTTP server which TFTP does not do (this and a few other things).\n\nNot to mention I did not manage to run TFTPD32+BINL but I blame my environement (i have another dhcp box, etc), not TFTPD32.\n\nServa is a good product but to get the most out of it, you need to pay which is not what I am looking for.\n\nDont get mistaken there : my goal is not to compete or compare with others.\n\nI only want to share my experience and tools with this community.\n\nNow to come back about the name, Billy Bob is already taken, so I am stuck with AIO Pxe Server :wink:\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "171923",
      "timestamp": "2013-05-03T16:55:48+00:00",
      "author": "erwan.l",
      "content": "\u003e Allow me to disagree.  \n\u003e The whole point of having free (and possibly additionally open source) tools is to be not forced to (example) get Server 2008 or 2012 to have WDS to deploy a set of images.  \n\u003e\n\u003e More than that :wink: you would need to name your tool All (but BINL and WDS) In One Pxe Server, ABBAWIO Pxe Server.  \n\u003e Of course, you could as well call it Winbuilder ![:whistling:](https://reboot.pro/public/style_emoticons/default/happy22.gif) or Billy-Bob ![:w00t:](https://reboot.pro/public/style_emoticons/default/w00t.gif), what\u0027s in a name? ![:unsure:](https://reboot.pro/public/style_emoticons/default/unsure.png)  \n\u003e\n\u003e ![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)  \n\u003e Wonko\n\nI always aggree to disaggree :smile:\n\nIf I feel there is a demand to a BINL/WDS then I may implement it.\n\nAbout the name, Billy-Bob being already taken is the big drame of my life :smile:\n\n/Erwan\n\n"
    },
    {
      "id": "171932",
      "timestamp": "2013-05-03T19:40:54+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I agree, I think you cannot call your software \"All in one\" ![:doh7:](https://reboot.pro/public/style_emoticons/default/doh7.gif)\n\u003e\n\u003e so far I cannot see the difference between this software and Tftpd32+BINL ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)\n\u003e\n\u003e Time ago I started using Serva (I think recommended by Wonko) when there\n\u003e\n\u003e was a guy trying to \"sell\" as \"easier\" the same idea of mixing Tftpd + BINL + etc etc...\n\u003e\n\u003e Since then Serva is loaded on my PC with the OSs I need to net install and it is just a\n\u003e\n\u003e matter of running the app and selecting the OS I want from the booting menu.\n\u003e\n\u003e I\u0027m having a hard time imagining anything easier... ![:clap:](https://reboot.pro/public/style_emoticons/default/clap.gif)\n\nWell, the bad news ![:(](https://reboot.pro/public/style_emoticons/default/sad.png) are that Serva\u0027s Author seemingly wants money now to provide a \"fully featured\" Serva (including the BINL/WDS server).\n\n[http://www.vercot.co...a/download.html](http://www.vercot.com/~serva/download.html \"External link\")\n\n@erwan\n\nJFYI (if you are not sexist) Billie-Bob is still available.... ![:whistling:](https://reboot.pro/public/style_emoticons/default/happy22.gif)\n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![serva_compair.jpg](http://reboot.pro/uploads/monthly_05_2013/post-31904-0-17636200-1367610027_thumb.jpg)](http://reboot.pro/uploads/monthly_05_2013/post-31904-0-17636200-1367610027.jpg \"serva_compair.jpg - Size: 28.59KB\"){#ipb-attach-url-14251-0-11837300-1676066517}\n\n"
    },
    {
      "id": "171934",
      "timestamp": "2013-05-03T20:35:52+00:00",
      "author": "coder",
      "content": "@erwan.l   \nplease do not get me wrong, I\u0027m not attacking you ![:white_flag:](https://reboot.pro/public/style_emoticons/default/character32.gif) I just cannot see the \"All in one\" thing but I might be wrong, sorry.\n\n@wonko\n\nI\u0027ve been Serva installing from Windows XP to Windows 8, plus several of the supported Linux distribution, and even net booting the Trinity Rescue Kit completelly for free using the last available free version ![:eek:](https://reboot.pro/public/style_emoticons/default/eek.gif)\n\nAFAIK you need to pay if you want to use it commercially or if you need some super-duper functionality.\n\nAnyway to be honest, I think Serva\u0027s paid version is really cheap.\n\n"
    },
    {
      "id": "171936",
      "timestamp": "2013-05-03T21:04:10+00:00",
      "author": "erwan.l",
      "content": "Hi Coder,\n\nI get your point.\n\n\"All In One\" is discussable : this was just a name or a way to reflect my goal.\n\nI\u0027ll try to find of another name, even if, after all, this is just a name :smile:\n\nAbout serva, the free version does not support PXE/BINL WInpe booting.\n\nThis only is enough for me to look for another solution.\n\nBut I am not here to discuss other products but rather get feedback on my software so that I can eventually improve it, debug it.\n\nSo far xxx PXE Server does dhcp, tftp, http, works along with BINL server and could in the future implement its own partial or full BINL service.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "171938",
      "timestamp": "2013-05-03T21:17:35+00:00",
      "author": "coder",
      "content": "@Erwan\n\nif you want to code a PXE server probably \"it is\" a good idea knowing about other tools that already do similar things. :smile:\n\nIf not you migh end up calling your software ![:showoff:](https://reboot.pro/public/style_emoticons/default/showoff.gif) **The Ultimate PXE Server** ![:showoff:](https://reboot.pro/public/style_emoticons/default/showoff.gif) when yesterday you didn\u0027t know what BINL was used for ![:rolleyes:](https://reboot.pro/public/style_emoticons/default/rolleyes.gif)\n\n**Edited by coder, 03 May 2013 - 09:26 PM.**\n"
    },
    {
      "id": "171939",
      "timestamp": "2013-05-03T21:30:36+00:00",
      "author": "erwan.l",
      "content": "\u003e @Erwan\n\u003e\n\u003e If not you migh be end up calling your software ![:showoff:](https://reboot.pro/public/style_emoticons/default/showoff.gif) **The Ultimate PXE Server** ![:showoff:](https://reboot.pro/public/style_emoticons/default/showoff.gif) when yesterday you didn\u0027t know what BINL was used for ![:rolleyes:](https://reboot.pro/public/style_emoticons/default/rolleyes.gif)\n\n\"touché\" :smile:\n\nindeed, i would mind to be seen as arrogant or pretentious.\n\nIn order to stay humble, I have renamed my software to \"Tiny Pxe Server\".\n\nHopefully this name will also be \"wonko\" compliant :smile:\n\nNo confusion anymore and we can now go back to technical matters :wink:\n\n/Erwan\n\n"
    },
    {
      "id": "171940",
      "timestamp": "2013-05-03T21:38:44+00:00",
      "author": "Brito",
      "content": "Serva has been reviewed here:\n\n\u003chttp://reboot.pro/topic/16873-serva/\u003e\n\nand here:\n\n[http://reboot.pro/to...iolation-proof/](http://reboot.pro/topic/16899-serva-gpl-violation-proof/ \"\")\n\nIn both times the result is not good. The author of Serva disregards the Intellectual Property Rights of open source code that is incorporated on his tool. I\u0027m sorry, Serva is not kosher, doesn\u0027t pass the \"smell\" test.\n\nNow, back on topic (my apologies for the intervention).\n\n"
    },
    {
      "id": "171942",
      "timestamp": "2013-05-03T22:04:08+00:00",
      "author": "coder",
      "content": "@erwan.l :tongue:\n\n@Nuno Brito  \nI\u0027m not really a license expert but it seems you are.\n\nAnyway, sorry if I\u0027ve mentioned what you consider an offending software.\n\n"
    },
    {
      "id": "171963",
      "timestamp": "2013-05-04T11:11:51+00:00",
      "author": "erwan.l",
      "content": "Tiny PXE Server now supports BINL/WDS.\n\nIn Tiny PXE Server, choose a proxy dhcp boot filename and indicate your BCD file in option 252.\n\nSee attached screenshot.\n\nTiny PXE Server will then start a proxy dhcp server (port 4011) next to the dhcp server (port 67).\n\n1-I created a WDS folder with a sources sub folder containing boot.wim and a boot sub folder containing bcd and boot.sdi.\n\n2-I put the following file on my root WDS folder : wdsnbp.com, pxeboot.com, bootmgr.exe.\n\n3-I launched my pxe server choosing wdsnbp.com as the bootstrap loader.\n\nwdsnbp.com with load pxeboot.com which will load bootmgr.exe which will read my bcd ...\n\nFor the record, when you dont have a BINL/WDS aka proxy dhcp server, this what you would get on your client :\n\n*Downloaded WDSNBP...*  \n*Architecture: x64*  \n*WDSNBP started using DHCP Referral.*  \n*Contacting Server:* *xxx.xxx.xxx.xxx* *(Gateway: xxx.xxx.xxx.1)...*  \n*No response from Windows Deployment Services server.*  \n*Launching pxeboot.com...*  \nwsdnbp.com then, by default, use pxeboot.com and boot\\\\bcd.  \nWith Tiny PXE Server, you can now specify which boot strap loader and which BCD you want to use.  \nNo need to call an extra software like a BINL server.  \nYou should then get this on your client:  \n*Contacting Server (xxx.xxx.xxx.xxx)\nArchitecture: x64\nTFTP download pxeboot.com*  \nRegards,  \nErwan  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![wds.png](http://reboot.pro/uploads/monthly_05_2013/post-25905-0-25231500-1367665590_thumb.png)](http://reboot.pro/uploads/monthly_05_2013/post-25905-0-25231500-1367665590.png \"wds.png - Size: 41.39KB\"){#ipb-attach-url-14252-0-11847300-1676066517}\n\n"
    },
    {
      "id": "171969",
      "timestamp": "2013-05-04T14:36:54+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e @wonko  \n\u003e I\u0027ve been Serva installing from Windows XP to Windows 8, plus several of the supported Linux distribution, and even net booting the Trinity Rescue Kit completelly for free using the last available free version ![:eek:](https://reboot.pro/public/style_emoticons/default/eek.gif)  \n\u003e AFAIK you need to pay if you want to use it commercially or if you need some super-duper functionality.  \n\u003e Anyway to be honest, I think Serva\u0027s paid version is really cheap.\n\nI don\u0027t know what you can do with Serva (I don\u0027t use it) in it\u0027s two versions, I am saying what is written on it\u0027s site, and to make sure there wasn\u0027t any misunderstanding I posted a screenshot of the relevant part.  \n\nIt was free (BOTH as in free beer AND free as in freedom, i.e. Open Source), more specifically licensed under the GNU GPL license, up to version 1.5:  \n\n\u003cbr /\u003e\n\n\u003e Serva 32/64 is a free package copyrighted 2010 by Patrick Masotta \\[Removed\\] released under the GNU GPL v2 and compatible Licenses\n\n\u003cbr /\u003e\n\nnow it has two versions, one free (as in free beer BUT NOT as in freedom, i.e. became closed source) with limited capabilities, one Commercial.  \n\nNothing more nothing less.  \n\nNow this (version 1.5):  \n\n\u003cbr /\u003e\n\n\u003e \u003cbr /\u003e\n\u003e\n\u003e Serva 32/64 was coded by Patrick Masotta \\[REMOVED\\]\n\u003e It\u0027s released under the GPL v2 (+ compatible licenses) and it\u0027s a work partially based on the following projects:  \n\u003e CHTTPServer 05/25/2001 by  \n\u003e **Souren M. Abeghyan**   \n\u003e\n\u003e CFtpServer v4.3 by  \n\u003e **Julien Poumailloux**   \n\u003e\n\u003e TFTPD32 v3.35 by  \n\u003e **Philippe Jounin**   \n\u003e\n\u003e HFS HTTP Server v2.2f by  \n\u003e **Massimo Melina**   \n\u003e\n\u003e UriParser v0.7.5 by  \n\u003e **Weijia Song \\\u0026 Sebastian Pipping**   \n\u003e\n\u003e FindFile 12/27/2003 by  \n\u003e **Louka Dlagnekov**   \n\u003e\n\u003e Wildcard string compare By  \n\u003e **Jack Handy**   \n\u003e\n\u003e MD5 routines from  \n\u003e **RSA Data Security**   \n\u003e\n\u003e IP checksum computation by  \n\u003e **Mike Muss**   \n\u003e\n\u003e DHCP lease persistence by  \n\u003e **Nick Wagner**   \n\u003e\n\u003e DHCP header file from  \n\u003e **The Internet Software Consortium**\n\n\u003cbr /\u003e\n\nvs. :  \n\n\u003cbr /\u003e\n\n\u003e \u003cbr /\u003e\n\u003e\n\u003e Serva is developed by Patrick Masotta \\[REMOVED\\]\n\u003e Serva.exe includes code and/or ideas from the following projects:  \n\u003e\n\u003e CHTTPServer 05/25/2001 by  \n\u003e **Souren M. Abeghyan**   \n\u003e\n\u003e CFtpServer v4.3 by  \n\u003e **Julien Poumailloux**   \n\u003e\n\u003e TFTPD32 v3.35 by  \n\u003e **Philippe Jounin**   \n\u003e\n\u003e MAC vendor routine by  \n\u003e **Laurent Deniel**   \n\u003e\n\u003e HFS HTTP Server v2.2f by  \n\u003e **Massimo Melina**   \n\u003e\n\u003e UriParser v0.7.5 by  \n\u003e **Weijia Song \\\u0026 Sebastian Pipping**   \n\u003e\n\u003e FindFile 12/27/2003 by  \n\u003e **Louka Dlagnekov**   \n\u003e\n\u003e CBaseWindow class by  \n\u003e **Jason Henderson, Oluseyi Sonaiya**   \n\u003e\n\u003e BINL net protocol initially reversed by  \n\u003e **Gianluigi Tiesi**   \n\u003e\n\u003e PXELINUX by  \n\u003e **Peter Anvin**   \n\u003e\n\u003e Hivex by  \n\u003e **Richard W.M. Jones**   \n\u003e\n\u003e WIM extraction/edition  \n\u003e **Carl Thijssen**   \n\u003e\n\u003e WIM extraction  \n\u003e **Igor Pavlov**   \n\u003e\n\u003e XML v.0x164 by  \n\u003e **Michael Chourdakis**   \n\u003e\n\u003e Regular Expressions 6/2010  \n\u003e **Sswater Dhi**   \n\u003e\n\u003e MD5 routines from  \n\u003e **RSA Data Security**   \n\u003e\n\u003e IP checksum computation by  \n\u003e **Mike Muss**   \n\u003e\n\u003e DHCP lease persistence by  \n\u003e **Nick Wagner**   \n\u003e\n\u003e DHCP header file from  \n\u003e **The Internet Software Consortium**   \n\u003e\n\u003e ServaPENet.exe includes code and/or ideas from the following projects:  \n\u003e\n\u003e CBaseWindow class by  \n\u003e **Jason Henderson, Oluseyi Sonaiya**   \n\u003e\n\u003e The credit goes to all of these guys...\n\n\u003cbr /\u003e\n\nMakes me additionally presume that this happens in blatant violation of the GNU GPL under which most of the mentioned tool are released, but it\u0027s not my business anyway.  \n\nI also believe that the source code for the GNU GPL version was never published, but again that is none of my business.  \n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko\n\n"
    },
    {
      "id": "171971",
      "timestamp": "2013-05-04T14:42:46+00:00",
      "author": "erwan.l",
      "content": "1.0.0.7 beta in progress : RIS implementation\n\nI can now handle NCQ requests ok (udp:4011). Sending back NCQ answers is rather easy.\n\nleft to do : on the fly INF folder parsing (to eliminate the manual infparser step).\n\nOnce done, installing XP thru network via BINL/RIS should be possible with Tiny PXE Server only.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "171999",
      "timestamp": "2013-05-04T20:10:57+00:00",
      "author": "coder",
      "content": "@erwan.l good job :smile:\n\n@wonko\n\nWith all due respect; licensing stuff is complex, you and Nuno might be right or wrong, I really cannot say.\n\nOne of the quoted links (I haven\u0027t read them completelly) seems to have some issues mixing GPL and LGPL, but not sure. ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)\n\nI still remember other licenses issues here like the one with the guy that made Easybcd ![:pressure:](https://reboot.pro/public/style_emoticons/default/infomilies10.gif)  \n[http://reboot.pro/to...cation-via-bcd/](http://reboot.pro/topic/17655-boot-into-3rd-party-efi-application-via-bcd/ \"\")\n\nor\n\nthe one with Hiren\u0027s etc,\n\nand at the end of the day I think it\u0027s really difficult having an educated ![:book:](https://reboot.pro/public/style_emoticons/default/book.gif) not passionate ![:viking:](https://reboot.pro/public/style_emoticons/default/headgear27.gif) opinion.\n\n\u003cbr /\u003e\n\nOK I think we already hijacked this thread enough, let\u0027s **erwan.l** to continue with he\u0027s tool.\n\n**Edited by coder, 04 May 2013 - 08:11 PM.**\n"
    },
    {
      "id": "172058",
      "timestamp": "2013-05-05T16:39:17+00:00",
      "author": "erwan.l",
      "content": "Added BINL/RIS support in version 1.0.0.7, on top of BINL/WDS supported in 1.0.0.6.  \n\nHow to install XP over the network with Tiny PXE Server \"only\" (aka no need to launch an extra BINL server) :  \n\n\u003cbr /\u003e\n\n1-I created a folder x:\\\\PXEBOOT (windows shared, nullsessions enabled) containing a subfolder XP (installation cd files).  \n2-I extracted all inf files from lan [driverpacks](http://driverpacks.net/ \"External link\") to x:\\\\PXEBOOT\\\\INF folder.  \n3-I extracted all sys files from lan [driverpacks](http://driverpacks.net/ \"External link\") to x:\\\\PXEBOOT\\\\XP\\\\I386 folder.  \n4-I put the following files in x:\\\\PXEBOOT : startrom.0, ntldr, ntdetect.com, and winnt.sif (see [post #14](http://reboot.pro/topic/18488-tiny-pxe-server/#entry171833 \"\") for winnt.sif syntax).  \n5-I launched Tiny PXE Server choosing startrom.0 as the bootstrap loader and checking BINL.  \n\nNote that Tiny PXE Server will parse \"on the fly\" all \\*.inf files in \\\\INF folder whenever XP installer will query a driver file name from a VID\\\\PID\\\\Subsys ID.  \nNo need to parse these inf files manually and upfront anymore.  \n\nFeedback welcome.  \n\nIn a future version I plan to move the INF folder to the XP folder, and retrieve that path dynamically from the XP RIS request. Would make more sense.  \nToo bad startrom cannot take winnt.sif as a parameter : would make the whole thing much more flexible.  \n\nRegards,  \nErwan   \n"
    },
    {
      "id": "172127",
      "timestamp": "2013-05-07T05:19:16+00:00",
      "author": "Centaur",
      "content": "you might want to do something with the lay out, on a 1024x768 screen when you click the button \"Other\" \\[-\\\u003e\\] (option 17) the interface goes right off the bottom of screen\n\n"
    },
    {
      "id": "172131",
      "timestamp": "2013-05-07T06:41:06+00:00",
      "author": "reboot12",
      "content": "Yes, please fix this:\n\n1. Default window position to fit in 1024x768 screens\n\n2. After click Other button additional window extend to right instead down\n\n3. Make store settings e.g. in .ini file - in WinXP SP2 tool not store settings :-(\n\nAs an example, let it be TFTPD32 by Ph. Jounin. The main window will fit even on a smaller screen 800x600.\n\n**Edited by reboot12, 07 May 2013 - 06:56 AM.**\n"
    },
    {
      "id": "172160",
      "timestamp": "2013-05-08T17:48:41+00:00",
      "author": "erwan.l",
      "content": "new version 1.0.0.8 out\n\n* window max heigth set to 768\n* bug in dhcp server fixed (unicast vs broadcast) prevent gpxe iso to get a dhcp lease\n* some more debug logged\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "172234",
      "timestamp": "2013-05-10T13:04:12+00:00",
      "author": "erwan.l",
      "content": "new version 1.0.0.9 out  \nfixed : random timeouts on tftp. oack packet return moved to thread.execute (later) rather than thread.create (sooner)\n\n"
    },
    {
      "id": "172406",
      "timestamp": "2013-05-13T17:25:57+00:00",
      "author": "erwan.l",
      "content": "new version 1.0.0.10 out  \nadded : will use datas from config.ini, if any (see sample)  \nadded : auto start of services possible  \nadded : about box  \nadded : forms will remember last top/left position  \nfixed : working/current directory\n\n"
    },
    {
      "id": "172415",
      "timestamp": "2013-05-14T01:12:11+00:00",
      "author": "cia53414",
      "content": "Wonko my friend, I understand you might hate Serva but I think that is not reason enough for publishing here Serva\u0027s coder e-mail address in plain text, exposing it to all sort of imaginable spam. That address is not a secret; it\u0027s found within Serva software and it also published at Serva\u0027s website. Then I think it would be nice if you erase them from this public forum. BTW what do you use as PXE server?   \n"
    },
    {
      "id": "172417",
      "timestamp": "2013-05-14T06:34:40+00:00",
      "author": "erwan.l",
      "content": "Hi Cia53414,\n\nCan we not start again a discussion about serva?\n\nIf a discussion is needed, let it be in a dedicated thread please.\n\nBeing the author of this thread and the developper of Tiny Pxe Server, I would rather have this thread be about feedback/comments on my software.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "172423",
      "timestamp": "2013-05-14T09:04:20+00:00",
      "author": "cia53414",
      "content": "erwan Sorry for any inconvenience but my last post is not really a discussion about Serva; It is just a humble request to Wonko to remove the plain text e-mail addresses he inadvertently publishes on this thread. about feedback I can give you some when you say: \\\u003eFor the record, when you dont have a BINL/WDS aka proxy dhcp server... well that makes not much sense; BINL/WDS concepts and proxyDHCP concepts are not the same thing. Keep the good work.   \n"
    },
    {
      "id": "172424",
      "timestamp": "2013-05-14T09:11:16+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Wonko my friend, I understand you might hate Serva but I think that is not reason enough for publishing here Serva\u0027s coder e-mail address in plain text, exposing it to all sort of imaginable spam. That address is not a secret; it\u0027s found within Serva software and it also published at Serva\u0027s website. Then I think it would be nice if you erase them from this public forum. BTW what do you use as PXE server?\n\nWell, there is some form of misunderstanding, I don\u0027t \"hate\" Serva, nor his Author.\n\nI don\u0027t use that software, and I don\u0027 t like the blatant way the Author is infringing the GPL License, and I say so, nothing more, nothing less.\n\nJFYI, there was some time ago some \"nasty business\" on the board relating to him, and JFYI, not only I defended his right to explain his ideas (wrong as they might be)\n\n\u003chttp://reboot.pro/topic/16873-serva/\u003e\n\n[http://reboot.pro/to...iolation-proof/](http://reboot.pro/topic/16899-serva-gpl-violation-proof/ \"\")\n\nbut I also self-suspended myself as a sign of protest for the way this thread has been managed:\n\n[http://reboot.pro/to...ect-winbuilder/](http://reboot.pro/topic/16947-designing-the-perfect-winbuilder/ \"\")\n\nDidn\u0027t thought that copying and pasting the contents of the help file could be a vector for spamming, removing the e-mail address, thanks for noticing.\n\nI am not (much) into PxE, but TFTP32 (+BINL) has always worked for me.\n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "172425",
      "timestamp": "2013-05-14T09:26:59+00:00",
      "author": "cia53414",
      "content": "Wonko, thanks for your understanding, but you forgot one of the addresses. About licensing I think you are just using big words against a software as you did several times before against other applications in this forum. When I use to read this forum I always enjoyed your technical postings; but your non-technical ramblings were always a pain ;-) thanks   \n"
    },
    {
      "id": "172426",
      "timestamp": "2013-05-14T09:33:29+00:00",
      "author": "erwan.l",
      "content": "I thinkI\u0027ll rename this thread \"Tiny PXE Server : not SERVA\" ![:(](https://reboot.pro/public/style_emoticons/default/sad.png)\n\n/erwan\n\n"
    },
    {
      "id": "172427",
      "timestamp": "2013-05-14T09:42:52+00:00",
      "author": "cia53414",
      "content": "Sorry erwan, as you can probably see there was a nasty story about Serva in this forum some time ago; there are people that are still upset about the way things were handled here. Please forgive us.   \n"
    },
    {
      "id": "172430",
      "timestamp": "2013-05-14T10:47:55+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I thinkI\u0027ll rename this thread \"Tiny PXE Server : not SERVA\" ![:(](https://reboot.pro/public/style_emoticons/default/sad.png)\n\u003e\n\u003e /erwan\n\nNot a bad idea. ![:unsure:](https://reboot.pro/public/style_emoticons/default/unsure.png)\n\nAfter all since I renamed this thread:\n\n[http://reboot.pro/to...about-grub4dos/](http://reboot.pro/topic/5041-post-here-anything-that-crosses-your-mind-about-grub4dos/ \"\")\n\nthe sky didn\u0027t fall on our heads ![:w00t:](https://reboot.pro/public/style_emoticons/default/w00t.gif) (but it may well happen tomorrow ![:ph34r:](https://reboot.pro/public/style_emoticons/default/scared9.gif)).\n\nSorry for the inconveniences. ![:(](https://reboot.pro/public/style_emoticons/default/sad.png)\n\n@cia53414\n\nYou see, the good thing is that you are free to appreciate what you like of my contributions and express your disagreement with those that you don\u0027 t like :smile:.\n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "172753",
      "timestamp": "2013-05-24T21:02:42+00:00",
      "author": "erwan.l",
      "content": "Added in latest version : a DNS daemon.\n\nSends back A and PTR dns records.\n\nUses the windows hosts file first before using the running host dns servers.\n\nCan be useful for scripts, installation path, etc where you dont want to hardcode a specific IP or hostname.\n\nExample : add 1.2.3.4 master in your windows hosts files and use the hostname master in any of your scripts/paths/configuration files on your remote (pxe) hosts.\n\n/erwan\n\n"
    },
    {
      "id": "173156",
      "timestamp": "2013-06-05T12:55:48+00:00",
      "author": "ZEE",
      "content": "Hi Erwan...\n\nHow about create a forum for your nice tools...\n\nI have used tiny pxe server... and I could have used a forum to place some issues or ask for some features...\n\nThink about it... or if there is already one out there please point me to there,,,\n\nAbout \"tiny pxe server\"\n\nI changed the config.ini to include\n\nroot\u003dc:\\\\pxe\n\nfilename\u003dgrldr\n\nbut when i call the executable this values are not loaded from the .ini file and displayed in the respective text boxes...\n\nAlso i would like to save in the ini file also the other options like:\n\nIPPoolStart\n\nSizeOfPool\n\nSubnetMask\n\netc. etc.\n\nThe ideal would be to save them as a Profile selectable from a combo box...\n\nSo you could have a few profiles with different configs...\n\nPlease consider this\n\nThx\n\nZEE\n\n"
    },
    {
      "id": "173162",
      "timestamp": "2013-06-05T15:36:26+00:00",
      "author": "erwan.l",
      "content": "Hi zee,\n\nCan you copy paste your config.ini?\n\nMake sure dhcp \\\u0026 filename lines are under the \\[dhcp\\] section.\n\nAbout IPPoolStart, SizeOfPool, SubnetMask : I\u0027ll add them in the future version.\n\nAbout the forum section : I actually dont know how it works and I am not sure this is me to ask.\n\n\u003cbr /\u003e\n\nRegards,  \nErwan\n\n"
    },
    {
      "id": "173640",
      "timestamp": "2013-06-15T14:31:23+00:00",
      "author": "ZEE",
      "content": "Here it is one configuration that does not load into the .exe on start...\n\n\u003cbr /\u003e\n\n\\[frmDHCPServer\\]  \ntop\u003d505  \nleft\u003d-1407  \n\n\\[frmAbout\\]  \ntop\u003d486  \nleft\u003d509  \n\n\\[dhcp\\]  \nroot\u003dD:\\\\{iso}\\\\!PXE\\\\grldr  \n;boot file - can be empty if you boot directly with ipxe/gpxe rather than intel pxe agent  \nfilename\u003dgrldr  \n;alternative boot file is request comes from ipxe or gpxe  \n;altfilename\u003d[http://${dhcp-server}/menu.ipxe](/menu.ipxe \"External link\")  \n;my gpxe / ipxe dhcp options  \n;optextra\u003d175.6.1.1.1.8.1.1  \n;start HTTPd  \nhttpd\u003d1  \nbinl\u003d0  \nstart\u003d0  \n;opt1\u003d  \n;opt3\u003d  \n;opt6\u003d  \n;opt28\u003d  \n;opt15\u003d  \n;opt17\u003d  \n\n"
    },
    {
      "id": "173641",
      "timestamp": "2013-06-15T14:37:33+00:00",
      "author": "ZEE",
      "content": "Please put a simple \\[HELP\\] button to open a window and show a minimum text help\n\ntool intention and tool usability should be explained...\n\nsome history about the tool...\n\nfixes made...\n\nthings like ${dhcp-server} and other must be shown a little explained...\n\nfrom my own experience this seems a super simple and super efficient solution...\n\nalso helps you to have some documentation inside your tools :wink:\n\nZEE  \n\n"
    },
    {
      "id": "173643",
      "timestamp": "2013-06-15T15:37:41+00:00",
      "author": "erwan.l",
      "content": "\u003e Here it is one configuration that does not load into the .exe on start...\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003e \\[frmDHCPServer\\]  \n\u003e top\u003d505  \n\u003e left\u003d-1407  \n\u003e\n\u003e \\[frmAbout\\]  \n\u003e top\u003d486  \n\u003e left\u003d509  \n\u003e\n\u003e \\[dhcp\\]  \n\u003e root\u003dD:\\\\{iso}\\\\!PXE\\\\grldr  \n\u003e ;boot file - can be empty if you boot directly with ipxe/gpxe rather than intel pxe agent  \n\u003e filename\u003dgrldr  \n\u003e ;alternative boot file is request comes from ipxe or gpxe  \n\u003e ;altfilename\u003d[http://${dhcp-server}/menu.ipxe](/menu.ipxe \"External link\")  \n\u003e ;my gpxe / ipxe dhcp options  \n\u003e ;optextra\u003d175.6.1.1.1.8.1.1  \n\u003e ;start HTTPd  \n\u003e httpd\u003d1  \n\u003e binl\u003d0  \n\u003e start\u003d0  \n\u003e ;opt1\u003d  \n\u003e ;opt3\u003d  \n\u003e ;opt6\u003d  \n\u003e ;opt28\u003d  \n\u003e ;opt15\u003d  \n\u003e ;opt17\u003d  \n\nI believe root\u003dD:\\\\{iso}\\\\!PXE\\\\grldr should actually be root\u003dD:\\\\{iso}\\\\!PXE ?\n\nThis is the folder you need to point to there.\n\nIf the root is wrong, the Tiny Pxe Server wont be able to gather the filename either.\n\nAs you requested, I have also added poolstart and poolsize as possible parameters in the config.ini.\n\nSubnetMask is actually opt1 in config.ini.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "174093",
      "timestamp": "2013-06-27T05:15:06+00:00",
      "author": "tintep",
      "content": "Hi Erwan Tiny pxe server is very well. I boot network on VB it very good I should fix mac for each ip but I don\u0027t know How to?\n\nCan you help me please .\n\n"
    },
    {
      "id": "174100",
      "timestamp": "2013-06-27T07:16:39+00:00",
      "author": "erwan.l",
      "content": "Hi Tintep,\n\nWhat do you mean by \"fix mac\" ?\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "174137",
      "timestamp": "2013-06-28T02:17:14+00:00",
      "author": "tintep",
      "content": "Hi Erwan fix mac is fix macaddress for each ip. I boot with grldr-menu.lst-ipxe.iso This is conf.ipxe in my ipxe.iso .\n\n1IP for 1AOE if 1Macaddress for 1IP for 1AOE How to? Thank you very much Erwan.\n\n#!ipxe  \n:retry_dhcp  \ndhcp net0 \\\u0026\\\u0026 isset ${net0/ip:ipv4} \\|\\| goto retry_dhcp  \nroute  \nset use-cached 1  \nset keep-san 1  \necho IP configuration:  \necho ${net0/ip:ipv4}  \necho ${hostname}  \nset IPADDR ${net0/ip:ipv4}  \niseq ${IPADDR} 192.168.0.100 \\\u0026\\\u0026 goto diskless_aoe00 \\|\\|  \niseq ${IPADDR} 192.168.0.101 \\\u0026\\\u0026 goto diskless_aoe01 \\|\\|  \niseq ${IPADDR} 192.168.0.102 \\\u0026\\\u0026 goto diskless_aoe02 \\|\\|  \niseq ${IPADDR} 192.168.0.103 \\\u0026\\\u0026 goto diskless_aoe03 \\|\\|  \niseq ${IPADDR} 192.168.0.104 \\\u0026\\\u0026 goto diskless_aoe04 \\|\\|  \niseq ${IPADDR} 192.168.0.105 \\\u0026\\\u0026 goto diskless_aoe05 \\|\\|  \niseq ${IPADDR} 192.168.0.106 \\\u0026\\\u0026 goto diskless_aoe06 \\|\\|  \niseq ${IPADDR} 192.168.0.107 \\\u0026\\\u0026 goto diskless_aoe07 \\|\\|  \niseq ${IPADDR} 192.168.0.108 \\\u0026\\\u0026 goto diskless_aoe08 \\|\\|  \niseq ${IPADDR} 192.168.0.109 \\\u0026\\\u0026 goto diskless_aoe09 \\|\\|  \niseq ${IPADDR} 192.168.0.125 \\\u0026\\\u0026 goto diskless_aoe010 \\|\\|  \niseq ${IPADDR} 192.168.0.111 \\\u0026\\\u0026 goto diskless_aoe011 \\|\\|  \niseq ${IPADDR} 192.168.0.112 \\\u0026\\\u0026 goto diskless_aoe012 \\|\\|  \niseq ${IPADDR} 192.168.0.113 \\\u0026\\\u0026 goto diskless_aoe013 \\|\\|  \niseq ${IPADDR} 192.168.0.114 \\\u0026\\\u0026 goto diskless_aoe014  \n:diskless_aoe00  \nsanboot aoe:e0.0  \n:diskless_aoe01  \nsanboot aoe:e0.1  \n:diskless_aoe02  \nsanboot aoe:e0.2  \n:diskless_aoe03  \nsanboot aoe:e0.3  \n:diskless_aoe04  \nsanboot aoe:e0.4  \n:diskless_aoe05  \nsanboot aoe:e0.5  \n:diskless_aoe06  \nsanboot aoe:e0.6  \n:diskless_aoe07  \nsanboot aoe:e0.7  \n:diskless_aoe08  \nsanboot aoe:e0.8  \n:diskless_aoe09  \nsanboot aoe:e0.9  \n:diskless_aoe010  \nsanboot aoe:e0.10  \n:diskless_aoe011  \nsanboot aoe:e0.11  \n:diskless_aoe012  \nsanboot aoe:e0.12  \n:diskless_aoe013  \nsanboot aoe:e0.13  \n:diskless_aoe014  \nsanboot aoe:e0.14\n\n"
    },
    {
      "id": "174233",
      "timestamp": "2013-06-30T13:56:18+00:00",
      "author": "erwan.l",
      "content": "\u003e Hi Erwan fix mac is fix macaddress for each ip. I boot with grldr-menu.lst-ipxe.iso This is conf.ipxe in my ipxe.iso .\n\u003e\n\u003e 1IP for 1AOE if 1Macaddress for 1IP for 1AOE How to? Thank you very much Erwan.\n\u003e\n\u003e #!ipxe  \n\u003e :retry_dhcp  \n\u003e dhcp net0 \\\u0026\\\u0026 isset ${net0/ip:ipv4} \\|\\| goto retry_dhcp  \n\u003e route  \n\u003e set use-cached 1  \n\u003e set keep-san 1  \n\u003e echo IP configuration:  \n\u003e echo ${net0/ip:ipv4}  \n\u003e echo ${hostname}  \n\u003e set IPADDR ${net0/ip:ipv4}  \n\u003e iseq ${IPADDR} 192.168.0.100 \\\u0026\\\u0026 goto diskless_aoe00 \\|\\|  \n\u003e iseq ${IPADDR} 192.168.0.101 \\\u0026\\\u0026 goto diskless_aoe01 \\|\\|  \n\u003e ...  \n\u003e iseq ${IPADDR} 192.168.0.114 \\\u0026\\\u0026 goto diskless_aoe014  \n\u003e :diskless_aoe00  \n\u003e sanboot aoe:e0.0  \n\u003e :diskless_aoe01  \n\u003e sanboot aoe:e0.1  \n\u003e ...\n\nHi Tintep,\n\nNot sure if this will answer your need but see in latest version 1.0.0.12 :\n\n* added : can use @mac or @ip in the filename to send back the requester mac or ip as part of the filename/path\n\nExample when using ipxe as main boot file name, you can use this syntax as alternative boot file name :\n\n[http://${dhcp-server}/@mac.ipxe](/@mac.ipxe \"External link\") .\n\nTiny PXE Server will replace on the fly @mac by the requester\u0027s mac address.\n\nSee screenshot as example.\n\nRegards,\n\nErwan  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![pxesrv@mac.png](http://reboot.pro/uploads/monthly_06_2013/post-25905-0-28717300-1372602797_thumb.png)](http://reboot.pro/uploads/monthly_06_2013/post-25905-0-28717300-1372602797.png \"pxesrv@mac.png - Size: 44.93KB\"){#ipb-attach-url-14397-0-99796600-1676066517}\n\n"
    },
    {
      "id": "174237",
      "timestamp": "2013-06-30T16:14:33+00:00",
      "author": "b00t",
      "content": "This is a most excellent program! I\u0027ve already used it several times to boot WinPE (for Win 8.1 Preview install) and Parted Magic PXE.\n\nPreviously I used TFTP32 (tftp and dhcp server) and Mongoose (httpd) but that setup was clunky. Now with TinyPXE I have an all-in-one solution. DHCP support for the \"user-class\" variable is also very helpful, as before I had to manually cancel the DHCP boot-loop that iPXE would enter.\n\nTinyPXE is the perfect compagnion to iPXE. Thanks! ![:1st:](https://reboot.pro/public/style_emoticons/default/1st.gif)\n\n**Edited by b00t, 30 June 2013 - 04:17 PM.**\n"
    },
    {
      "id": "174238",
      "timestamp": "2013-06-30T17:26:09+00:00",
      "author": "erwan.l",
      "content": "\u003e This is a most excellent program! I\u0027ve already used it several times to boot WinPE (for Win 8.1 Preview install) and Parted Magic PXE.\n\u003e\n\u003e Previously I used TFTP32 (tftp and dhcp server) and Mongoose (httpd) but that setup was clunky. Now with TinyPXE I have an all-in-one solution. DHCP support for the \"user-class\" variable is also very helpful, as before I had to manually cancel the DHCP boot-loop that iPXE would enter.\n\u003e\n\u003e TinyPXE is the perfect compagnion to iPXE. Thanks! ![:1st:](https://reboot.pro/public/style_emoticons/default/1st.gif)\n\nHo B00t,\n\nThanks for this very positive feedback :smile:\n\nThe user-class variable and the http daemon were indeed my initial drivers as I could not find these in other tools.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "174506",
      "timestamp": "2013-07-07T20:22:49+00:00",
      "author": "tintep",
      "content": "Hi Erwan Thank you very much for your guides I install win7 with wimboot in VB it very good but Tiny send file\n\nwith TFTP don\u0027t send with HTTP . Can tiny send file with HTTP How to? English for me not very well\n\nThank you again Erwan\n\n"
    },
    {
      "id": "174510",
      "timestamp": "2013-07-07T20:56:27+00:00",
      "author": "erwan.l",
      "content": "Hi Tintep,\n\nI assume you are using ipxe.\n\nI use wimboot the following way :\n\n#!ipxe  \nset boot-url [http://${dhcp-server}]( \"External link\")  \nkernel ${boot-url}/wimboot  \ninitrd ${boot-url}/BOOTMGR BOOTMGR  \ninitrd ${boot-url}/BOOT/BCD BCD  \ninitrd ${boot-url}/BOOT/BOOT.SDI BOOT.SDI  \ninitrd ${boot-url}/SOURCES/BOOT.WIM BOOT.WIM  \nboot  \nRegards,  \nErwan\n\n"
    },
    {
      "id": "174513",
      "timestamp": "2013-07-08T00:54:02+00:00",
      "author": "Lewis",
      "content": "Can you please add Proxy DHCP support?\n\nThats a killer feature to me - would definitely use it on the work network if it had that :smile: :smile:\n\n"
    },
    {
      "id": "174514",
      "timestamp": "2013-07-08T06:02:01+00:00",
      "author": "erwan.l",
      "content": "Hi Lewis,\n\nTiny PXE Server supports WDS \\\u0026 RIS proxydhcp options.\n\nWhat options are you looking for?\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "174517",
      "timestamp": "2013-07-08T06:49:49+00:00",
      "author": "tintep",
      "content": "Hi Erwan\n\nThank you for your menu is very well. I don\u0027t use winserver apache iss....\n\nIF tiny send file with HTTPd How to?\n\n"
    },
    {
      "id": "174518",
      "timestamp": "2013-07-08T08:00:05+00:00",
      "author": "erwan.l",
      "content": "\u003e Hi Erwan\n\u003e\n\u003e Thank you for your menu is very well. I don\u0027t use winserver apache iss....\n\u003e\n\u003e IF tiny send file with HTTPd How to?\n\nHi Tintep,\n\nSet ipxe boot strapper as main boot filename,\n\nset my_script.ipxe (containing the above wimboot) as user class boot filename (right below the main boot file name),\n\ntick httpd on top of the window (ticked by default),\n\nand \"voila\" : it will boot your winpe :smile:\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "174522",
      "timestamp": "2013-07-08T09:22:12+00:00",
      "author": "erwan.l",
      "content": "\u003e version 1.0.0.13 out\n\u003e * added : ability to filter (inclusive) mac addresses (rename filter.sample to filter.txt)\n\u003e * added : quick and dirty faq that will evolve as it goes\n\n"
    },
    {
      "id": "174612",
      "timestamp": "2013-07-10T21:00:58+00:00",
      "author": "erwan.l",
      "content": "Added a quick faq in the zip file and also to be found here : [http://erwan.labalec...xesrv-faq.xhtml](http://erwan.labalec.fr/pxesrv-faq.xhtml \"External link\") touching the following topics :\n\n[1.how to pxe boot pxelinux](http://erwan.labalec.fr/pxesrv-faq.xhtml#__RefHeading__209_1965346263 \"External link\")\n\n[2.how to pxe boot grub4dos](http://erwan.labalec.fr/pxesrv-faq.xhtml#__RefHeading__211_1965346263 \"External link\")\n\n[3.how to pxe boot ipxe+menu](http://erwan.labalec.fr/pxesrv-faq.xhtml#__RefHeading__213_1965346263 \"External link\")\n\n[4.how to pxe boot ipxe+pxelinux](http://erwan.labalec.fr/pxesrv-faq.xhtml#__RefHeading__215_1965346263 \"External link\")\n\n[5.how to pxe boot ipxe+iscsi thru rootpath](http://erwan.labalec.fr/pxesrv-faq.xhtml#__RefHeading__217_1965346263 \"External link\")\n\n[6.how to pxe boot ipxe + g4dos](http://erwan.labalec.fr/pxesrv-faq.xhtml#__RefHeading__219_1965346263 \"External link\")\n\n[7.how to pxe boot winpe3 (wim) thru WDS](http://erwan.labalec.fr/pxesrv-faq.xhtml#__RefHeading__221_1965346263 \"External link\")\n\n[8.how to pxe boot xp installation thru RIS](http://erwan.labalec.fr/pxesrv-faq.xhtml#__RefHeading__223_1965346263 \"External link\")\n\n[9.how to pxe boot winpe3 (wim) thru ipxe+wimboot](http://erwan.labalec.fr/pxesrv-faq.xhtml#__RefHeading__225_1965346263 \"External link\")\n\n[10.how to pxe boot an iso file thru ipxe + memdisk](http://erwan.labalec.fr/pxesrv-faq.xhtml#__RefHeading__227_1965346263 \"External link\")\n\n[11.how to pre load settings in Tiny PXE Server](http://erwan.labalec.fr/pxesrv-faq.xhtml#__RefHeading__229_1965346263 \"External link\")\n\n[12.how to serve only specified mac addresses (and ignore others)](http://erwan.labalec.fr/pxesrv-faq.xhtml#__RefHeading__231_1965346263 \"External link\")\n\n[13.how to keep most recent used settings](http://erwan.labalec.fr/pxesrv-faq.xhtml#__RefHeading__233_1965346263 \"External link\")\n\n"
    },
    {
      "id": "174622",
      "timestamp": "2013-07-11T04:34:56+00:00",
      "author": "Lewis",
      "content": "Oh okay, I get it now. I just saw it in the program.... interesting.\n\nErwan this is probably a long shot, but you mentioned in your initial post about open source. Where can I get the source for this app? If not that, could you please explain to me how you got your knowledge about the DHCP specification? I want to learn as much about Proxy DHCP as I can...\n\nThanks buddy, you\u0027re doing a great job :smile:\n\n"
    },
    {
      "id": "176230",
      "timestamp": "2013-08-25T06:28:31+00:00",
      "author": "sebus",
      "content": "Thanks, excellent app. Would it be possible to make it installable as Windows service?\n\nsebus\n\n"
    },
    {
      "id": "176240",
      "timestamp": "2013-08-25T10:50:44+00:00",
      "author": "erwan.l",
      "content": "\u003e Thanks, excellent app. Would it be possible to make it installable as Windows service?\n\u003e\n\u003e sebus\n\nHi Sebus,\n\nShould be possible.\n\nThus, you could also launch it at the startup of your windows and use the start\u003d1 in the config.ini.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "176241",
      "timestamp": "2013-08-25T11:16:31+00:00",
      "author": "Wonko the Sane",
      "content": "@sebus  \nYou can try with SRVANY, but I would try first with nssm:  \n[http://nssm.cc/](http://nssm.cc/ \"External link\")  \nwhich is IMHO a very valid alternative ![:thumbup:](http://reboot.pro/public/style_emoticons/default/thumbup.gif).  \n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "176400",
      "timestamp": "2013-08-29T02:14:30+00:00",
      "author": "Jeff18MS",
      "content": "Hi Erwan,\n\nYou are a Godsend to us IT People, thank you so much for your tool, I hope that you could improve it more.\n\nI just want to have one request.. :-)\n\ndid you build the ipxe-undionly.kpxe binary? if so, could you add this embed script to the binary :\n\n#this script that persistently retries DHCP until it succeeds in obtaining a boot filename:\n\n#!ipxe  \n\n:retry_dhcp  \ndhcp \\\u0026\\\u0026 isset ${filename} \\|\\| goto retry_dhcp  \necho Booting from ${filename}  \nchain ${filename}\n\n"
    },
    {
      "id": "176403",
      "timestamp": "2013-08-29T06:07:03+00:00",
      "author": "erwan.l",
      "content": "Hi Jeff18MS,\n\nThanks for these compliments ![:suda:](http://reboot.pro/public/style_emoticons/default/suda.gif)\n\nAbout ipxe binaries, yes, I am building them from ipxe github.\n\nI could embed that script indeed but why not add this script you have in the script that you can pass via TinyPXE Server?\n\nSee screenshot on how to first chain ipxe then chain a script.\n\nNot everyone from to get a dhcp lease, some want to fix their ip.\n\nRegards,\n\nErwan\n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![ipxe_script.png](http://reboot.pro/uploads/monthly_08_2013/post-25905-0-31381000-1377756419_thumb.png)](http://reboot.pro/uploads/monthly_08_2013/post-25905-0-31381000-1377756419.png \"ipxe_script.png - Size: 44.97KB\"){#ipb-attach-url-14507-0-13023700-1676066519}\n\n"
    },
    {
      "id": "176411",
      "timestamp": "2013-08-29T09:13:41+00:00",
      "author": "Jeff18MS",
      "content": "\u003e Hi Jeff18MS,\n\u003e\n\u003e Thanks for these compliments ![:suda:](http://reboot.pro/public/style_emoticons/default/suda.gif)\n\u003e\n\u003e About ipxe binaries, yes, I am building them from ipxe github.\n\u003e\n\u003e I could embed that script indeed but why not add this script you have in the script that you can pass via TinyPXE Server?\n\u003e\n\u003e See screenshot on how to first chain ipxe then chain a script.\n\u003e\n\u003e Not everyone from to get a dhcp lease, some want to fix their ip.\n\u003e\n\u003e Regards,\n\u003e\n\u003e Erwan\n\nHi Erwan,\n\nMy problem is some of the computers is having a dhcp timeout (not sure if it\u0027s the correct term) it could load the ipxe-undionly.kpxe but unable to load the filename user class - menu.ipxe, i am getting connection timed out ([http://ipxe.org/4c116035)](http://ipxe.org/4c116035) \"External link\") error\n\nThanks,\n\nJeff\n\n"
    },
    {
      "id": "176417",
      "timestamp": "2013-08-29T10:19:11+00:00",
      "author": "reboot12",
      "content": "\u003e My problem is some of the computers is having a dhcp timeout\nGive the exact name of network interface cards on which there is a problem. Maybe this is problem NIC \\\u0026 iPXE - not Tiny PXE Server.  \nI had a similar problem with a network card Realtek 8139 + iPXE - read this:  \n[(solved) (renamed) DHCP timeout from Realtek 8139 card](http://forum.ipxe.org/showthread.php?tid\u003d3671\u0026pid\u003d4687#pid4687 \"External link\")   \n"
    },
    {
      "id": "176418",
      "timestamp": "2013-08-29T10:28:15+00:00",
      "author": "erwan.l",
      "content": "I\u0027ll update my zip file this afternoon so that it contains the latest release from ipxe (i compiled it yesterday).\n\nMay be that will solve that dhcp time out issue.\n\nErwan\n\n"
    },
    {
      "id": "176420",
      "timestamp": "2013-08-29T11:11:50+00:00",
      "author": "Jeff18MS",
      "content": "\u003e I\u0027ll update my zip file this afternoon so that it contains the latest release from ipxe (i compiled it yesterday).\n\u003e\n\u003e May be that will solve that dhcp time out issue.\n\u003e\n\u003e Erwan\n\nNice! Thanks Erwan, hopefully it could solve the DHCP Timeout issue,\n\n@reboot12 I\u0027m not sure if it\u0027s network card specific issue, because I have the same machines and same onboard nic that is working ok.\n\nmaybe STP or Fastport from the switches that is causing this, I\u0027m not sure really.\n\n"
    },
    {
      "id": "176426",
      "timestamp": "2013-08-29T12:36:32+00:00",
      "author": "Jeff18MS",
      "content": "I got my problem solved, I compiled a new undionly.kpxe using the [http://rom-o-matic.eu/](http://rom-o-matic.eu/ \"External link\") website\n\nand added the DHCP script loop that continuously retry DHCP until it receives the boot filename.\n\n![8qwe.png](http://img708.imageshack.us/img708/2993/8qwe.png)\n\nThis is the new compiled undionly.kpxe that continuously run DHCP until it receives a Boot Filename.\n\n![0jvu.jpg](http://img819.imageshack.us/img819/3005/0jvu.jpg)\n\nIt can now load my menu.ipxe after the 3rd tries of DHCP\n\n"
    },
    {
      "id": "176439",
      "timestamp": "2013-08-29T16:20:25+00:00",
      "author": "erwan.l",
      "content": "Good to know it works out for you.\n\nVersion ipxe 22a0 is indeed the one I compiled earlier today from github.\n\nThis dhcp time out is strange thus : you are using TinyPxe server? if so, can you send me the logs (right click in the log window, save to log file).\n\nThanks,\n\nErwan\n\n"
    },
    {
      "id": "176440",
      "timestamp": "2013-08-29T16:32:46+00:00",
      "author": "reboot12",
      "content": "\u003e It can now load my menu.ipxe after the 3rd tries of DHCP\nIs it working always after the 3rd tries or random? Do you use ProxyDHCP? This is not normal because delay boot from filename. DHCP need working after first request. This is probably fault of the NIC driver in iPXE.  \nWhat kind of card you use, what model?  \n\nYou have exactly the same error as me :-). Look at this one more time:  \n![dhcperrorw.png](http://img27.imageshack.us/img27/722/dhcperrorw.png)  \n\nand read this: [Guys, I have good news !!! mcb30 make some patch\u0027s mdelay, iodelay and new readw. All patch\u0027s working but official commit readw](http://forum.ipxe.org/showthread.php?tid\u003d3671\u0026pid\u003d9081#pid9081 \"External link\")  \nAfter apply patch all working good. Look at this log:  \n\n```\niPXE 1.0.0+ (e411) -- Open Source Network Boot Firmware -- http://ipxe.org\nFeatures: AoE HTTP iSCSI DNS TFTP SRP bzImage ELF MBOOT PXE PXEXT Menu\nREALTEK 0xbeea0 receive buffer is at [1fe03eb0,1fe05eb0,1fe066a6)\nREALTEK 0xbeea0 media status is 10\nDHCP (net0 00:80:48:1c:cd:59)....... ok\nmenu.ipxe... ok\n```\n\nI worked on [it](https://git.ipxe.org/ipxe.git/commitdiff/592755eccf51c87ca727c2044eee7ffc3266e290 \"External link\") a few days together with Michael Brown :-)   \n\n**Edited by reboot12, 29 August 2013 - 04:52 PM.**\n"
    },
    {
      "id": "176464",
      "timestamp": "2013-08-30T03:46:35+00:00",
      "author": "Jeff18MS",
      "content": "\u003e Good to know it works out for you.\n\u003e\n\u003e Version ipxe 22a0 is indeed the one I compiled earlier today from github.\n\u003e\n\u003e This dhcp time out is strange thus : you are using TinyPxe server? if so, can you send me the logs (right click in the log window, save to log file).\n\u003e\n\u003e Thanks,\n\u003e\n\u003e Erwan\n\nYes, I\u0027m using TinyPxe Server\n\nHere\u0027s the log - [http://www.mediafire..._Server_log.txt](http://www.mediafire.com/view/psx1cxsf99gtd95/Tiny_PXE_Server_log.txt \"External link\")\n\nscreenshot of my settings - [http://www.mediafire...m7f/tinyPXE.png](http://www.mediafire.com/view/gnmq2ly7iamum7f/tinyPXE.png \"External link\")\n\n\u003e Is it working always after the 3rd tries or random? Do you use ProxyDHCP? This is not normal because delay boot from filename. DHCP need working after first request. This is probably fault of the NIC driver in iPXE.  \n\u003e What kind of card you use, what model?  \n\u003e\n\u003e You have exactly the same error as me :-). Look at this one more time:  \n\u003e ![dhcperrorw.png](http://img27.imageshack.us/img27/722/dhcperrorw.png)  \n\u003e\n\u003e and read this: [Guys, I have good news !!! mcb30 make some patch\u0027s mdelay, iodelay and new readw. All patch\u0027s working but official commit readw](http://forum.ipxe.org/showthread.php?tid\u003d3671\u0026pid\u003d9081#pid9081 \"External link\")  \n\u003e After apply patch all working good. Look at this log:\n\u003e\n\u003e ```\n\u003e iPXE 1.0.0+ (e411) -- Open Source Network Boot Firmware -- http://ipxe.org\n\u003e Features: AoE HTTP iSCSI DNS TFTP SRP bzImage ELF MBOOT PXE PXEXT Menu\n\u003e REALTEK 0xbeea0 receive buffer is at [1fe03eb0,1fe05eb0,1fe066a6)\n\u003e REALTEK 0xbeea0 media status is 10\n\u003e DHCP (net0 00:80:48:1c:cd:59)....... ok\n\u003e menu.ipxe... ok\n\u003e ```\n\u003e\n\u003e I worked on [it](https://git.ipxe.org/ipxe.git/commitdiff/592755eccf51c87ca727c2044eee7ffc3266e290 \"External link\") a few days together with Michael Brown :-)\n\u003e\nYes, if it didn\u0027t receive DHCP on the first try it will receive it after 3rd try,\n\nSome of the machines I encounter this on Dell Optiplex 755 with Intel® 82566DM Gigabit Ethernet LAN\n\nWeird thing is that it\u0027s working ok on other Optiplex 755 same NIC, my PC\u0027s are on the same switches.\n\n"
    },
    {
      "id": "176465",
      "timestamp": "2013-08-30T06:04:08+00:00",
      "author": "erwan.l",
      "content": "In the extra option field, you may want to try these ipxe options : 175.6.1.1.1.176.1.1.\n\n175 means we want ipxe options, has total length \u003d6, option 1 length 1 value 1, option 176, length 1, value 1.\n\nIt will tell ipxe to use your tiny pxe server dhcp first (option 1) and also to not wait for any proxydhcp packet (option 176)\n\nMore details here : [http://ipxe.org/howto/dhcpd](http://ipxe.org/howto/dhcpd \"External link\").\n\nIt could be that you have another dhcp server on your network confusing ipxe (an internet box, etc).\n\n/Erwan\n\n"
    },
    {
      "id": "176471",
      "timestamp": "2013-08-30T07:15:31+00:00",
      "author": "reboot12",
      "content": "\u003e Weird thing is that it\u0027s working ok on other Optiplex 755 same NIC, my PC\u0027s are on the same switches.\nAre all Dell computers have ++exactly the same++ hardware configuration? Identical RAM modules and size, CPU etc. ?   \n\n**Edited by reboot12, 30 August 2013 - 07:17 AM.**\n"
    },
    {
      "id": "176472",
      "timestamp": "2013-08-30T07:53:11+00:00",
      "author": "Jeff18MS",
      "content": "\u003e Are all Dell computers have ++exactly the same++ hardware configuration? Identical RAM modules and size, CPU etc. ?\n\nYes same RAM and size and identical CPU\n\n\u003e In the extra option field, you may want to try these ipxe options : 175.6.1.1.1.176.1.1.\n\u003e\n\u003e 175 means we want ipxe options, has total length \u003d6, option 1 length 1 value 1, option 176, length 1, value 1.\n\u003e\n\u003e It will tell ipxe to use your tiny pxe server dhcp first (option 1) and also to not wait for any proxydhcp packet (option 176)\n\u003e\n\u003e More details here : [http://ipxe.org/howto/dhcpd](http://ipxe.org/howto/dhcpd \"External link\").\n\u003e\n\u003e It could be that you have another dhcp server on your network confusing ipxe (an internet box, etc).\n\u003e\n\u003e /Erwan\n\nThanks Erwan, I will try this settings\n\n"
    },
    {
      "id": "176473",
      "timestamp": "2013-08-30T07:58:15+00:00",
      "author": "Jeff18MS",
      "content": "\u003e In the extra option field, you may want to try these ipxe options : 175.6.1.1.1.176.1.1.\n\u003e\n\u003e 175 means we want ipxe options, has total length \u003d6, option 1 length 1 value 1, option 176, length 1, value 1.\n\u003e\n\u003e It will tell ipxe to use your tiny pxe server dhcp first (option 1) and also to not wait for any proxydhcp packet (option 176)\n\u003e\n\u003e More details here : [http://ipxe.org/howto/dhcpd](http://ipxe.org/howto/dhcpd \"External link\").\n\u003e\n\u003e It could be that you have another dhcp server on your network confusing ipxe (an internet box, etc).\n\u003e\n\u003e /Erwan\n\nErwan will that be an issue if there\u0027s another MS DHCP server running on our network? but they are in separate scope of IP addresses, they don\u0027t overlap.\n\ni.e :\n\nMS DHCP 10.164.194.100-254\n\nTinyPXE 10.164.194.10 - Pool size \u003d 20\n\n"
    },
    {
      "id": "176474",
      "timestamp": "2013-08-30T08:10:30+00:00",
      "author": "erwan.l",
      "content": "\u003e Erwan will that be an issue if there\u0027s another MS DHCP server running on our network? but they are in separate scope of IP addresses, they don\u0027t overlap.\n\u003e\n\u003e i.e :\n\u003e\n\u003e MS DHCP 10.164.194.100-254\n\u003e\n\u003e TinyPXE 10.164.194.10 - Pool size \u003d 20\n\nHi Jeff,\n\nCould be an issue : the dhcp client wont care about your scopes.\n\nIt will broadcast a dhcp request and will randomly take one or the over.\n\nThe options below will secure your process in the second stage (once ipxe is download, it downloads the script) but not the first stage (pxe downloading ipxe boot strap).\n\nI am working on a proxydhcp option for the next version.\n\nNot saying this your option thus.\n\nYou seem to have issue stage 2 (ipxe sending a dhcp offer).\n\nUse options below to ensure the best setup.\n\nThese options are for free :smile:\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "176475",
      "timestamp": "2013-08-30T08:30:02+00:00",
      "author": "Jeff18MS",
      "content": "\u003e Hi Jeff,\n\u003e\n\u003e Could be an issue : the dhcp client wont care about your scopes.\n\u003e\n\u003e It will broadcast a dhcp request and will randomly take one or the over.\n\u003e\n\u003e The options below will secure your process in the second stage (once ipxe is download, it downloads the script) but not the first stage (pxe downloading ipxe boot strap).\n\u003e\n\u003e I am working on a proxydhcp option for the next version.\n\u003e\n\u003e Not saying this your option thus.\n\u003e\n\u003e You seem to have issue stage 2 (ipxe sending a dhcp offer).\n\u003e\n\u003e Use options below to ensure the best setup.\n\u003e\n\u003e These options are for free :smile:\n\u003e\n\u003e Regards,\n\u003e\n\u003e Erwan\n\nHi Erwan,\n\nWhat is my best option? ![:yess:](http://reboot.pro/public/style_emoticons/default/yess.gif)\n\n"
    },
    {
      "id": "176477",
      "timestamp": "2013-08-30T09:15:20+00:00",
      "author": "erwan.l",
      "content": "\u003e Hi Erwan,\n\u003e\n\u003e What is my best option? ![:yess:](http://reboot.pro/public/style_emoticons/default/yess.gif)\n\nI would use the option above in Tiny PXE server.\n\nAt worse, it wont change anything.\n\nAt best, it will speed up ipxe when this one sends a dhcp request over your network.\n\nNext tiny pxe server version will have a proxydhcp option which will enable tiny pxe server to co exist \"peacefully\" next to another dhcp server.\n\nFor now, it is some sort of a racing condition : first one (dhcp server) to answer wins...\n\n"
    },
    {
      "id": "176560",
      "timestamp": "2013-08-31T20:49:21+00:00",
      "author": "sebus",
      "content": "It does seem that Tiny PXE can be used as proxyDHCP only with another existing local DHCP\n\n![zg7j.png](http://img841.imageshack.us/img841/1241/zg7j.png)\n\nWith following config.ini entries:\n\nbinl\u003d1\n\nstart\u003d1  \nopt67\u003dundionly.0  \nopt66\u003d192.168.50.50  \nopt60\u003dPXEClient  \nopt43\u003d0.0.0.0  \n\nI do not even have to have (as in picture) ProxyDHCP Boot File Name entry\n\nsebus\n\n"
    },
    {
      "id": "176562",
      "timestamp": "2013-08-31T21:50:09+00:00",
      "author": "erwan.l",
      "content": "Proxydhcp works like this (it is currently mostly implemented with the TinyPXE Server BINL option, as spot by Sebus) :\n\n1/\n\nIt sits on a subnet and sniff out PXE-based DHCPDISCOVER traffic (port 67 and/or 4011), and broadcasts back, alongside the corresponding DHCPOFFERs (from other server(s)).\n\nThe biggest difference being that ProxyDHCP sends null IP addresses (it focuses on extra information such as boot filename, etc).\n\n2/\n\nThe client with then send DHCPREQUEST to both the dhcp server (port 67) and to the proxydhcp (port 4011).\n\n3/\n\nBoth server will respond with a DHCPACK : the dhcp server with ip details and the proxydhcp with extra details like the boot file name.\n\nIn your case Sebus, I am not sure the TinyPXE Servr binl/proxydhcp did the trick actually.\n\nI believe TinyPXE Server simply \"won the race\" this time.\n\nBut you are on the right track indeed : once I have completely the last bits of the proxydhcp it will work exactly like you mentionned.\n\nWith one exception : you should then read dhcpd4011:DHCP_xxx sent ... xxx being either an ACK or OFFER.\n\nBasically, when you are set as proxydhcp, you dont want to send anything from port 67.\n\nToday my socket on port 4011 will only answer to RIS/WDS requests.\n\n/Erwan\n\n"
    },
    {
      "id": "176563",
      "timestamp": "2013-08-31T22:28:15+00:00",
      "author": "sebus",
      "content": "You are right, as the IP range picked up by Tiny is the same, then client gets IP from Tiny \\\u0026 all works (on small network anyway)\n\nLong day, ofcourse pdhcp is only 4011, and 67 is DHCP\n\nIt would be great if you could \"divorce\" pdhcp from DHCP some time soon\n\nsebus\n\n"
    },
    {
      "id": "176564",
      "timestamp": "2013-08-31T23:28:30+00:00",
      "author": "erwan.l",
      "content": "\u003e You are right, as the IP range picked up by Tiny is the same, then client gets IP from Tiny \\\u0026 all works (on small network anyway)\n\u003e\n\u003e Long day, ofcourse pdhcp is only 4011, and 67 is DHCP\n\u003e\n\u003e It would be great if you could \"divorce\" pdhcp from DHCP some time soon\n\u003e\n\u003e sebus\n\nVersion 1.0.0.14 implementing proxydhcp is ready and works fine at my place.\n\nI need to test it further with different computers, pxe bootstraps but so far so good ![:good:](http://reboot.pro/public/style_emoticons/default/good.gif)\n\nI will probably release it tomorrow.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "176574",
      "timestamp": "2013-09-01T12:02:31+00:00",
      "author": "erwan.l",
      "content": "Latest version 1.0.0.14 now support ProxyDHCP features.\n\nIn short :\n\nTinyPXE Server can now co exist \"peacefully\" with another dhcp server on the same LAN.\n\nNo more race conditions where first one (dhcp server) to answer wins the lease.\n\nWith ProxyDHCP option enable, TinyPXE Server will now \"only\" provide the boot file name information (and only to proxydhcp clients) : the client will then use/combine the dhcp offers from both servers (lease+boot file name).\n\nFeedback welcome : I could only test (with success) the following boot straps in my home environement fow now:\n\nipxe , gpxe , pxelinux , startrom.0 , pxeboot.com\n\nCheers,\n\nErwan\n\nedit1 :\n\nbeware that since you have a dhcp server potentially different than your tftp server, you may have to review the use of {$dhcp-server} versus {$next-server} when chainloading to another file.\n\nedit2:\n\nGrub4dos does not seem to like proxdydhcp mode.\n\nTo use grub4dos your PXE server must also be the DHCP server  \n\n#### Attached Thumbnails {#attach_wrap}\n\n* [![tinypxeserver_proxydhcp.png](http://reboot.pro/uploads/monthly_09_2013/post-25905-0-25824100-1378036641_thumb.png)](http://reboot.pro/uploads/monthly_09_2013/post-25905-0-25824100-1378036641.png \"tinypxeserver_proxydhcp.png - Size: 48.78KB\"){#ipb-attach-url-14519-0-13035100-1676066519}\n\n"
    },
    {
      "id": "176582",
      "timestamp": "2013-09-01T14:48:50+00:00",
      "author": "sebus",
      "content": "What are the config options?\n\nI figured out\n\nproxydhcp\u003d1\n\nBut if I use start\u003d1 then DHCP starts as well - pdhcpd on UPD port 67 \\\u0026 4011 (same if I press Online)\n\nAnd what about the option for Boot file Filename ?\n\nfilename\u003dundionly.0  \n\ndoes NOT stick/shows in GUI\n\nI have no idea how to use proxyDHCP using config.ini only, sorry\n\nSeems that I must use start\u003d0, then in GUI select the bootfile (as config entry does not stick), then tick proxydhcp\n\nBut nothing on UDP 67,4011\n\nsebus\n\n"
    },
    {
      "id": "176592",
      "timestamp": "2013-09-01T16:47:29+00:00",
      "author": "erwan.l",
      "content": "proxydhcp\u003d1 will indeed enable the feature by default.\n\nThe dhcp daemon (udp port 67) will always be on as I still need to catch the initial DHCP_DISCOVER(1) broadcasted (to udp port 67) by client.\n\nThanks to that I will then send a \"null ip\" DHCP_OFFER(2) indicating to the client that he now needs to send DHCP_REQUEST(3) to me (as proxydhcp) on port udp 4011.\n\nThe last DHCP_ACK (4) will be sent from udp port 4011\n\nthe following config file seems ok for me (currently testing further thus) :\n\n(note that with proxydhcp enabled, DHCP_REQUEST is discarded on port 67 and only accepted on port 4011).\n\n*root\u003dC:\\\\pxe_root*  \n*filename\u003dipxe-undionly.kpxe*  \n*altfilename\u003dmenu.ipxe*  \n*optextra\u003d175.6.1.1.1.8.1.1*  \n*httpd\u003d1*  \n*proxydhcp\u003d1*  \n*binl\u003d0*  \n*start\u003d1*  \nBooting a computer on my LAN with the above config file result in the following log  \n*18:49:54 root path\u003dC:\\\\pxeroot*  \n*18:49:54 tftpd started...*  \n*18:49:54 dhcpd:4011 started...*  \n*18:49:54 dhcpd:67 started...*  \n*18:49:54 httpd started...*  \n*18:50:14 DHCPd:incoming packet from : 00-1C-25-70-13-F5*  \n*18:50:14 DHCPd:DHCP_DISCOVER received, xid:F5137026*  \n*18:50:14 DHCPd:DHCP_OFFER sent, IP:192.168.1.101, xid:F5137026*  \n*18:50:16 DHCPd:incoming packet from : 00-1C-25-70-13-F5*  \n*18:50:16 DHCPd:DHCP_REQUEST discarded, xid:F5137026*  \n*18:50:16 **DHCPd4011**:incoming packet from : 00-1C-25-70-13-F5, 192.168.1.133*  \n*18:50:16 **DHCPd4011**:DHCP_REQUEST received, xid:F5137026*  \n*18:50:16 **DHCPd4011**:DHCP_ACK sent, IP:192.168.1.133, xid:F5137026*  \n*18:50:16 TFTPd:DoReadFile:ipxe-undionly.kpxe B:0 T:66711*  \n*18:50:16 TFTPd:DoReadFile:ipxe-undionly.kpxe B:1456 T:0*  \n*18:50:24 DHCPd:incoming packet from : 00-1C-25-70-13-F5*  \n*18:50:24 DHCPd:DHCP_DISCOVER received, xid:16E3E493*  \n*18:50:25 DHCPd:iPXE user-class detected*  \n*18:50:25 DHCPd:DHCP_OFFER sent, IP:192.168.1.101, xid:16E3E493*  \n*18:50:25 DHCPd:incoming packet from : 00-1C-25-70-13-F5*  \n*18:50:25 DHCPd:DHCP_REQUEST discarded, xid:16E3E493*  \n*18:50:25 TFTPd:DoReadFile:menu.ipxe B:1432 T:7348*\n\n"
    },
    {
      "id": "176595",
      "timestamp": "2013-09-01T17:18:02+00:00",
      "author": "sebus",
      "content": "My config states\n\nfilename\u003dundionly.0  \noptextra\u003d175.6.1.1.1.8.1.1  \n;start HTTPd  \nhttpd\u003d0  \nbinl\u003d0  \nproxydhcp\u003d1  \nstart\u003d1  \n\nand the option filename\u003d does NOT stick in a started Tiny GUI\n\nOn booting client I get error:\n\nBad file descriptor\n\nIf I then select undionly.0 in GUI Boot File filename then same client boots fine\n\nSo something is not correct\n\nsebus\n\n"
    },
    {
      "id": "176597",
      "timestamp": "2013-09-01T17:30:16+00:00",
      "author": "erwan.l",
      "content": "1/\n\nIs your root set correctly? i.e pointing to the folder containing the filename undionly.0 ?\n\nThe only reason why the file would not be set in the GUI is a wrong path/filename.\n\nIs this an issue introduced with version 1.0.0.14?\n\nEdit : root is a mandatory field if you decide to use the filename field.\n\n2/\n\nWhen your launch TinyPXE Server with start\u003d1, do you actually read this in the log windows :  \n...  \n19:27:21 dhcpd:67 started...  \n19:27:21 dhcpd:4011 started...  \n...  \nEdit : and to avoid confusion, do not tick/enable BINL.  \n3/  \nAnd is the proxydhcp checkbox ticked?  \nRegards,  \nErwan\n\n"
    },
    {
      "id": "176598",
      "timestamp": "2013-09-01T17:37:07+00:00",
      "author": "sebus",
      "content": "Correct, the root was undefined!\n\nIt works OK now, but on GUI startup gives error\n\nCould not bind to socket. Address and port already in use\n\nThey are not!\n\n"
    },
    {
      "id": "176600",
      "timestamp": "2013-09-01T17:40:12+00:00",
      "author": "erwan.l",
      "content": "Ok so at least we take away the issue with the filename not being kept in the GUI :smile:\n\nAbout the \"could not bind socket\", computer does not lie :smile:\n\nEither you have a program/service using these ports, or you already have an instance of TinyPXE Server.\n\nCheck a netstat -ab from the command line to see who does what.\n\n/Erwan\n\n"
    },
    {
      "id": "176603",
      "timestamp": "2013-09-01T18:13:02+00:00",
      "author": "sebus",
      "content": "I keep forgetting that Tiny is also integrated TFTP server (without option to turn it off)\n\nI use anothet TFTP boot (hence I do not care about path) and that what generates the error.\n\nCould you \"divorce\" TFTP as well?\n\nMaking the whole solution modular? Just a suggestion. Otherwise brilliant!\n\nThanks\n\nsebus\n\n"
    },
    {
      "id": "176604",
      "timestamp": "2013-09-01T18:17:10+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e About the \"could not bind socket\", computer does not lie :smile:\n\u003e\nComputers don\u0027t, but a MS OS ***may*** well do that :wink:.\n\nOT, and JFYI, we just found out that if you try to run a smaller than 252 bytes file on Windows 7 it won\u0027t and the error message is\n\u003e \"Program too big to fit in memory\"\n\u003e\n[http://reboot.pro/to...lenge/?p\u003d176423](http://reboot.pro/topic/18792-if-anyone-is-up-for-a-challenge/?p\u003d176423 \"\")\n\n![:lol:](https://reboot.pro/public/style_emoticons/default/laugh.png)\n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "176606",
      "timestamp": "2013-09-01T18:23:28+00:00",
      "author": "erwan.l",
      "content": "Hi Wonko !\n\nMS OS may lie indeed and I even dare to say that actually softwares ++do++ lie sometimes on purpose :smile:\n\nI work for a company where the production software will systematically pop up a \"network failure. contact your admins\" for ++any++error.\n\nBeing the admin guy for that company I can tell you that this upsets me a lot ![:chair:](https://reboot.pro/public/style_emoticons/default/chair.gif)\n\nI even contacted the dev guys and their response was \"oh well... this is more convenient like that\" ![:hammer:](https://reboot.pro/public/style_emoticons/default/hammer.gif)\n\nAt least, that gives us stories to tell !\n\n/Erwan\n\n"
    },
    {
      "id": "176607",
      "timestamp": "2013-09-01T18:25:41+00:00",
      "author": "erwan.l",
      "content": "\u003e I keep forgetting that Tiny is also integrated TFTP server (without option to turn it off)\n\u003e\n\u003e I use anothet TFTP boot (hence I do not care about path) and that what generates the error.\n\u003e\n\u003e Could you \"divorce\" TFTP as well?\n\u003e\n\u003e Making the whole solution modular? Just a suggestion. Otherwise brilliant!\n\u003e\n\u003e Thanks\n\u003e\n\u003e sebus\n\nHi Sebus,\n\nGood point : next version (should be quick), will offer to enable/disable TFTP.\n\nOnly issue : I have no more room left on my windows form !\n\nApart from that, does the proxydhcp new option work out for you?\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "176609",
      "timestamp": "2013-09-01T18:31:26+00:00",
      "author": "sebus",
      "content": "Yes, perfectly. In fact I did disable other TFTP \\\u0026 use Tiny for it as well.\n\nYou could always make config.ini only option to disable TFTP (honestly how many people would be bothered by it? - just a git like me)\n\nsebus\n\n"
    },
    {
      "id": "176612",
      "timestamp": "2013-09-01T18:53:35+00:00",
      "author": "erwan.l",
      "content": "\u003e Yes, perfectly. In fact I did disable other TFTP \\\u0026 use Tiny for it as well.\n\u003e\n\u003e You could always make config.ini only option to disable TFTP (honestly how many people would be bothered by it? - just a git like me)\n\u003e\n\u003e sebus\n\nDone.\n\nTFTPD is enabled by default unless you put tftpd\u003d0 in the config file.\n\nNote that all other daemons (httpd, dnsd, binld, proxydhcpd) are disabled by default.\n\nDownload again (I did not bother to increase the version).\n\n"
    },
    {
      "id": "176615",
      "timestamp": "2013-09-01T19:07:38+00:00",
      "author": "sebus",
      "content": "WOW, what a service! Thanks\n\nThe ONLY FREE Windows based proxyDHCP implementation!\n\n"
    },
    {
      "id": "176628",
      "timestamp": "2013-09-02T03:39:36+00:00",
      "author": "Jeff18MS",
      "content": "Hi Erwan,\n\nThank you so much for fixing our problem, however I still encounter DHCP request time out on the machines that encounter this before.\n\ncan you check my settings and logs?\n\nlog - [http://www.mediafire...41164q6/log.txt](http://www.mediafire.com/view/t460azx041164q6/log.txt \"External link\")\n\nsettings - [http://www.mediafire...1k03afq68b2facp](http://www.mediafire.com/view/1k03afq68b2facp \"External link\")\n\nconfig.ini :  \n\\[dhcp\\]  \nroot\u003dC:\\\\pxesrv\\\\files  \nfilename\u003dundionly.kpxe  \naltfilename\u003dmenu.ipxe  \noptextra\u003d175.6.1.1.1.8.1.1  \nhttpd\u003d0  \nproxydhcp\u003d1  \nstart\u003d1  \nbinl\u003d0  \n;poolstart\u003d142.176.120.100  \n;poolsize\u003d30  \n\\[frmDHCPServer\\]  \ntop\u003d135  \nleft\u003d1095  \nThank you so much!\n\n"
    },
    {
      "id": "176631",
      "timestamp": "2013-09-02T08:34:15+00:00",
      "author": "erwan.l",
      "content": "\u003e Hi Erwan,\n\u003e\n\u003e Thank you so much for fixing our problem, however I still encounter DHCP request time out on the machines that encounter this before.\n\u003e\n\u003e can you check my settings and logs?\n\u003e\n\u003e log - [http://www.mediafire...41164q6/log.txt](http://www.mediafire.com/view/t460azx041164q6/log.txt \"External link\")\n\u003e\n\u003e settings - [http://www.mediafire...1k03afq68b2facp](http://www.mediafire.com/view/1k03afq68b2facp \"External link\")\n\u003e\n\u003e config.ini :  \n\u003e \\[dhcp\\]  \n\u003e root\u003dC:\\\\pxesrv\\\\files  \n\u003e filename\u003dundionly.kpxe  \n\u003e altfilename\u003dmenu.ipxe  \n\u003e optextra\u003d175.6.1.1.1.8.1.1  \n\u003e httpd\u003d0  \n\u003e proxydhcp\u003d1  \n\u003e start\u003d1  \n\u003e binl\u003d0  \n\u003e ;poolstart\u003d142.176.120.100  \n\u003e ;poolsize\u003d30  \n\u003e \\[frmDHCPServer\\]  \n\u003e top\u003d135  \n\u003e left\u003d1095  \n\u003e Thank you so much!\n\u003e\nHi Jeff,\n\nConfig is ok.\n\nCan you tell me which device (mac address) is giving you trouble?\n\nHere below a successful pxe boot which happened at first attempt within 40 secs (i filtered out the log).\n\nMac address 00-21-9B-6D-5B-38 and transation ID 1CF210A0 : pxe -\\\u003e ipxe -\\\u003e menu.ipxe.\n\nI see other successful pxe boot from other devices so it looks good at first sight.\n\nHowever, I see lots of DHCPINFORM / DHCPDECLINE requests which TinyPXE Server does not handle (not sure it should).\n\nDo you know where these requests come from? Do you have a standlone dhcp server on your LAN?\n\n```\n9:53:06 AM DHCPd:incoming packet from : 00-21-9B-6D-5B-38\n9:53:06 AM DHCPd:DHCP_DISCOVER received, xid:385B6DA0\n9:53:07 AM DHCPd:DHCP_OFFER sent, IP:142.176.120.103, xid:385B6DA0\n9:53:08 AM DHCPd:incoming packet from : 00-21-9B-6D-5B-38\n9:53:08 AM DHCPd:DHCP_REQUEST discarded, xid:385B6DA0\n9:53:08 AM DHCPd4011:incoming packet from : 00-21-9B-6D-5B-38, 142.176.120.221\n9:53:08 AM DHCPd4011:DHCP_REQUEST received, xid:385B6DA0\n9:53:09 AM DHCPd4011:DHCP_ACK sent, IP:142.176.120.221, xid:385B6DA0\n9:53:09 AM TFTPd:DoReadFile:undionly.kpxe B:0 T:66848\n9:53:09 AM TFTPd:DoReadFile:undionly.kpxe B:1456 T:0\n9:53:43 AM DHCPd:incoming packet from : 00-21-9B-6D-5B-38\n9:53:43 AM DHCPd:DHCP_DISCOVER received, xid:1CF210A0\n9:53:43 AM DHCPd:iPXE user-class detected\n9:53:43 AM DHCPd:DHCP_OFFER sent, IP:142.176.120.103, xid:1CF210A0\n9:53:43 AM DHCPd:incoming packet from : 00-21-9B-6D-5B-38\n9:53:43 AM DHCPd:DHCP_REQUEST discarded, xid:1CF210A0\n9:53:43 AM TFTPd:DoReadFile:menu.ipxe B:1432 T:9127\n```\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "176645",
      "timestamp": "2013-09-02T11:12:09+00:00",
      "author": "Jeff18MS",
      "content": "\u003e Hi Jeff,\n\u003e\n\u003e Config is ok.\n\u003e\n\u003e Can you tell me which device (mac address) is giving you trouble?\n\u003e\n\u003e Here below a successful pxe boot which happened at first attempt within 40 secs (i filtered out the log).\n\u003e\n\u003e Mac address 00-21-9B-6D-5B-38 and transation ID 1CF210A0 : pxe -\\\u003e ipxe -\\\u003e menu.ipxe.\n\u003e\n\u003e I see other successful pxe boot from other devices so it looks good at first sight.\n\u003e\n\u003e However, I see lots of DHCPINFORM / DHCPDECLINE requests which TinyPXE Server does not handle (not sure it should).\n\u003e\n\u003e Do you know where these requests come from? Do you have a standlone dhcp server on your LAN?\n\u003e\n\u003e ```\n\u003e 9:53:06 AM DHCPd:incoming packet from : 00-21-9B-6D-5B-38\n\u003e 9:53:06 AM DHCPd:DHCP_DISCOVER received, xid:385B6DA0\n\u003e 9:53:07 AM DHCPd:DHCP_OFFER sent, IP:142.176.120.103, xid:385B6DA0\n\u003e 9:53:08 AM DHCPd:incoming packet from : 00-21-9B-6D-5B-38\n\u003e 9:53:08 AM DHCPd:DHCP_REQUEST discarded, xid:385B6DA0\n\u003e 9:53:08 AM DHCPd4011:incoming packet from : 00-21-9B-6D-5B-38, 142.176.120.221\n\u003e 9:53:08 AM DHCPd4011:DHCP_REQUEST received, xid:385B6DA0\n\u003e 9:53:09 AM DHCPd4011:DHCP_ACK sent, IP:142.176.120.221, xid:385B6DA0\n\u003e 9:53:09 AM TFTPd:DoReadFile:undionly.kpxe B:0 T:66848\n\u003e 9:53:09 AM TFTPd:DoReadFile:undionly.kpxe B:1456 T:0\n\u003e 9:53:43 AM DHCPd:incoming packet from : 00-21-9B-6D-5B-38\n\u003e 9:53:43 AM DHCPd:DHCP_DISCOVER received, xid:1CF210A0\n\u003e 9:53:43 AM DHCPd:iPXE user-class detected\n\u003e 9:53:43 AM DHCPd:DHCP_OFFER sent, IP:142.176.120.103, xid:1CF210A0\n\u003e 9:53:43 AM DHCPd:incoming packet from : 00-21-9B-6D-5B-38\n\u003e 9:53:43 AM DHCPd:DHCP_REQUEST discarded, xid:1CF210A0\n\u003e 9:53:43 AM TFTPd:DoReadFile:menu.ipxe B:1432 T:9127\n\u003e ```\n\u003e\n\u003e Regards,\n\u003e\n\u003e Erwan\n\nHi Erwan,\n\nI think this is not a problem of Tiny PXE Server, but with iPXE, does it really need to do the \"dhcp\" command? just to get the menu.ipxe?\n\nYes we have MS DHCP Server on our Network\n\nThanks again,\n\nJeff\n\n"
    },
    {
      "id": "176649",
      "timestamp": "2013-09-02T12:10:41+00:00",
      "author": "erwan.l",
      "content": "Hi Jeff,\n\nI believe you can skip the dhcp command in your ipxe script.\n\nSee if this improves things\n\nOn my side, I will see how / if I can handle DHCPINFORM and DHCPDECLINE packets.\n\nI will also work on the log to make it (a bit) more accurate and readable.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "176661",
      "timestamp": "2013-09-02T17:26:21+00:00",
      "author": "erwan.l",
      "content": "Latest version (still 1.0.0.14) is a bit easier to read on the log side of it (less lines) while providing a bit more informations.\n\nExemple below : a complete pxe-\\\u003eipxe-\\\u003escript sequence in proxydhcp mode should be displayed in 12 lines (versus 17 before).\n\nAction, MAC, IP, Transaction ID are easier to identify and to associate.\n\n```\n19:23:32 DHCPd:DISCOVER received, MAC:00-1C-25-70-13-F5, XID:F5137026\n19:23:32 DHCPd:OFFER sent, IP:192.168.1.101, XID:F5137026\n19:23:34 DHCPd:REQUEST discarded, MAC:00-1C-25-70-13-F5, XID:F5137026\n19:23:34 DHCPd4011:REQUEST received, MAC:00-1C-25-70-13-F5, IP:192.168.1.133, XID:F5137026\n19:23:34 DHCPd4011:DHCP_ACK sent, IP:192.168.1.133, xid:F5137026\n19:23:34 TFTPd:DoReadFile:ipxe-undionly.kpxe B:0 T:66711\n19:23:34 TFTPd:DoReadFile:ipxe-undionly.kpxe B:1456 T:0\n19:23:43 DHCPd:DISCOVER received, MAC:00-1C-25-70-13-F5, XID:FEB2856\n19:23:43 DHCPd:iPXE user-class detected\n19:23:43 DHCPd:OFFER sent, IP:192.168.1.101, XID:FEB2856\n19:23:43 DHCPd:REQUEST discarded, MAC:00-1C-25-70-13-F5, XID:FEB2856\n19:23:43 TFTPd:DoReadFile:menu.ipxe B:1432 T:7346\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "176664",
      "timestamp": "2013-09-02T19:24:47+00:00",
      "author": "sebus",
      "content": "\u003e Done.\n\u003e\n\u003e TFTPD is enabled by default unless you put tftpd\u003d0 in the config file.\n\nJust to be picky, you could build a bit of logic, if tftpd\u003d0 then we do not care about path to the boot file (as we obviously do not do tftp), so the name only is enough\n\nsebus\n\n"
    },
    {
      "id": "176665",
      "timestamp": "2013-09-02T19:43:47+00:00",
      "author": "erwan.l",
      "content": "\u003e Just to be picky, you could build a bit of logic, if tftpd\u003d0 then we do not care about path to the boot file (as we obviously do not do tftp), so the name only is enough\n\u003e\n\u003e sebus\n\nPossible indeed :smile:\n\nThus I purposedly forced the path+filename in order to actually retrieve information from the file (the size).\n\nThis in order to send back option dhcp 13 (boot file size in blocks of 512 bytes).\n\nIf I have only the (short) filename then i cannot calculate option 13.\n\nAlthough I tend to believe that this option is useless or at least that pxe clients do no care whether it is there or not...\n\nMore than once did I see pxe server skip that option and this without any impact on the whole process.\n\nSee here : [http://tools.ietf.org/html/rfc2132](http://tools.ietf.org/html/rfc2132 \"External link\") item \"boot file size option\"\n\n"
    },
    {
      "id": "176670",
      "timestamp": "2013-09-02T22:10:29+00:00",
      "author": "sebus",
      "content": "I am sure that option does not matter (none of my DHCP servers / proxyDHCP has it configured and all work well)\n\nsebus\n\n"
    },
    {
      "id": "176806",
      "timestamp": "2013-09-06T05:50:13+00:00",
      "author": "Lewis",
      "content": "Hey guys,\n\nHitting this weird snafu when I\u0027m trying to proxy DHCP boot a computer on our network. Now, it *used*to work, but now this is what happens:\n\n3:37:28 PM root path\u003dY:\\\\PXEEnvironment\\\\tinypxe\\\\files\\\\  \n3:37:28 PM dhcpd:67 started...  \n3:37:28 PM dhcpd:4011 started...  \n3:37:28 PM tftpd started...  \n3:37:32 PM DHCPd:DISCOVER received, MAC:00-24-81-B4-BA-A4, XID:A4BAB486  \n3:37:33 PM dhcpd:67 stopped...  \nBefore, when it was working, I wouldn\u0027t get the line of \"dhcpd:67 stopped\" and everything would boot okay.  \nThoughts? This is my config:  \n\\[frmDHCPServer\\]  \ntop\u003d196  \nleft\u003d910  \n\\[frmAbout\\]  \ntop\u003d483  \nleft\u003d704  \n\\[dhcp\\]  \nroot\u003dY:\\\\PXEEnvironment\\\\tinypxe\\\\files  \nfilename\u003dipxe.pxe  \noptextra\u003dbootscript.txt  \nhttpd\u003d1  \nproxydhcp\u003d1  \nstart\u003d1  \nbinl\u003d0  \nsubnet\u003d255.255.255.0  \n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "176807",
      "timestamp": "2013-09-06T06:09:01+00:00",
      "author": "erwan.l",
      "content": "Hi Lewis,\n\nDid you update binary before/after this bug or did this bug appearead while you stayed on the same binary?\n\nThis just to check whether I could have introduced a bug between 2 versions.\n\nCan you also put a screenshot of the main screen?\n\nLooks like my UDP thread silenty crashed.\n\nI\u0027ll see if I can put more details when this happens.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "176808",
      "timestamp": "2013-09-06T06:11:45+00:00",
      "author": "Lewis",
      "content": "Can do!\n\n[http://imgur.com/uw2MdUP](http://imgur.com/uw2MdUP \"External link\")\n\nThanks for your help, the way you support this tool is absolutely awesome.\n\nIt worked a few times today but I can\u0027t get it to work again. I should reboot it and try it again.\n\nIs there a manual way to restart the UDP thread? Or any of the threads?\n\n"
    },
    {
      "id": "176810",
      "timestamp": "2013-09-06T07:35:30+00:00",
      "author": "erwan.l",
      "content": "Possible workaround when you encounter this issue :\n\n-Clicking offline (button) will shutdown the udp thread.\n\n-Clicking online will restart the udp thread.\n\nWill post a new version this evening which should help debug this issue : it is either the udp socket itself crashing on incoming packet (i doubt it) or the parsing of the packet (most probably).\n\nEither a packet is malformed or my parser has a flaw.\n\nEdit : do you get this bug \"only\" in proxydhcp mode?\n\nEdit : option17 and extra options are wrong.\n\nIn your case, it should be empty.\n\nIf your bootscript.txt is an ipxe script then you should put it in the \"filename if user-class\u003dipxe/gpxe\".\n\noption 17/root path is a dhcp option, not linked to the root path of your executable.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "176822",
      "timestamp": "2013-09-06T15:48:19+00:00",
      "author": "erwan.l",
      "content": "Lewis,\n\nI can confirm that the issue comes from the fact that you put \"bootscript.txt\" in the extra options fields.\n\nThe field should contain something like 175.6.1.1.1.8.1.1 .\n\nI have uploaded a new version which will no longer crash on this issue.\n\nPlus, it will display something like :\n\n```\n...\n17:47:22 DHCPd:DISCOVER received, MAC:00-1C-25-70-13-F5, XID:F5137026\n17:47:23 analysedata67:\u0027bootscript\u0027 is not a valid integer value\n...\n\n```\n\nHope this answers your issue !\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "177012",
      "timestamp": "2013-09-13T13:58:33+00:00",
      "author": "misty",
      "content": "@erwan.l  \nThis looks like a great tool. I haven\u0027t had the chance to use it yet as my network doesn\u0027t currently allow testing. It seems to run ok (in terms of starting if nothing else) in WinPE and will potentially come in very handy for connecting two devices together with a cross over cable for a quick installation method. Can\u0027t wait to test it as I\u0027ve been after a WinPE based PXE server solution.  \n\nI set up a home server at the start of the year (a grand term for a low spec box running Windows XP) and ended up using Serva as I required proxyDHCP - so glad to see that you have recently added this feature.  \n\nAssuming it works when I can test it properly then very well done :wink:  \n\nRegards,  \n\nMisty   \n"
    },
    {
      "id": "177028",
      "timestamp": "2013-09-13T21:42:53+00:00",
      "author": "erwan.l",
      "content": "Hi Misty,\n\nThanks for the positive feedback.\n\nI did not perform any test under winpe so any feedback will be welcome.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "177070",
      "timestamp": "2013-09-15T05:28:49+00:00",
      "author": "avindra",
      "content": "I just created an account on this site to say thanks! I wanted to get rid of my Serva setup on Windows....\n\nI eventually did that by using TFTPd, Apache for http and for DHCP (drumroll...) a virtualized Ubuntu install running a properly configured dnsmasq setup.\n\nNow I can just run this program you\u0027ve made and TFTPd... and bam, network booting. Thanks! Have you / are you going to make this an open source project?\n\nThanks again.\n\nP.S.: I found your program searching for \"best http server for pxe\" on google. I was looking to see if something out there was faster / better suited than a full on Apache server. I found something even better ![:loleverybody:](https://reboot.pro/public/style_emoticons/default/loleverybody.gif)\n\n**Edited by avindra, 15 September 2013 - 05:30 AM.**\n"
    },
    {
      "id": "177084",
      "timestamp": "2013-09-15T10:06:12+00:00",
      "author": "coder",
      "content": "@ \"avindra\"\n\n![:spam:](https://reboot.pro/public/style_emoticons/default/spam.gif) Typical hidden well known forum member as single post spammer ![:spam:](https://reboot.pro/public/style_emoticons/default/spam.gif)\n\n**Edited by coder, 15 September 2013 - 10:09 AM.**\n"
    },
    {
      "id": "177089",
      "timestamp": "2013-09-15T10:57:40+00:00",
      "author": "erwan.l",
      "content": "Hi Coder,  \n\nCan you tell me more on your last thread ?\n\nThis seems again one of your gratuitious comment but I may be wrong : if so, please name that \"well known forum member\" and eventually raise it to the forum admins.\n\nFor sure, every time serva is mentionned, you are always very quick to react which makes me wonder if you have personal interests in that software.  \n\nRegards  \nErwan\n\n"
    },
    {
      "id": "177095",
      "timestamp": "2013-09-15T12:10:56+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e @ \"avindra\"\n\u003e\n\u003e ![:spam:](https://reboot.pro/public/style_emoticons/default/spam.gif) Typical hidden well known forum member as single post spammer ![:spam:](https://reboot.pro/public/style_emoticons/default/spam.gif)\n\nAny evidence, even of circumstantial nature to support your rather serious and belittling statement? ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)\n\n![:cheers:](https://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "177099",
      "timestamp": "2013-09-15T12:36:26+00:00",
      "author": "coder",
      "content": "evidence?\n\nc\u0027mon guys just read avindra\u0027s post\n\nSingle post, talking badly about a different software that you guys hate, saying things like\n\n![:showoff:](https://reboot.pro/public/style_emoticons/default/showoff.gif) *\"best http server for pxe\"* ![:showoff:](https://reboot.pro/public/style_emoticons/default/showoff.gif)\n\ndo yuo need more evidence WONKO?\n\n"
    },
    {
      "id": "177106",
      "timestamp": "2013-09-15T14:03:12+00:00",
      "author": "avindra",
      "content": "@coder:\n\nI was just expressing my gratitude for this piece of software.... it saves me the trouble of booting up an entire VM just to get a DHCP server that works in conjunction with my home router.\n\nI have no idea what you\u0027re on, but may I please have some of it? ![:loleverybody:](https://reboot.pro/public/style_emoticons/default/loleverybody.gif)\n\n"
    },
    {
      "id": "177109",
      "timestamp": "2013-09-15T14:31:55+00:00",
      "author": "erwan.l",
      "content": "\u003e evidence?\n\u003e\n\u003e c\u0027mon guys just read avindra\u0027s post\n\u003e\n\u003e Single post, talking badly about a different software that you guys hate, saying things like\n\u003e\n\u003e ![:showoff:](https://reboot.pro/public/style_emoticons/default/showoff.gif) *\"best http server for pxe\"* ![:showoff:](https://reboot.pro/public/style_emoticons/default/showoff.gif)\n\u003e\n\u003e do yuo need more evidence WONKO?\n\nYour gratuitious comments have now turned into ridiculous comments ...\n\n\"a different software that you guys hate\" ?\n\nWhere did you get that?\n\nI am only a developper offering free softwares, possibly open source, just for the fun of it.\n\nI am not into a competition mode, nor I am trying to get money or celebrity out of it.\n\nAnd accusing Wonko of posting under a different alias to market my software (or any software !) is absolutely stupid.\n\nCome on : you cannot be serious there... or else you could be suffering from paranoia...\n\nI am again wondering why you are so sensitive about serva...\n\nIf you are the author of this product, like I am starting to think, then say it loud and lets share ideas in a constructive way.\n\nThere are tons of examples on this forum where dev guys work together.\n\n/Erwan\n\n"
    },
    {
      "id": "177112",
      "timestamp": "2013-09-15T15:01:03+00:00",
      "author": "coder",
      "content": "\u003e Your gratuitious comments have now turned into ridiculous comments ...\n\nI have never talked to you like that. why don\u0027t you just keep it professional. ![:hmm:](https://reboot.pro/public/style_emoticons/default/hmm.gif)\n\n\u003e \"a different software that you guys hate\" ?  \n\u003e\n\u003e Where did you get that?\n\nread avindra\u0027s \"first\" sentence on this forum: ![:ermm:](https://reboot.pro/public/style_emoticons/default/ermm.gif)  \n*I just created an account on this site to say thanks! I wanted to get rid of my Serva setup on Windows....*\n\nposted right after misty\u0027s comment mentioning serva on the side.\n\n\u003e \u003cbr /\u003e\n\u003e\n\u003e And accusing Wonko of posting under a different alias to market my software (or any software !) is absolutely stupid.  \n\u003e\n\u003e Come on : you cannot be serious there...\n\n![:questionmark:](https://reboot.pro/public/style_emoticons/default/questionmark.gif) ... I have never accused WONKO of anything. Not even indirectly.\n\n\u003e I am again wondering why you are so sensitive about serva...\n\nI\u0027m not sensitive about Serva, I think it was in this thread I was commenting about it (because the relationship with your tiny pxe is obvious) and I felt harassed by one of Nuno Brito replies ![:ranting2:](https://reboot.pro/public/style_emoticons/default/ranting2.gif) . That thing really bothered me at the time. But we all make mistakes; today not a big deal.\n\n"
    },
    {
      "id": "177113",
      "timestamp": "2013-09-15T15:14:42+00:00",
      "author": "avindra",
      "content": "\u003e read avindra\u0027s \"first\" sentence on this forum: ![:ermm:](https://reboot.pro/public/style_emoticons/default/ermm.gif)\n\u003e\n\u003e *I just created an account on this site to say thanks! I wanted to get rid of my Serva setup on Windows....*\n\u003e\n\u003e posted right after misty\u0027s comment mentioning serva on the side.\n\n@Coder: [Here is a helpful resource for you](http://en.wikipedia.org/wiki/Coincidence \"External link\").\n\nI\u0027m not a spammer. Here\u0027s [my twitter account](http://twitter.com/avindra \"External link\"), where I made a posting about ipxe a few days (maybe weeks) ago.\n\nIf anything, I\u0027m inclined to believe you are the author of Serva. But I doubt that you are. Let\u0027s discontinue the wild accusations and act like we\u0027re not in grade school anymore.\n\n"
    },
    {
      "id": "177114",
      "timestamp": "2013-09-15T15:42:37+00:00",
      "author": "erwan.l",
      "content": "\u003e Let\u0027s discontinue the wild accusations and act like we\u0027re not in grade school anymore.\n\nFully aggree : Lets do that ![:good:](https://reboot.pro/public/style_emoticons/default/good.gif)\n\nComing back to your initial post, you mention that you run Tiny PXE Server next to your tftp server (or may be I read incorrectly).\n\nBe aware that Tiny PXE Server also has a tftp daemon built in : it is not always obvious looking at the GUI as you cannot enable/disable it there (possible via the ini file thus).\n\nJust thought I would bring your attention on that.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "177116",
      "timestamp": "2013-09-15T16:20:58+00:00",
      "author": "avindra",
      "content": "Thanks for the heads up Erwan. I did notice that it has its own TFTP daemon (due to messages in the log).\n\nI quickly discovered that setting the\n\n```\ntftpd\u003d0\n```\n\nOption in the config.ini disables it.\n\nBy the way - if you do decide to make this open source, let me know! I\u0027d love to contribute a few patches (to make the interface / settings more friendly).\n\n"
    },
    {
      "id": "177124",
      "timestamp": "2013-09-16T04:49:26+00:00",
      "author": "miol",
      "content": "Fantastic tool!\n\nIs it possible to change the http server port?\n\nIs there a setting for that?\n\n"
    },
    {
      "id": "177125",
      "timestamp": "2013-09-16T04:57:43+00:00",
      "author": "Lewis",
      "content": "Yeah Erwan, this tool is awesome. It frustrates me no end when people come into the thread and accuse other people of being spammers etc when they\u0027re just being gracious.\n\nAlso throwing my hat in the ring for open-source :smile: I have no idea how Proxy DHCP works and I\u0027d love to understand its implementation :smile:\n\n"
    },
    {
      "id": "177126",
      "timestamp": "2013-09-16T06:03:07+00:00",
      "author": "erwan.l",
      "content": "\u003e Fantastic tool!\n\u003e\n\u003e Is it possible to change the http server port?\n\u003e\n\u003e Is there a setting for that?\n\nHi Miol,\n\nThanks for the feedback.\n\nIn the config.ini, include the following to change the httpd port :\n\n*\\[web\\]*\n\n*port\u003dxxxx*\n\nxxxx being any (free) port from 1 to 65535.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "177127",
      "timestamp": "2013-09-16T06:09:46+00:00",
      "author": "erwan.l",
      "content": "\u003e Yeah Erwan, this tool is awesome. It frustrates me no end when people come into the thread and accuse other people of being spammers etc when they\u0027re just being gracious.\n\u003e\n\u003e Also throwing my hat in the ring for open-source :smile: I have no idea how Proxy DHCP works and I\u0027d love to understand its implementation :smile:\n\nHi Lewis,\n\nThe proxydhcp protocol is a bit hacky (IMHO).\n\nBasic steps are\n\n```\n1/\nIt sits on a subnet and sniff out PXE-based DHCPDISCOVER traffic (port 67 and/or 4011), and broadcasts back, alongside the corresponding DHCPOFFERs (from other server(s)).\nThe biggest difference being that ProxyDHCP sends null IP addresses (it focuses on extra information such as boot filename, etc).\n \n2/\nThe client with then send DHCPREQUEST to both the dhcp server (port 67) and to the proxydhcp (port 4011).\n \n3/\nBoth server will respond with a DHCPACK : the dhcp server with ip details and the proxydhcp with extra details like the boot file name.\n```\n\nTiny PXE Server share its code with another of my software which I am working on for years (more than 10).\n\nHence the core code being extremely messy : once cleaned up it will be ready for open source (sourceforge, or else).\n\nI can however share however bits of (delphi) code : PM me eventually.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "177225",
      "timestamp": "2013-09-18T18:19:12+00:00",
      "author": "erwan.l",
      "content": "Coming back on Wonko\u0027s comment ([here](http://reboot.pro/topic/18488-tiny-pxe-server/page-4#entry176241 \"\")), and following Sebus request ([here](http://reboot.pro/topic/18488-tiny-pxe-server/page-4#entry176240 \"\")), about setting an app as a service, I did try [http://nssm.cc/](http://nssm.cc/usage \"External link\") .\n\nTiny Pxe Server does work as a service thanks to nssm.\n\nI recommend to run as system and to tick \"enable to interact with desktop\".\n\nSide note, under windows 7, it goes to [session 0](http://msdn.microsoft.com/en-us/library/windows/desktop/bb756986.aspx \"External link\").\n\nWindows will propose to peek on session 0.\n\nYou can also manually switch to that session with this command : *rundll32 winsta.dll,WinStationSwitchToServicesSession .*\n\nMakes me think that I should offer the option to dump log to a text file for users not willing to bother about the GUI.\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "177227",
      "timestamp": "2013-09-18T18:45:07+00:00",
      "author": "erwan.l",
      "content": "Added : \"log\" (\u003d1 or \u003d0) option in config.ini to dump to a text file (next to the memo control).\n\nPossible usage is to run Tiny Pxe Server as a service (interactive or not) and to check actions in log.txt (created in the same folder as the executable).\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "177455",
      "timestamp": "2013-09-25T00:42:18+00:00",
      "author": "Hellingher",
      "content": "Hi Erwan\n\nFirstly a great thanks for your incredible tool and your incredible work. Better than... ![:censored:](https://reboot.pro/public/style_emoticons/default/censored.gif) no i\u0027m not going to said it one more time in this thread. Secondly, i\u0027m not really good as you are but i\u0027m trying as a newbie with PXE, only mastering DRBL servers. And your knowledge impress me.\n\nI Followed your FAQ (10) and read the thread.\n\nBut i have an interesting challenge :\n\nI\u0027m in a network with DHCP, a Ghost PXE Server. With no access on them. SCCM and AD.\n\nWe\u0027re using USB keys so called WIM key. But we lack of USB key as USB key are corrupted sometimes. And i have 50 machine to master for friday. Then i\u0027m searching how to convert USB boot setup into PXE setup and i\u0027m here discovering your work.\n\n(Content of USB key, here ISO extracted from USB with boot sector (12GB))\n\n![2013_09_25_02_10_08_Greenshot.jpg](http://s15.postimg.org/jf6a8staz/2013_09_25_02_10_08_Greenshot.jpg)\n\nthe setup from key boot and start it\u0027s own dhcp client, rename machine, sccm, registrering AD and setup windows.\n\nIs there\u0027s a way your tool could help me to mastering without using USB but only PXE server?\n\nThe challenge is a bit high for me alone ![:pressure:](https://reboot.pro/public/style_emoticons/default/infomilies10.gif) and i came with humility : your advice should be good : Which is the better way ? Iso ? Make it as a wim file? extract into files folder ?\n\n```\nlog\u003d1\nroot\u003dfiles\nfilename\u003dipxe-undionly.kpxe\naltfilename\u003diso.ipxe\noptextra\u003d175.6.1.1.1.8.1.1\nhttpd\u003d1\ntftpd\u003d1\nproxydhcp\u003d1\n```\n\niso-ipxe\n\n```\n#!ipxe\nset boot-url http://${dhcp-server}\ninitrd ${boot-url}/images/wim7gie.iso\nkernel ${boot-url}/memdisk iso raw\nboot\n```\n\nBy advance a great thanks just for reading me and for your program ![:smiling9:](https://reboot.pro/public/style_emoticons/default/smiling9.gif)\n\nSee ya\n\n**Edited by Hellingher, 25 September 2013 - 12:47 AM.**\n"
    },
    {
      "id": "177462",
      "timestamp": "2013-09-25T07:47:00+00:00",
      "author": "erwan.l",
      "content": "\u003e Hi Erwan\n\u003e\n\u003e Firstly a great thanks for your incredible tool and your incredible work. Better than... ![:censored:](https://reboot.pro/public/style_emoticons/default/censored.gif) no i\u0027m not going to said it one more time in this thread. Secondly, i\u0027m not really good as you are but i\u0027m trying as a newbie with PXE, only mastering DRBL servers. And your knowledge impress me.\n\u003e\n\u003e I Followed your FAQ (10) and read the thread.\n\u003e\n\u003e But i have an interesting challenge :\n\u003e\n\u003e I\u0027m in a network with DHCP, a Ghost PXE Server. With no access on them. SCCM and AD.\n\u003e\n\u003e We\u0027re using USB keys so called WIM key. But we lack of USB key as USB key are corrupted sometimes. And i have 50 machine to master for friday. Then i\u0027m searching how to convert USB boot setup into PXE setup and i\u0027m here discovering your work.\n\u003e\n\u003e (Content of USB key, here ISO extracted from USB with boot sector (12GB))\n\u003e\n\u003e ![2013_09_25_02_10_08_Greenshot.jpg](http://s15.postimg.org/jf6a8staz/2013_09_25_02_10_08_Greenshot.jpg)\n\u003e\n\u003e the setup from key boot and start it\u0027s own dhcp client, rename machine, sccm, registrering AD and setup windows.\n\u003e\n\u003e Is there\u0027s a way your tool could help me to mastering without using USB but only PXE server?\n\u003e\n\u003e The challenge is a bit high for me alone ![:pressure:](https://reboot.pro/public/style_emoticons/default/infomilies10.gif) and i came with humility : your advice should be good : Which is the better way ? Iso ? Make it as a wim file? extract into files folder ?\n\u003e\n\u003e ```\n\u003e log\u003d1\n\u003e root\u003dfiles\n\u003e filename\u003dipxe-undionly.kpxe\n\u003e altfilename\u003diso.ipxe\n\u003e optextra\u003d175.6.1.1.1.8.1.1\n\u003e httpd\u003d1\n\u003e tftpd\u003d1\n\u003e proxydhcp\u003d1\n\u003e ```\n\u003e\n\u003e iso-ipxe\n\u003e\n\u003e ```\n\u003e #!ipxe\n\u003e set boot-url http://${dhcp-server}\n\u003e initrd ${boot-url}/images/wim7gie.iso\n\u003e kernel ${boot-url}/memdisk iso raw\n\u003e boot\n\u003e ```\n\u003e\n\u003e By advance a great thanks just for reading me and for your program ![:smiling9:](https://reboot.pro/public/style_emoticons/default/smiling9.gif)\n\u003e\n\u003e See ya\n\nHi Hellingher,\n\nThanks for your positive comment.\n\nAlthough I cannot validate comments about other products.\n\nThe below ipxe code will work and is probably the preferred way :\n\n```\nset boot-url http://${dhcp-server}\n  kernel ${boot-url}/wimboot\n  initrd ${boot-url}/BOOTMGR          BOOTMGR\n  initrd ${boot-url}/BOOT/BCD         BCD\n  initrd ${boot-url}/BOOT/BOOT.SDI    BOOT.SDI\n  initrd ${boot-url}/SOURCES/BOOT.WIM BOOT.WIM\n  boot \n```\n\nThe below will also work :  \n\n```\nset boot-url http://${dhcp-server}\ninitrd ${boot-url}/images/wim7gie.iso\nkernel ${boot-url}/memdisk iso raw\nboot\n```\n\nThe below will also work :  \n\n```\nset boot-url http://${dhcp-server}\nsanboot --no-describe ${boot-url}/images/wim7gie.iso\n\n```\n\nIf you use **proxydhcp** mode in Tiny PXE Server (i.e if there is already a DHCP on your LAN), replace **dhcp-server** by **next-server**.  \nDid you say that your ISO was 12gb?  \nIf so, then forget the memdisk or wimboot solution (#1 and #2 above) and rather stick to sanboot (which does load ++not++ the iso in mem but rather emulates a block device).  \nThat 12gb detail could be a tough constraint and you have to review this part.  \nRegards,  \nErwan\n\n"
    },
    {
      "id": "177483",
      "timestamp": "2013-09-25T18:32:06+00:00",
      "author": "erwan.l",
      "content": "Version 1.0.0.15 is out.\n\nMain news is the auto create windows share feature.\n\nAdding smb\u003d1 in the config.ini (under \\[dhcp\\]) will make it so that Tiny PXE Server will automatically create a windows share on (named PXE) the current root, side by side to the tftpd and/or http daemons.\n\nWhat for?\n\nTo enable the booting of live distros such as Linux Mint, Ubuntu, etc.\n\nExample below of an ipxe code using a cifs share :\n\n```\nset boot-url http://${next-server}\nset cifs-server //${next-server}\nkernel ${boot-url}/mint/casper/vmlinuz showmounts toram root\u003d/dev/cifs boot\u003dcasper netboot\u003dcifs nfsroot\u003d${cifs-server}/pxe/mint NFSOPTS\u003d-ouser\u003dusername,pass\u003dpassword,ro ip\u003ddhcp ro\ninitrd ${boot-url}/mint/casper/initrd.lz\nboot\n```\n\nMore details [here](http://labalec.fr/erwan/?p\u003d506 \"External link\").\n\nThis can also be handy for a XP RIS installation (which requires a windows share).\n\nRegards,\n\nErwan\n\n"
    },
    {
      "id": "177486",
      "timestamp": "2013-09-25T19:13:59+00:00",
      "author": "Hellingher",
      "content": "![:1st:](https://reboot.pro/public/style_emoticons/default/1st.gif) Erwan. I\u0027ll make a feedback about how it\u0027s work in a big pool dispatched between mass entities, mass mastering, 7 and XP. The windows share is a really helpfull option \\\u0026 i\u0027ll try it ASAP.\n\n"
    },
    {
      "id": "177492",
      "timestamp": "2013-09-25T21:38:18+00:00",
      "author": "coder",
      "content": "good job erwan;\n\nhow did you come up with this lines ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)\n\n```\nkernel ${boot-url}/mint/casper/vmlinuz showmounts toram root\u003d/dev/cifs boot\u003dcasper netboot\u003dcifs nfsroot\u003d${cifs-server}/pxe/mint NFSOPTS\u003d-ouser\u003dusername,pass\u003dpassword,ro ip\u003ddhcp ro\ninitrd ${boot-url}/mint/casper/initrd.lz\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "177493",
      "timestamp": "2013-09-25T21:56:44+00:00",
      "author": "coder",
      "content": "never mind, I just googled for\n\n\"showmounts toram root\u003d/dev/cifs boot\u003dcasper netboot\u003dcifs nfsroot\"\n\nand it is pretty clear where you got those lines from... ![:clown:](https://reboot.pro/public/style_emoticons/default/clown.gif)\n\nIt is always good mentioning the sources though ![:good:](https://reboot.pro/public/style_emoticons/default/good.gif)\n\n"
    },
    {
      "id": "177495",
      "timestamp": "2013-09-25T22:48:34+00:00",
      "author": "erwan.l",
      "content": "\u003e never mind, I just googled for\n\u003e\n\u003e \"showmounts toram root\u003d/dev/cifs boot\u003dcasper netboot\u003dcifs nfsroot\"\n\u003e\n\u003e and it is pretty clear where you got those lines from... ![:clown:](http://reboot.pro/public/style_emoticons/default/clown.gif)\n\u003e\n\u003e It is always good mentioning the sources though ![:good:](http://reboot.pro/public/style_emoticons/default/good.gif)\n\nCome on, can we not go once more time again over this? ![:fool:](http://reboot.pro/public/style_emoticons/default/fool.gif)\n\nPretending last time that avindra was a fake user ([here](http://reboot.pro/topic/18488-tiny-pxe-server/page-6#entry177084 \"\")) did not convince you from stopping there?\n\nYes I confess, I do google a lot and lots of the knowledge I get (and share with others) I do get it from the internet...\n\nSpecially when it comes to syntax around grub4dos, syslinux, linux distros : I dont pretend to invent it (do I?).\n\nSo if put over a trial, I play guilty : I shamelessly re use knowlede from forums like this.\n\nStill, one thing I cannot be blamed for is me pretending to own any of that knowledge, nor to deserve any sort of copyright or credits for this.\n\nBooting ubuntu (or other distros for that matter) over CIFS (or http, or nfs, ...) is all over google : again I did not pretend I found this gem...\n\nLook over [here](http://labalec.fr/erwan/?cat\u003d19 \"External link\")(my blog) and you\u0027ll see that \"booting stuff\" is my hobby : I collect ways of booting stuffs, I do not make them.\n\nAnd to conclude : what is it with you hunting my posts, and jumping on any opportunity to put up for a fight over here?\n\nHow many times now have you been putting a negative comments on me?\n\nOnce again, your obsession over this really makes me think (since day 1) that you are the author of Serva.\n\nIf so, do you realise how ridiculous this is? At best will you look like a fool, at worse will you damage your software reputation which in turn could hurt your business.\n\nGet off my back. Go spam another thread or forum please.\n\nThis thread is about my free software, which is entirely genuine, and does not break any copyright or licence, does not contain renamed or modified binaries.\n\n/Erwan\n\n"
    },
    {
      "id": "177501",
      "timestamp": "2013-09-25T23:31:35+00:00",
      "author": "Hellingher",
      "content": "I have read all the exchange within this thread. Before trying Erwan Freeware instead of others. For an evidence : Erwan may be paste and cuter if you want and all you want. But HE IS CLEARLY a Hard Worker to communicate with the community.\n\nErwan is a Best Effort developper.\n\nHe has never hiding from the begining that he tried others soft but they were not sufficient for his need. Then he try to adapt his own.\n\nSearching information is a hard job.\n\nAND He demonstrates more sharing, and passion to understand PXE and share it.\n\nWe all prefer Erwan\u0027s efforts than Coder\u0027s efforts.\n\nClore le débat. Voilà.\n\n"
    },
    {
      "id": "177503",
      "timestamp": "2013-09-26T05:01:14+00:00",
      "author": "avindra",
      "content": "Hey \"coder\"... how about you work on Serva and stop picking fights with Erwan? While he released an update 10 hours ago, you haven\u0027t released an update since August 12th! ![:clap:](http://reboot.pro/public/style_emoticons/default/clap.gif)\n\n\\*shots fired\\*\n\n"
    },
    {
      "id": "177504",
      "timestamp": "2013-09-26T06:04:16+00:00",
      "author": "erwan.l",
      "content": "I wanted this thread about sharing ideas around pxe booting, about improving my software for the greater good of the community.\n\nIn reality, this thread is turning into an endless fight around another product.\n\nThis is ruining all my fun, all my enthusiasm.\n\nCould I close this thread, i would do it but then Coder would probably continue on some other threads I would start as it seems this is his sole goal in life.\n\nI am one click away to remove Tiny PXE Server and to keep working on it in my own little corner as I clearly dont want to participate in that hateful discussion.\n\n/Erwan\n\n"
    },
    {
      "id": "177505",
      "timestamp": "2013-09-26T06:12:30+00:00",
      "author": "Lewis",
      "content": "All I can do is tell you how useful your work is to us and the community Erwan. You\u0027ve done thoroughly excellent work, work that I myself do admire and will use in a big way.\n\nIf you can your work, and your updates, then I know that we will be waiting for quite some time before another product comes along that even comes close to what yours offers.\n\nYou\u0027re awesome, your app is awesome, and I want this app like this cat wants pats! [http://imgur.com/bSRAxQB](http://imgur.com/bSRAxQB \"External link\")\n\n"
    },
    {
      "id": "177511",
      "timestamp": "2013-09-26T10:20:46+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e erwan lets cut the crap;\n\ncoder, to cut the crap, we would need to have you mature far beyond your current level. This is something will take a few (several) years, seemingly.\n\nThis set of commands and parameters:\n\u003e\n\u003e kernel ${boot-url}/mint/casper/vmlinuz showmounts toram root\u003d/dev/cifs boot\u003dcasper netboot\u003dcifs nfsroot\u003d${cifs-server}/pxe/mint NFSOPTS\u003d-ouser\u003dusername,pass\u003dpassword,ro ip\u003ddhcp ro  \n\u003e initrd ${boot-url}/mint/casper/initrd.lz\n\u003e\nare NOT \"code\".\n\nThey are commands and parameters needed to boot a Linux kernel + corresponding initrd.\n\nThe base sintax is made of:\n\nkernel \\\u003ckernel\\\u003e\n\ninitrd \\\u003cintird\\\u003e\n\nthen there are the kernel parameters and those more specific for network booting, that are more or less documented (examples) here:\n\n[https://wiki.archlin...rnel_parameters](https://wiki.archlinux.org/index.php/Kernel_parameters \"External link\")\n\n[http://manpages.ubun...7/casper.7.html](http://manpages.ubuntu.com/manpages/lucid/man7/casper.7.html \"External link\")\n\n[http://live.debian.n...ive-boot.7.html](http://live.debian.net/manpages/3.x/en/html/live-boot.7.html \"External link\")\n\n[https://www.kernel.o...nfs/nfsroot.txt](https://www.kernel.org/doc/Documentation/filesystems/nfs/nfsroot.txt \"External link\")\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)\n\nWonko\n\n"
    },
    {
      "id": "177513",
      "timestamp": "2013-09-26T11:13:28+00:00",
      "author": "coder",
      "content": "@wonko, my friend, you love links; why do not google and publish here the links that contain this tiny sequence\n\n**\"showmounts toram root\u003d/dev/cifs\"** ![:suda:](http://reboot.pro/public/style_emoticons/default/suda.gif)\n\nEven when you do not agree I consider what Erwan wrote \"code\";  \nAmong other things it was even surrounded by \"code\" tags in his post;\n\nbut do not worry I can rephrase my question:\n\n@Erwan:  \nDid you take that XXXX from Serva\u0027s work YES or NO?\n\nXXXX\u003dWhatever Wonko wants to call those lines.\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "177515",
      "timestamp": "2013-09-26T11:47:06+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Among other things it was even surrounded by \"code\" tags in his post;\n\n\u003cbr /\u003e\n\n```\nAh, well that surely qualifies it as such.\n```\n\n\u003cbr /\u003e\n\n![:cheers:](http://reboot.pro/public/style_emoticons/default/cheers.gif)  \nWonko   \n"
    },
    {
      "id": "177517",
      "timestamp": "2013-09-26T13:21:50+00:00",
      "author": "avindra",
      "content": "Erwan- please ignore \"coder\" and don\u0027t take this to heart. I wrote userscripts for Greasemonkey a few years ago, and I interacted with characters like this all of the time. I let it get to me sometimes, which eventually caused me to leave userscripts for good.\n\nWe all want to see the development of this project, and perhaps even contribute to it ourselves. I hope that you choose to continue working on your PXE Server software.\n\n"
    },
    {
      "id": "177519",
      "timestamp": "2013-09-26T14:25:42+00:00",
      "author": "Jeff18MS",
      "content": "\u003e never mind, I just googled for\n\u003e\n\u003e \"showmounts toram root\u003d/dev/cifs boot\u003dcasper netboot\u003dcifs nfsroot\"\n\u003e\n\u003e and it is pretty clear where you got those lines from... ![:clown:](http://reboot.pro/public/style_emoticons/default/clown.gif)\n\u003e\n\u003e It is always good mentioning the sources though ![:good:](http://reboot.pro/public/style_emoticons/default/good.gif)\n\ndon\u0027t mind this faggot!\n\nKeep up the Good Work Erwan ![:1st:](http://reboot.pro/public/style_emoticons/default/1st.gif)\n\n"
    },
    {
      "id": "177523",
      "timestamp": "2013-09-26T18:33:17+00:00",
      "author": "ZEE",
      "content": "Erwan... Just ignore the dude... eventually he will disapear...\n\nGreat job done in the PXE server... thanks!\n\nZEE\n\n"
    },
    {
      "id": "177529",
      "timestamp": "2013-09-26T21:30:50+00:00",
      "author": "Lewis",
      "content": "Can we please get some mods in here to review this topic and either lock it or temporarily ban coder? I think it would be prudent to start reporting posts by coder as they are inflammatory.   \n\n**Edited by Lewis, 26 September 2013 - 09:31 PM.**\n"
    },
    {
      "id": "177588",
      "timestamp": "2013-09-28T16:31:32+00:00",
      "author": "erwan.l",
      "content": "discussion moved [here](http://reboot.pro/topic/18962-bug-reports-requests-howtos-about-tiny-pxe-server/ \"\")\n\n"
    }
  ]
}