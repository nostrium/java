{
  "id": "14279",
  "title": "Sub Menu in Grub2",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "126630",
      "timestamp": "2011-04-12T10:16:33+00:00",
      "author": "Tonton_Glenn",
      "content": "Hi All,  \n\n\u003cbr /\u003e\n\nI have an USB boot project based on grub4dos and i want to migrate it with grub2 method.  \n\nSo i re-wrote everything in grub.cgf but i dont know how to manage submenu with it.  \n\nMy old project called many .lst cause need submenu but with grub2.... don\u0027t work.  \n\nI use burg (with themes management) and i would when i choose a theme on the root menu, it been applied in sub menus too.  \n\nIhave read many topic, how too, guide tuto, no info about that.  \n\nAny idea ?  \n\nRegards,   \n"
    },
    {
      "id": "126687",
      "timestamp": "2011-04-13T08:10:44+00:00",
      "author": "Tonton_Glenn",
      "content": "![:happy_dance:](http://reboot.pro/public/style_emoticons/default/celebrate14.gif)   \n"
    },
    {
      "id": "126778",
      "timestamp": "2011-04-14T12:52:23+00:00",
      "author": "Wonko the Sane",
      "content": "I have seen hints that grub2 can read GRUB (legacy) or grub4dos menu.lst directly, see here:  \n[http://www.msfn.org/...artition-grub2/](http://www.msfn.org/board/topic/148700-install-windows-7-from-any-usb-ntfs-partition-grub2/ \"External link\")  \n\ncan you simply try and confirm that? ![:thumbsup:](http://reboot.pro/public/style_emoticons/default/thumbsup.gif)  \n\n![:smiling9:](http://reboot.pro/public/style_emoticons/default/smiling9.gif)  \nWonko   \n"
    },
    {
      "id": "126889",
      "timestamp": "2011-04-15T16:21:01+00:00",
      "author": "pokemon1",
      "content": "Tonton, I have done lot of research on this subject, i.e. have menu support for grub2 submenu. For time being it is not supported. What I mean is you can call submenus but the theme would be broken. To achieve this I have taken an alternative route; It worked with BURG and I am sure will work with GRUB2 as well. Please refer below;  \n\nI assume you have grub2 installed in the MBR and got a folder \u0027boot\u0027 in the root. And subfolder \u0027grub\u0027 inside folder \u0027boot\u0027.  \n\n\u003cbr /\u003e\n\nStep-1: Copy folder \u0027grub\u0027 and paste as \u0027grub1\u0027 inside \u0027boot\u0027  \n\nStep-2: open grub.cfg \\[boot \\\u003e grub \\\u003e \\] and edit as given below; this will load core.img that is residing in \u0027grub1\u0027 folder  \n-----------------------------  \nsource ${prefix}/gui.cfg  \nset default\u003d0   \nset timeout\u003d5  \n\nmenuentry \"Call grub submenu\" {  \nmultiboot /boot/grub1/core.img  \n}  \n-----------------------------  \nStep-3: Most important! Modify core.img \\[boot \\\u003e grub1 \\\u003e \\] in a hexeditor. Insert \u00271\u0027 after \u0027grub\u0027 as given below. What you are doing here is - setting up grub home directory as \u0027grub1\u0027. Save the core.img.  \n\n00000200 ea cf 82 00 00 00 04 00 88 39 00 00 d8 6f 00 00 \\|.........9...o..\\|   \n00000210 bd 54 00 00 ff ff ff ff ff ff ff ff 2f 62 6f 6f \\|.T........../boo\\|   \n00000220 74 2f 67 72 75 62 00 00 00 00 00 00 00 00 00 00 \\|t/grub..........\\|   \n00000230 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \\|................\\|   \n00000240 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \\|................\\|   \n00000250 00 00 00 00 00 00 00 00 00 00 00 00 02 b0 ad 1b \\|................\\|  \n\nStep-4: You can have same theme as in /boot/grub/ or different theme of your choice in /boot/grub1/theme/  \n\nHope this helps. Please let me know if this worked?  \n\nPlease check \u003chttp://reboot.pro/12395/page__st__15\u003e for details. Thanks to Icecube for the guidence!   \n\n**Edited by pokemon1, 15 April 2011 - 04:27 PM.**\n"
    },
    {
      "id": "127749",
      "timestamp": "2011-05-01T12:12:48+00:00",
      "author": "Tonton_Glenn",
      "content": "Hi All,  \n\nThanks for your both reply guys.  \n\nI\u0027ve tested the pokemon1\u0027s solution and all work perfectly !!!!!!!!!!  \n\nIt is exactly what i want to do !  \n\nMany many thanks for this, you are very nice, and i think that can help many other people in the same issue.  \n\nBest Regards, :smile:   \n\nTonton Glenn   \n"
    }
  ]
}