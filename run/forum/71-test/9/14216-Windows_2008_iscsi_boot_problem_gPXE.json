{
  "id": "14216",
  "title": "Windows 2008 iscsi boot problem (gPXE)",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "126103",
      "timestamp": "2011-04-01T15:07:32+00:00",
      "author": "TomasK",
      "content": "Hi, I am trying to install Windows 2008 directly to iscsi disk using gPXE. I\u0027ve tried almost everything and I am still (now for 2 months) stuck on this.  \n\n\u003cbr /\u003e\n\nI have DHCP set according to guidelines bellow and as iscsi target I use Openfiler 2.3 (I have also tried CCBoot with the same result). Booting computer has MB Gigabyte GA-8I915PL-G. There is local HDD in computer.   \nI have followed [http://etherboot.org...8_iscsi_install](http://etherboot.org/wiki/sanboot/win2k8_iscsi_install \"External link\") .   \n\nAt first I have used **NIC Marvell Yukon 88E8001 and chainloaded gPXE via PXE** , using this I have during installation to iscsi target seen iscsi disk (when was prompted where to instal to), but i got message \"Windows cannot be installed to this disk. This computer\u0027s hardware may not support booting to this disk. Ensure that the disk\u0027s controller is enabled in the computer\u0027s BIOS menu\". At this point **installation ended, because despite all guidelines I couldn\u0027t proceed any further** .  \n\nThen I got **NIC Intel pro 1000 gt and flashed gPXE1.0.0 rom onto it** . Using this, when I am in selection where to install windows, I select iscsi drive and I got the same message \"Windows cannot be installed to this disk. This computer\u0027s ...\", but when I click Next, installation starts and it goes to point where it needs to restart computer. The problem is, **it copy windows files to iscsi disk, but bootloader writes to local HDD in PC** . So after restart, there is no bootloader gPXE (embedded in NIC) could load.   \n\nI have also tried CCBoot to install Windows 7 to and it\u0027s the same problem (without Intel card with flashed gPXE I cannot install to the disk at all, with that card I could proceed to the point where setup restarts computer and I find 7 GB written on CCBoot server but loader is written on local HDD).   \n\nWhen I physically detach local HDD, I couldn\u0027t install windows either, it ends at the point when I select disk to install windows to with \"Windows cannot be installed ...\". I have tested this on 2 other computers and got the same results.  \n\nIn all cases, gPXE + linux server + Openfiler has exactly the same results as CCBoot.  \n\nI will be grateful for all insights where could the problem be and how to solve it.   \nThank you, TomasK   \n\n**Edited by TomasK, 01 April 2011 - 03:13 PM.**\n"
    },
    {
      "id": "126116",
      "timestamp": "2011-04-01T17:10:50+00:00",
      "author": "Sha0",
      "content": "CCBoot. Ugh.  \n\ngPXE, iPXE. ![:dubbio:](http://reboot.pro/public/style_emoticons/default/dubbio.gif)  \n\nThe Windows Server 2008 installation environment appears to wish to install the boot manager on the \"system volume\"; a volume deemed to be what the computer is natively capable of booting. I\u0027m not sure of the *best* solution, but did you observe [this](http://etherboot.org/wiki/sanboot/win2k8_iscsi_install#what_to_do_if_the_installation_saysensure_that_the_disk_s_controller_is_enabled_in_the_computer_s_bios_menu \"External link\") section in the gPXE how-to?   \n"
    },
    {
      "id": "126120",
      "timestamp": "2011-04-01T18:11:40+00:00",
      "author": "TomasK",
      "content": "Yes, but i couldn\u0027t change between Compatible mode and AHCI. There is no such option in BIOS.   \n"
    }
  ]
}