{
  "id": "22179",
  "title": "Easy way to change keyboard layout/language on grub4dos command line",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "213150",
      "timestamp": "2019-10-25T03:35:17+00:00",
      "author": "alacran",
      "content": "Since long time ago I have had troubles with my non English keyboard in grub4dos command line, it is really APITA to type some commands with an Spanish (es-ES) or Latinamerican (es-LA) keyboard, **steve6375** recommended me long time ago to copy from his great tool [E2B](http://www.easy2boot.com/ \"External link\") the keyboard file(s) for my KB, E2B contains several keyboard options on Easy2Boot\\\\_ISO\\\\e2b\\\\grub\\\\ folder, and I did it, but always forget to add the required file, or its name is hard to type once on command line.  \n\nList of Keyboard batch files available on E2B:\n\n\u003cbr /\u003e\n\nSpoiler  \nKBD_AZERTY.g4b  \nKBD_CZECH_QWERTY.g4b  \nKBD_CZECH_QWERTZ.g4b  \nKBD_FRENCH.g4b  \nKBD_GERMAN.g4b  \nKBD_ITALIANO.g4b  \nKBD_JAPAN_106.g4b  \nKBD_LATIN_USA.g4b  \nKBD_PORTU_BRAZIL.g4b  \nKBD_QWERTY_UK.g4b  \nKBD_QWERTY_USA.g4b  \nKBD_QWERTZ.g4b  \nKBD_QWERTZ_HUN.g4b  \nKBD_QWERTZ_SLOV_CROAT.g4b  \nKBD_SPANISH.g4b  \nKBD_SWEDISH.g4b  \nKBD_TURKISH_Q.g4b  \nKBD_VIETNAMESE.g4b\n\n\u003cbr /\u003e\n\nI finally decided to put an end to this stupid issue and did the following:\n\n\u003cbr /\u003e\n\nCopied: KBD_SPANISH.g4b, KBD_LATIN_USA.g4b and KBD_QWERTY_USA.g4b next to my grld and menu.lst files\n\nAnd renamed them to: eses.g4b, esla.g4b and enus.g4b, respectively\n\nAdded a title to my menu.lst as shown:\n\n```\ntitle Grub4Dos Command Line\\nOn command line Type eses + ENTER for es-ES KB\\nType esla + ENTER for es-LA KB\\nType enus + ENTER for en-US KB\ncommand --set-ext\u003d.g4b \u003e nul\ncommandline\n```\n\nI know en-US is default keyboard on grub4dos but I added it just in case after using es-ES or es-LA KB(s) I want to go back to the default keyboard, without the need to reboot.\n\nNow KB batch files (.g4b) names make more sence to me, are shorter, easy to remember and very much easier to type, as there is not any \"_\" or \"-\" caracter on any of them, wich are located on different places/keys on this KBs.\n\nOf course each user will select the required file(s) and rename the way he/she wants, just remember to edit the entrance on menu.lst as required.\n\nThis is in fact something not very technical, but I wanted to share it because it seems to me very simple and practical, and maybe it can be of some use for new grub4dos users.\n\n**Locale ID:** [https://docs.microso...-language-packs](https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/default-input-locales-for-windows-language-packs \"External link\")\n\nAlso if there isn\u0027t available a keyboard .g4b file for your language, you can make your own using as a guide KBD_QWERTY_USA.g4b, KBD_QWERTY_UK.g4b and this page where you can take a look of many keyboard layouts: [http://kbdlayout.info/](http://kbdlayout.info/ \"External link\")\n\n**EDIT:** For updated version see [post No. 6](http://reboot.pro/topic/22179-easy-way-to-change-keyboard-layoutlanguage-on-grub4dos-command-line/#entry213158 \"\") please.\n\nalacran\n\n**Edited by alacran, 25 October 2019 - 08:09 PM.**\n"
    },
    {
      "id": "213151",
      "timestamp": "2019-10-25T04:37:27+00:00",
      "author": "Tokener",
      "content": "Hola my friend,\n\nbrilliant idea!\n\nthanks a lot for sharing.\n\nThanks to steve6375 too, of course.\n\nRegards T.\n\n"
    },
    {
      "id": "213153",
      "timestamp": "2019-10-25T07:05:29+00:00",
      "author": "steve6375",
      "content": "title Spanish keyboard\\\\nChange to Spanish keyboard  \ncall /kbd_spanish.g4b  \nerrorcheck off  \nboot  \n\nSimples!\n\n\\[Edited /n to \\\\n\\]\n\n**Edited by steve6375, 25 October 2019 - 06:15 PM.**\n"
    },
    {
      "id": "213155",
      "timestamp": "2019-10-25T09:56:35+00:00",
      "author": "Wonko the Sane",
      "content": "It seems more logical to me something \"midway\".\n\nI.e., since the keyboard remapping is only useful when you need to type something (the keys used for menu navigation/choices are not remapped AFAICR), maybe:\n\ntitle Command Line - Spanish Keyboard\n\ncall /kbd_spanish.g4b  \ncommandline\n\nand possibly:\n\ntitle Command Line - US Keyboard\n\ncall /kbd_qwerty_usa.g4b  \ncommandline\n\nmight do? ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "213156",
      "timestamp": "2019-10-25T10:03:33+00:00",
      "author": "steve6375",
      "content": "If using grub4dos \u0027hotkey\u0027 utility, then any letter key you type will highlight the next menu item beginning with that same letter.\n\nYou can also set up hotkeys such as Ctrl-Z, etc., so the correct keyboard type is essential.\n\nAlso entering the menu password is tricky if the keyboard is not correct, depending on what password has been set (e.g. \u0027easy2boot\u0027 when you have a German QWERTZ keyboard!)\n\nP.S. Recent grub4dos 0.4.6a has enhanced kbd mapping of more keys than older versions and the E2B KEY_xxx files have been enhanced.\n\n**Edited by steve6375, 25 October 2019 - 10:05 AM.**\n"
    },
    {
      "id": "213158",
      "timestamp": "2019-10-25T16:55:59+00:00",
      "author": "alacran",
      "content": "\u003e title Spanish keyboard**/**nChange to Spanish keyboard  \n\u003e call /kbd_spanish.g4b  \n\u003e errorcheck off  \n\u003e boot  \n\u003e\n\u003e Simples!\n\nUsing this approach you change the keyboard without run the commandline, wich could be usefull in some scenarios (not my case right now). Of course we will need another title to run commandline:\n\ntitle Command Line\n\ncommandline\n\n**EDIT:** Not required unless the KB don\u0027t have \"c\" key on same possition as on en-US KB, just pressining \"c\" key will open Command Line.\n\nAlso there is a little mistake on first line/title (I assume it was a typo from steve6375), it should be:\n\ntitle Spanish keyboard**\\\\**nChange to Spanish keyboard \\\u003e\\\u003e\\\u003e It needs to be backslash to be written as a help message at the bottom part of screen.\n\n\u003e It seems more logical to me something \"midway\".\n\u003e\n\u003e I.e., since the keyboard remapping is only useful when you need to type something (the keys used for menu navigation/choices are not remapped AFAICR), maybe:\n\u003e\n\u003e title Command Line - Spanish Keyboard\n\u003e\n\u003e call /kbd_spanish.g4b  \n\u003e commandline\n\u003e\n\u003e and possibly:\n\u003e\n\u003e title Command Line - US Keyboard\n\u003e\n\u003e call /kbd_qwerty_usa.g4b  \n\u003e commandline\n\u003e\n\u003e might do? ![:unsure:](http://reboot.pro/public/style_emoticons/default/unsure.png)\n\u003e\n\u003e ![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\u003e\n\u003e Wonko\n\nThis will change the keyboard and open commandline, wich sounds good as usualy is on command line where we need to type something more frecuently, but once on commandline we will have to type the long name of the batch file if we want to change for another KB.\n\nMaybe this could be more useful:\n\n```\ntitle Command Line with Spanish KB\\nTo change KB when on command line Type eses + ENTER for es-ES KB\\nType esla + ENTER for es-LA KB or Type enus + ENTER for en-US KB\ncommand --set-ext\u003d.g4b \u003e nul\ncall /eses.g4b\ncommandline\n```\n\nThis will change KB before open commandline, and also has the additional benefit of use short names for KB batch files, easier to remember and type on commandline if for some reason we want to change the KB there.\n\nBut I think as always this is only a matter of preference of each user, the options are available for selecting what fits better his/hers needs/likes.\n\n**NOTE:** On my country almost all OEM laptops and desktops come with es-LA KB, but if you go to the store to buy a single KB, only option is es-ES KB, so it is very frecuent to find a mix of KBs everywhere, in fact I do have a mix of KBs at home, and it is always good to have options to change the KB layout/language from the menu and also from the commandline.\n\nalacran\n\n"
    },
    {
      "id": "213160",
      "timestamp": "2019-10-25T23:17:30+00:00",
      "author": "alacran",
      "content": "New info added to first post to help create other Keyboard layouts/languages batch files in case the required one is not available on E2B.\n\nLet me suggest if some of you have sucess creating a new keyboard file and after testing it all work fine, to make a post and attach it or put a link to a free hosting service to make it available to other users.\n\nalacran\n\n"
    },
    {
      "id": "213162",
      "timestamp": "2019-10-26T11:10:28+00:00",
      "author": "Wonko the Sane",
      "content": "Oww, come on ...\n\nI don\u0027t get you ![:wacko:](http://reboot.pro/public/style_emoticons/default/wacko.png) (but as always it is fine :smile: ).\n\nThe only reason (apart the added complication of hotkeys AND IF one of the hotkeys is one of the remapped chars) for having a localized keyboard is to manually type some commands, if you have under your hands a Spanish keyboard AND you want to run something on command line (AND you are not able to type those on the US keyboard mapping ) then you open, instead of a plain command line \"c\", the menu entry for Spanish keyboard.\n\nOnce you have done that you have not one reason on earth to revert to the US one, but even if you have - as a matter of fact - you can press \"e\" and choose the \"other\" command line entry remapping to the US keyboard and press \"e\" or, even if you do not have to remember the name of the .g4b file, while still on the command line you type:\n\ncall /kbd \\[TAB\\]\n\nand you will have a list of all files starting with kbd\\[1\\] you have available, among them /poossibly only two or three) it shouldn\u0027t be that difficult to complete, by alternating jey presses to \\[TAB\\]s to the wanted one.\n\nBTW, if you actually \"call\" a .g4b, I don\u0027t think you need to \"command --set-ext\u003d.g4b \\\u003e nul\"\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n\\[1\\] and this alone is a very good reason to have all files starting with kbd\n\n"
    },
    {
      "id": "213167",
      "timestamp": "2019-10-26T17:53:34+00:00",
      "author": "alacran",
      "content": "As said on first post:\n\n\u003e maybe it can be of some use for **new** grub4dos users\n\nOf course it can be done in several different ways, but as the title of the posts says:\n\n\u003e Easy way to change keyboard layout/language on grub4dos command line\n\nAbout the use of hotkeys: This thread was made for user made menus not for E2B (great work of steve6375 by the way) or any other premade solution, Additionaly to let hotkeys to work It requires to download an additional file and follow some steps to make it work, then the user should follow the instructions to use it, and be sure to not have any possible interference with his/hers renamed (if used this suggestion) files.\n\nAbout this line:\n\n\u003e command --set-ext\u003d.g4b \\\u003e nul\n\nIt let you use the short names without extension when on Command Line, but if next line on menu is:\n\ncall /eses\n\nIt do not work when you are on the menu, it is not executed/accepted and there is no change on KB layout when Command line is loaded. Then on the menu I had to add the extension to let it work properly, as following:\n\n\u003e call /eses.g4b\n\nNow, this way it is accepted and Command Line is opened with the new KB layout, then having both lines give the user the capability to change KB on menu.lst and also when on Command Line.\n\nAnd just to finish this post, also as said before:\n\n\u003e **But I think as always this is only a matter of preference of each user, the options are available for selecting what fits better his/hers needs/likes.**\n\nalacran\n\n"
    },
    {
      "id": "213174",
      "timestamp": "2019-10-27T13:09:07+00:00",
      "author": "Wonko the Sane",
      "content": "Sure :smile:\n\ncall /eses\n\ndoesn\u0027t work, because the filename is eses.g4b BUT you are not on command line so it doesn\u0027t cost you much to add to write in the menu entry:\n\ncall /eses.g4b\n\nOR since you are renaming files, nothing prevents you from calling it only eses.\n\nThe point I was trying to explain was that that setting the extension to executable allows for having \"directly\":\n\ncommand --set-ext\u003d.g4b \\\u003e nul  \n/eses.g4b\n\nBUT this:\n\ncall /eses.g4b\n\nshould work nonetheless by itself.\n\nI will repeat, however that on command line one needs to gt the habit of using the very handy \\[TAB\\] autocompletion, so that:\n\ncall /es\\[TAB\\]\n\nwill autocomplete properly to the filename.\n\nAnyway, at the time I made a simple spreadsheet to create \"custom\" (or localized) keyboard layouts for grubdos, while it may be far from perfect is a good base if someone wants to experiment, only for the record:\n\n[http://reboot.pro/to...eyboard-layout/](http://reboot.pro/topic/8056-keyboard-layout/ \"\")\n\n[http://reboot.pro/to...layout/?p\u003d68522](http://reboot.pro/topic/8056-keyboard-layout/?p\u003d68522 \"\")\n\n![:duff:](http://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "213176",
      "timestamp": "2019-10-27T14:04:29+00:00",
      "author": "steve6375",
      "content": "Here is a recent blog article on the latest keyboard changes to grub4dos.\n\n[https://rmprepusb.bl...-keyboards.html](https://rmprepusb.blogspot.com/2019/05/grub4dos-and-non-usa-keyboards.html \"External link\")\n\nWhen making grub4dos keyboard translation files, I found it easiest to just get the two keyboards up in two browser tabs.\n\nThen you simply look at the differences for each key in turn in each state.\n\nFirst choose the \u0027Shift states\u0027 - \u0027Base\u0027 views (i.e. unshifted)...\n\n[http://kbdlayout.inf...irtualkeys/base](http://kbdlayout.info/00020409/shiftstates+virtualkeys/base \"External link\")\n\n[http://kbdlayout.inf...irtualkeys/base](http://kbdlayout.info/00000452/shiftstates+virtualkeys/base \"External link\")\n\nNow compare each key and create a setkey line for any difference using\n\n```\nsetkey [new character] [QWERTY-USA character]\n```\n\nNext change to \u0027VK_Shift\u0027 in both browser tabs to show the Shift-state of each key and compare the two browser windows and write more setkey lines.\n\nNext change to \u0027VK_Control\u0027 and do those\n\nNext change to \u0027VK_Control,VK_Menu\u0027 for the Ctrl+Alt (\u003dAltGr) special keys\n\nCheck the E2B KBD_ files to see examples.\n\n"
    },
    {
      "id": "213260",
      "timestamp": "2019-11-15T02:47:50+00:00",
      "author": "troygarcia2485",
      "content": "Very useful tip. I will try to use it myself. [https://3cre.com/commercial-real-estate-dayton-ohio/](https://3cre.com/commercial-real-estate-dayton-ohio/ \"External link\")\n\n"
    }
  ]
}