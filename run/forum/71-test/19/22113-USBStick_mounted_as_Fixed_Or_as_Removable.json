{
  "id": "22113",
  "title": "USB-Stick mounted as Fixed Or as Removable",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "212395",
      "timestamp": "2019-08-07T14:49:10+00:00",
      "author": "wimb",
      "content": "mounted as Fixed \u003d\u003d mounted as Removable\n\n[![USB_Stick_Fixed-2019-08-07_161753.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-15474300-1565188844_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-15474300-1565188844.png \"USB_Stick_Fixed-2019-08-07_161753.png - Size: 533.3KB\"){#ipb-attach-url-16783-0-41152600-1676066401} \u003d\u003d [![USB_Stick_Remov-2019-08-07_162947.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-53817900-1565188873_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-53817900-1565188873.png \"USB_Stick_Remov-2019-08-07_162947.png - Size: 546.27KB\"){#ipb-attach-url-16784-0-41165900-1676066401}\n\nIn Windows 10 an USB-Stick with [two partitions as proposed by Guimenez](https://msfn.org/board/topic/149612-winntsetup-v394/?do\u003dfindComment\u0026comment\u003d1168799 \"External link\") can be easily made with Disk Management.\n\nSometimes but not always I get that the USB-Stick After Repartitioning is mounted as Fixed drive.\n\nIt turns out that this is caused by a change in the Registry.\n\nIf I simply return to an[earlier version of the registry](https://www.tweaking.com/content/page/registry_backup.html \"External link\") then the same USB-Stick without any changes is mounted as Removable Device.\n\nWhich change in the registry is causing this behaviour that the USB-Stick is sometimes mounted as Fixed device ?\n\n"
    },
    {
      "id": "212396",
      "timestamp": "2019-08-07T16:23:17+00:00",
      "author": "Wonko the Sane",
      "content": "I don\u0027t get it.\n\nCompare the two registries, since you have them.\n\nYou know, like:\n\n[https://www.nirsoft....anges_view.html](https://www.nirsoft.net/utils/registry_changes_view.html \"External link\")\n\n99.99 % relevant changes will be in SYSTEM or in SOFTWARE (personally I would look in SYSTEM first).\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212397",
      "timestamp": "2019-08-07T16:34:16+00:00",
      "author": "wimb",
      "content": "\u003e Compare the two registries, since you have them.\n\u003e\n\u003e [https://www.nirsoft....anges_view.html](https://www.nirsoft.net/utils/registry_changes_view.html \"External link\")\n\u003e\nSure I will do that.\n\nBut is there a simple way (some Windows 10 setting) to change between Fixed and Removable ?\n\nIn this case it has nothing to do with some extra installed Filter Driver Or with Flipping the Removable bit as used in the past for older Windows versions.\n\nIt is somewhere hidden in the Windows 10 registry only ....\n\n"
    },
    {
      "id": "212398",
      "timestamp": "2019-08-07T17:08:08+00:00",
      "author": "steve6375",
      "content": "So if you run RMPrepUSB, does it list the disk as Fixed for one Registry setting and Removable for a different Registry setting?\n\nI was not aware that this could be changed in the Registry?\n\n"
    },
    {
      "id": "212399",
      "timestamp": "2019-08-07T17:32:05+00:00",
      "author": "wimb",
      "content": "\u003e So if you run RMPrepUSB, does it list the disk as Fixed for one Registry setting and Removable for a different Registry setting?\n\u003e\n\u003e I was not aware that this could be changed in the Registry?\n\nIn RMPrepUSB the USB-Stick is always seen as Removable\n\nseen as Fixed \u003d\u003d seen as Removable\n\n[![Fixed_Steve-2019-08-07_192859.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-51781500-1565199068_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-51781500-1565199068.png \"Fixed_Steve-2019-08-07_192859.png - Size: 560.58KB\"){#ipb-attach-url-16785-0-41177100-1676066401} \u003d\u003d [![Removable_Steve-2019-08-07_192004.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-12813900-1565199100_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-12813900-1565199100.png \"Removable_Steve-2019-08-07_192004.png - Size: 581.75KB\"){#ipb-attach-url-16786-0-41185200-1676066401}\n\n"
    },
    {
      "id": "212400",
      "timestamp": "2019-08-07T17:37:39+00:00",
      "author": "Wonko the Sane",
      "content": "Only as a side note.\n\nI thought that Windows 10 (rightly or wrongly, that is up to debate) had changed the main \"feature\" (please note the double quotes), that *was* in earlier versions of windows:\n\n1) removable -\\\u003e only one partition visible/accessible/mounted to a drive letter\n\nor\n\n2) fixed -\\\u003e ALL partitions visible/accessible/mounted to a drive letter\n\nEssentially that was the reason to use (or not use) the dummydisk or reversed dummy disk drivers.\n\nAFAICR/AFAIK Windows 10 mounts all partitions anyway, so - besides your interesting observation - what is the actual problem?\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212401",
      "timestamp": "2019-08-07T17:42:59+00:00",
      "author": "steve6375",
      "content": "I am confused too? What is the difference between the two Disk manager screenshots? They look the same.\n\nWhat do you mean by \u0027seen as Fixed\u0027 and \u0027seen as Removable\u0027?\n\nAre you referring to the Quick Removal policy for USB drives and whether filesystem is cached or not?\n\n"
    },
    {
      "id": "212402",
      "timestamp": "2019-08-07T18:40:01+00:00",
      "author": "wimb",
      "content": "The problem is that when the USB-Stick is seen as Fixed drive , then it is not accepted anymore by [MediaCreationTool](https://www.microsoft.com/en-us/software-download/windows10 \"External link\") used to make USB-Stick for Install of Windows 10.\n\nIn the screenshots you see the difference just below **Schijf 5** - *Standaard* is a Basic Fixed drive and *Verwisselbaar* is Removable drive in your language.\n\nRight click on **Schijf 5** and you get the different Properties of the drive, just given as an illustration (not as a problem :wink: )\n\nI don\u0027t know for the USB-Stick as seen in Windows 10 as Basic Fixed drive, **How to change** it into Removable drive\n\nSo once the registry has decided to make it a Fixed drive, then it becomes useless for MediaCreationTool, that I normally use to **format** such USB-Stick ....\n\nThe only way for me to make the USB-Stick seen as Removable again is to use [RegistryBackup](https://www.tweaking.com/content/page/registry_backup.html \"External link\") and change to earlier registry settings.\n\nLuckily I have such registry backup available, otherwise it would mean a reinstall of Windows 10 .... which is quite easy in case of [VHD WIMBOOT](http://reboot.pro/topic/21977-vhd-wimboot-apply-and-capture-of-wim-files-for-os-in-vhd/ \"\") :smile:\n\nCannot Find USB-Flashstation\n\n[![Fixed_MediaCrea-2019-08-07_211655.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-19435000-1565205485_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-19435000-1565205485.png \"Fixed_MediaCrea-2019-08-07_211655.png - Size: 498.47KB\"){#ipb-attach-url-16787-0-41192700-1676066401}\n\n"
    },
    {
      "id": "212403",
      "timestamp": "2019-08-08T07:46:25+00:00",
      "author": "wimb",
      "content": "It is in the **system** registry file.\n\nRestore of only the**system**registry can make that the Fixed USB-Stick is seen as Removable again.\n\n**How to USB-Stick in Windows 10 seen as Fixed change into seen as Removable ?** ![:frusty:](https://reboot.pro/public/style_emoticons/default/frusty.gif)\n\n"
    },
    {
      "id": "212405",
      "timestamp": "2019-08-08T08:52:56+00:00",
      "author": "steve6375",
      "content": "Microsoft\u0027s Media Creation Tool allows us to make a bootable Windows USB DVD or \u0027Flash drive\u0027 - according their documentation.\n\nI have a Corsair GTX Flash drive which appears as a Fixed Disk and a Corsair Voyager which appears as a Removable drive.\n\nBoth drives have two primary partitions and both drives are seen by the Media Creation Tool.\n\nYou will need to do some work to compare the two Registry snapshots and try to find out what the causative entries are,\n\n"
    },
    {
      "id": "212406",
      "timestamp": "2019-08-08T09:17:08+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e It is in the **system** registry file.\n\n\u003e You will need to do some work to compare the two Registry snapshots and try to find out what the causative entries are,\n\nAnd we are back to post #2.\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212407",
      "timestamp": "2019-08-08T09:26:01+00:00",
      "author": "wimb",
      "content": "\u003e You will need to do some work to compare the two Registry snapshots and try to find out what the causative entries are,\n\nThere are so many changes in the system registry, so that it is difficult to say what the causative entries are ....\n\n"
    },
    {
      "id": "212408",
      "timestamp": "2019-08-08T10:04:25+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e There are so many changes in the system registry, so that it is difficult to say what the causative entries are ....\n\nThere can\u0027t be that many (that make actually sense).\n\nYou want to compare only ControiSet001 vs. Controlset001\n\nAnd within ControlSet001, try filtering only entries that contain USB.\n\nBefore that, check MountedDevices.\n\nOn older NT, a volume on a disk that was fixed was Disk Signature + offset to the volume, whilst Removable media would begin with:\n\n```\n5C 00 3F 00 3F 00 5C 00 53 00 54 00 4F 00 52 00 \n41 00 47 00 45 00 23 00 52 00 65 00 6D 00 6F 00 \n76 00 61 00 62 00 6C 00 65 00 4D 00 65 00 64 00 \n69 00 61 00 \n```\n\ni.e. \\\\??\\\\STORAGE#RemovableMedia\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212409",
      "timestamp": "2019-08-08T10:12:22+00:00",
      "author": "wimb",
      "content": "[![NonRemovable-2019-08-08_120115.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-63095100-1565258536_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-63095100-1565258536.png \"NonRemovable-2019-08-08_120115.png - Size: 523.94KB\"){#ipb-attach-url-16788-0-41199700-1676066401}\n\nI found something\n\nThere is a **NonRemovable** value equal 1 in Control\\\\Class key of the device which normally is not there\n\nComputer\\\\HKEY_LOCAL_MACHINE\\\\SYSTEM\\\\ControlSet001\\\\Control\\\\Class\\\\{36fc9e60-c465-11cf-8056-444553540000}\\\\0009\n\nThis brings back the Save Removal in the taskbar and the Device Properties have now the Policiy for Removal again.\n\nHowever it is only part of the problem, since the Device is seen in Disk Management as *Standaard*(being a Basic Fixed disk)\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "212410",
      "timestamp": "2019-08-08T10:31:59+00:00",
      "author": "wimb",
      "content": "MountedDevices have for drive P: and Q: the DiskSignature and don\u0027t have the code common for Removable\n\n[![MountedDev-2019-08-08_122926.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-22250300-1565260337_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-22250300-1565260337.png \"MountedDev-2019-08-08_122926.png - Size: 512.9KB\"){#ipb-attach-url-16789-0-41206400-1676066401}\n\n"
    },
    {
      "id": "212411",
      "timestamp": "2019-08-08T10:37:03+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e There is a **NonRemovable** value equal 1 in Control\\\\Class key of the device which normally is not there\n\u003e\n\u003e Computer\\\\HKEY_LOCAL_MACHINE\\\\SYSTEM\\\\ControlSet001\\\\Control\\\\Class\\\\{36fc9e60-c465-11cf-8056-444553540000}\\\\0009\n\u003e\n\u003e This brings back the Save Removal in the taskbar and the Device Properties have now the Policiy for Removal again.\n\u003e\n\u003e However it is only part of the problem, since the Device is seen in Disk Management as *Standaard*(being a Basic Fixed disk)\n\nYep, that trick dates back to XP to remove the device from the Safely Remove Hardware \"pop-up\" (to avoid litttering the list with external hard disks that are \"permanently\" connected to the PC and disconnect them by mistake), see (Spanish, you may want to use Google Translate):\n\n[http://www.miguelms.com/usbnorem.htm](http://www.miguelms.com/usbnorem.htm \"External link\")\n\n\u003e MountedDevices have for drive P: and Q: the DiskSignature and don\u0027t have the code common for Removable\n\nWhich is good, but I have no idea if Windows 10 actually behaves like previous versions (since it actually mounts all partitions on \"Removeble Devices\" anyway).\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212412",
      "timestamp": "2019-08-08T10:51:24+00:00",
      "author": "wimb",
      "content": "Thanks for the interesting info on Safely Remove Hardware :smile:\n\nI went back to the the system registry case where the device is seen as Removable (\u003d *Verwisselbaar* in Dutch)\n\nIndeed the MountedDevices key now corresponds to Removable device\n\n[![MountedDev_Remov-2019-08-08_124718.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-33774500-1565261392_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-33774500-1565261392.png \"MountedDev_Remov-2019-08-08_124718.png - Size: 503.63KB\"){#ipb-attach-url-16790-0-41213000-1676066401}\n\n"
    },
    {
      "id": "212413",
      "timestamp": "2019-08-08T12:40:30+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I went back to the the system registry case where the device is seen as Removable (\u003d *Verwisselbaar* in Dutch)\n\u003e\n\u003e Indeed the MountedDevices key now corresponds to Removable device\n\nDoes it/they? ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)\n\n**If** I read correctly the screenshot you posted:\n\n1) BOTH drives P: and Q: belong to the USB stick\n\n2) drive P: entry begins with 5F 00\n\n3) drive Q: entry begins with 7b 00 ![:w00t:](https://reboot.pro/public/style_emoticons/default/w00t.gif)\n\nIf you weren\u0027t such an old and respectable member of the board ![:worship:](https://reboot.pro/public/style_emoticons/default/worship.gif) , besides an old friend :smile:, and had I not been in an exceptionally good mood today ![:ermm:](https://reboot.pro/public/style_emoticons/default/ermm.gif) , I would have probably told you:\n\n1) we DO NOT §@ç#ing care about your desktop ![:ranting2:](https://reboot.pro/public/style_emoticons/default/ranting2.gif)\n\n2) you should post **readable** screenshots (ONLY of the relevant information window(s)) ![:lightbulb:](https://reboot.pro/public/style_emoticons/default/lightbulb.gif)\n\n3) even better save the key to a .reg file and post that INSTEAD ![:realmad:](https://reboot.pro/public/style_emoticons/default/realmad.gif)\n\nMy grumpiness must be softening up with age .... :wink:\n\nSeriously, do export the mounted devices key (both the \"fixed\" and the \"removable\" one) besides possibly understanding what are the actual values (which are seemingly not \"removable media\" and certainly not disk signature) maybe I could be able to put a date to the UUID (or do it yourself):\n\n[http://reboot.pro/to...mounteddevices/](http://reboot.pro/topic/21931-how-does-window-get-guid-of-disk-in-mounteddevices/ \"\")\n\nso at least one would have a timeline on when it happened first time.\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\nP.S. Another form for \"removable media\" could be something beginning with:\n\n```\n5F 00 3F 00 3F 00 5F 00 55 00 53 00 42 00 53 00 \n54 00 4F 00 52 00 23 00 44 00 69 00 73 00 6B 00 \n26 00 56 00 65 00 6E 00 5F \n```\n\ni.e. _??_USBSTOR#Disk\\\u0026Ven_\n\n"
    },
    {
      "id": "212414",
      "timestamp": "2019-08-08T13:22:52+00:00",
      "author": "wimb",
      "content": "Here are some better screenshots for the case that USB-Stick is seen as **Removable**\n\nMountedDevices for Drive Q is beginning with a guid\n\n[![MountedDev_Remov-2019-08-08_151557.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-87465700-1565270378_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-87465700-1565270378.png \"MountedDev_Remov-2019-08-08_151557.png - Size: 495.86KB\"){#ipb-attach-url-16791-0-41219500-1676066401} \u003d\u003d [![DosDevP-2019-08-08_152502.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-66132700-1565270763_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-66132700-1565270763.png \"DosDevP-2019-08-08_152502.png - Size: 8.71KB\"){#ipb-attach-url-16793-0-41233800-1676066401} \u003d\u003d [![DosDevQ-2019-08-08_151702.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-50309300-1565270388_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-50309300-1565270388.png \"DosDevQ-2019-08-08_151702.png - Size: 7.89KB\"){#ipb-attach-url-16792-0-41225900-1676066401}\n\nI am sorry that the previous screenshots were not readable enough.\n\n[![Attached File](http://reboot.pro/public/style_extra/mime_types/txt.gif)](http://reboot.pro/index.php?s\u003d38fb3b12f648cf7cd55c03dc623d4345\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16794 \"Download attachment\") [**MountedDevices_Remov.txt**](http://reboot.pro/index.php?s\u003d38fb3b12f648cf7cd55c03dc623d4345\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16794 \"Download attachment\") **13.69KB** 324 downloads\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n\nAnd when the USB-Stick is seen as **Fixed Drive** we have:\n\n[![MountedDev_Fixed-2019-08-08_153939.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-26297900-1565271803_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-26297900-1565271803.png \"MountedDev_Fixed-2019-08-08_153939.png - Size: 325.46KB\"){#ipb-attach-url-16795-0-41250000-1676066401}\n\n[![Attached File](http://reboot.pro/public/style_extra/mime_types/txt.gif)](http://reboot.pro/index.php?s\u003d38fb3b12f648cf7cd55c03dc623d4345\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16796 \"Download attachment\") [**MountedDevices_Fixed.txt**](http://reboot.pro/index.php?s\u003d38fb3b12f648cf7cd55c03dc623d4345\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16796 \"Download attachment\") **9.29KB** 365 downloads\n\n[Download uuid.exe program](http://soft.rubypdf.com/software/guidgen-ossp-uuid \"External link\")\n\n"
    },
    {
      "id": "212416",
      "timestamp": "2019-08-08T16:11:48+00:00",
      "author": "Wonko the Sane",
      "content": "Hmmm. ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)  \n\nThe \"Fixed\" file is perfectly \"normal\".  \nThe \"Remov\" one is \"queer\".  \n\nThe Q: value is actually a UUID: {944d75b4-b74c-11e9-91f0-3252cb53659d} followed by #00000006D6100000  \n\nIt is actually a seemingly valid (generated) UUID:  \nuuid -d 944d75b4-b74c-11e9-91f0-3252cb53659d  \nencode: STR: 944d75b4-b74c-11e9-91f0-3252cb53659d  \nSIV: 197127937593995330478615059618449286557  \ndecode: variant: DCE 1.1, ISO/IEC 11578:1996  \nversion: 1 (time and node based)  \ncontent: time: 2019-08-05 06:45:14.501266.0 UTC  \nclock: 4592 (usually random)  \nnode: 32:52:cb:53:65:9d (local unicast)  \n\n\u003cbr /\u003e\n\nThe P: value is a more normal: _??_USBSTOR#Disk\\\u0026Ven_Kingston\\\u0026Prod_DataTraveler_3.0\\\u0026Rev_#60A44C425294F27039868C15\\\u00260#{53f56307-b6bf-11d0-94f2-00a0c91efb8b}  \n\n(the {53f56307-b6bf-11d0-94f2-00a0c91efb8b} is \"normal\" [https://docs.microso...vinterface-disk](https://docs.microsoft.com/en-us/windows-hardware/drivers/install/guid-devinterface-disk \"External link\") )  \n\nVolume P: UUID decodes to:  \nuuid -d a6760a2a-b90c-11e9-91f7-2c56dc97ff86  \nencode: STR: a6760a2a-b90c-11e9-91f7-2c56dc97ff86  \nSIV: 221264744538551325193628704403545915270  \ndecode: variant: DCE 1.1, ISO/IEC 11578:1996  \nversion: 1 (time and node based)  \ncontent: time: 2019-08-07 12:12:39.501060.2 UTC  \nclock: 4599 (usually random)  \nnode: 2c:56:dc:97:ff:86 (global unicast)  \n\nvolume Q: UUID decodes to:  \n\nuuid -d a6760a23-b90c-11e9-91f7-2c56dc97ff86  \nencode: STR: a6760a23-b90c-11e9-91f7-2c56dc97ff86  \nSIV: 221264743983954187593778341248738262918  \ndecode: variant: DCE 1.1, ISO/IEC 11578:1996  \nversion: 1 (time and node based)  \ncontent: time: 2019-08-07 12:12:39.501059.5 UTC  \nclock: 4599 (usually random)  \nnode: 2c:56:dc:97:ff:86 (global unicast)  \n\nIn theory, the 7th of August (at 12:12) is the first time the device has ben connected to the system.  \nThe node: 2c:56:dc:97:ff:86 should be your machine\u0027s MAC address.  \n\nThen, where does the node: 32:52:cb:53:65:9d come from?  \nAnd how can an UUID be generated a couple days before?\n\nWere you playing with this stick and a VM? ![:unsure:](https://reboot.pro/public/style_emoticons/default/unsure.png)  \n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)  \nWonko\n\n"
    },
    {
      "id": "212417",
      "timestamp": "2019-08-08T16:43:58+00:00",
      "author": "wimb",
      "content": "I have never used VM\n\nCannot explain the values, but most data result from 2019-08-07 and indeed in the morning I did the partitioning.\n\nOn partitioning the USB-Stick then Windows 10 decided to register the device as a Fixed drive.\n\nIt is only occurring sometimes and most of the time it just is registered as a Removable device.\n\nIn my opininion it should not occur that Windows 10 registers the USB-Stick as a Fixed drive.\n\nAs a Fixed drive the USB-Stick cannot be used by MediaCreationTool (fails to recognize the as Fixed registered USB-Stick)\n\n"
    },
    {
      "id": "212418",
      "timestamp": "2019-08-08T18:23:30+00:00",
      "author": "Wonko the Sane",
      "content": "Could it be (I am just guessing) partitioning while in UEFI vs. partittioning while in BIOS mode?\n\nOnly to clear your report, was it before a brand new, never partitioned device or you re-partitioned it?\n\nAnd - even if it was already partitioned - did it already have two partitions or not?\n\nWhat could have happened on the 5th of August?\n\nThought esperiment (that you can carry in practice).\n\nBoot with the \"Remov\" Registry.\n\nDisconnect (if connected) the stick.\n\nManually delete from Mounted devices the two entries (twice, once for each partition) for the drive letter and volume UUID.\n\nReboot (just in case).\n\nConnect the stick.\n\nIs it now Removable or Fixed?\n\nRepair after having booted with the \"Fixed\" Registry.\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212419",
      "timestamp": "2019-08-08T19:48:48+00:00",
      "author": "wimb",
      "content": "The USB-Stick has been used already for half a year, mainly with MediaCreationTool that involves also partitioning of the device.\n\nThis was the first time that I manually created two partitions using Disk Management.\n\nIn all cases booting with the 1903 version of Windows 10 x64 OS in UEFI mode.\n\nThere was nothing special on the 5th of August.\n\nI carried out the procedure using the registry of the \"Removable case\" and with manually removal of MountedDevices entries.\n\nAfter reboot and reconnecting the USB-Stick, it is seen again as Removable drive.\n\n"
    },
    {
      "id": "212420",
      "timestamp": "2019-08-09T08:21:37+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I carried out the procedure using the registry of the \"Removable case\" and with manually removal of MountedDevices entries.\n\u003e\n\u003e After reboot and reconnecting the USB-Stick, it is seen again as Removable drive.\n\nAnd what is the contents of the MountedDevices now?\n\nTheory:\n\nEither \\*something\\* happened on the 5 th of August or for sheer coincidence a UUID was generated which decodeds to the 5 th of August\n\nnow, with the MountedDevices keys cleared and re-connection (and re-sensing it as removable) the FAT32 partition (drive letter Q:\\\\ ) on the stick might:\n\n1) have the same value of UUID as before (which should mean that it is \"stored\" somewhere and re-applied to MountedDevices OR:\n\n2) it has a brand new UUID (which should mean that \\*something\\* recreates it on-the-fly).\n\nBoth of these behaviours (I would prefer, if I could choose, #2) might be logged by procmon or similar.\n\nOn the other hand, doing the test with the \"Fixed\" (and cleared MountedDevices) might give two results:\n\n1) the stick is still fixed (which would confirm that \\*somewhere\\* else in the Registry there is something that forces it to \"fixed\" OR that something that would force it to be removable is missing\n\n2) the stick becomes removable, and then there must have been something that forced it once to be fixed, and if it is removable, which UUID is inside the Q:\\\\ key?\n\nOther tests:\n\n1) what happens (on both \"versions\" of the Registry) if you manually change the disk signature?  \n2) what happens (on both \"versions\" of the Registry) if you reformat it to a single partition?\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212421",
      "timestamp": "2019-08-09T08:40:48+00:00",
      "author": "wimb",
      "content": "\u003e In theory, the 7th of August (at 12:12) is the first time the device has ben connected to the system.  \n\u003e The node: 2c:56:dc:97:ff:86 should be your machine\u0027s MAC address.  \n\u003e\n\u003e Then, where does the node: 32:52:cb:53:65:9d come from?  \n\u003e And how can an UUID be generated a couple days before?\n\u003e\n[![MountedDev_CleanSystem-2019-08-09_122401.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-25394700-1565346380_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-25394700-1565346380.png \"MountedDev_CleanSystem-2019-08-09_122401.png - Size: 330.43KB\"){#ipb-attach-url-16800-0-41268100-1676066401} \u003d\u003d [![DosDev_Q_CleanSystem-2019-08-09_122445.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-14575600-1565346409_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-14575600-1565346409.png \"DosDev_Q_CleanSystem-2019-08-09_122445.png - Size: 8.23KB\"){#ipb-attach-url-16801-0-41274700-1676066401}\n\nI connected the same USB-Stick to a **Clean System**. It is registered as a Removable Device.\n\nIn that case all 3 UUID\u0027s correspond to date and time of connecting the USB-Stick.\n\nAnd all 3 nodes correspond to the MAC adres of my machine.\n\n[![Attached File](http://reboot.pro/public/style_extra/mime_types/txt.gif)](http://reboot.pro/index.php?s\u003d38fb3b12f648cf7cd55c03dc623d4345\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16802 \"Download attachment\") [**UUID_MountedDev_CleanSystem.txt**](http://reboot.pro/index.php?s\u003d38fb3b12f648cf7cd55c03dc623d4345\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16802 \"Download attachment\") **1.29KB** 315 downloads\n\nConclusion:\n\nRepartitioning an USB-Stick results sometimes in registering it as Fixed disk. I think this is a bug of Windows 10 .\n\nSo the strange node is not on my machine AFAIK and there is no explanation for the UUID of drive Q: related to a few days before the experiments were done .... ![:unsure:](https://reboot.pro/public/style_emoticons/default/unsure.png)\n\n"
    },
    {
      "id": "212395",
      "timestamp": "2019-08-07T14:49:10+00:00",
      "author": "wimb",
      "content": "mounted as Fixed \u003d\u003d mounted as Removable\n\n[![USB_Stick_Fixed-2019-08-07_161753.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-15474300-1565188844_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-15474300-1565188844.png \"USB_Stick_Fixed-2019-08-07_161753.png - Size: 533.3KB\"){#ipb-attach-url-16783-0-69420700-1676066401} \u003d\u003d [![USB_Stick_Remov-2019-08-07_162947.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-53817900-1565188873_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-53817900-1565188873.png \"USB_Stick_Remov-2019-08-07_162947.png - Size: 546.27KB\"){#ipb-attach-url-16784-0-69435100-1676066401}\n\nIn Windows 10 an USB-Stick with [two partitions as proposed by Guimenez](https://msfn.org/board/topic/149612-winntsetup-v394/?do\u003dfindComment\u0026comment\u003d1168799 \"External link\") can be easily made with Disk Management.\n\nSometimes but not always I get that the USB-Stick After Repartitioning is mounted as Fixed drive.\n\nIt turns out that this is caused by a change in the Registry.\n\nIf I simply return to an[earlier version of the registry](https://www.tweaking.com/content/page/registry_backup.html \"External link\") then the same USB-Stick without any changes is mounted as Removable Device.\n\nWhich change in the registry is causing this behaviour that the USB-Stick is sometimes mounted as Fixed device ?\n\n"
    },
    {
      "id": "212396",
      "timestamp": "2019-08-07T16:23:17+00:00",
      "author": "Wonko the Sane",
      "content": "I don\u0027t get it.\n\nCompare the two registries, since you have them.\n\nYou know, like:\n\n[https://www.nirsoft....anges_view.html](https://www.nirsoft.net/utils/registry_changes_view.html \"External link\")\n\n99.99 % relevant changes will be in SYSTEM or in SOFTWARE (personally I would look in SYSTEM first).\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212397",
      "timestamp": "2019-08-07T16:34:16+00:00",
      "author": "wimb",
      "content": "\u003e Compare the two registries, since you have them.\n\u003e\n\u003e [https://www.nirsoft....anges_view.html](https://www.nirsoft.net/utils/registry_changes_view.html \"External link\")\n\u003e\nSure I will do that.\n\nBut is there a simple way (some Windows 10 setting) to change between Fixed and Removable ?\n\nIn this case it has nothing to do with some extra installed Filter Driver Or with Flipping the Removable bit as used in the past for older Windows versions.\n\nIt is somewhere hidden in the Windows 10 registry only ....\n\n"
    },
    {
      "id": "212398",
      "timestamp": "2019-08-07T17:08:08+00:00",
      "author": "steve6375",
      "content": "So if you run RMPrepUSB, does it list the disk as Fixed for one Registry setting and Removable for a different Registry setting?\n\nI was not aware that this could be changed in the Registry?\n\n"
    },
    {
      "id": "212399",
      "timestamp": "2019-08-07T17:32:05+00:00",
      "author": "wimb",
      "content": "\u003e So if you run RMPrepUSB, does it list the disk as Fixed for one Registry setting and Removable for a different Registry setting?\n\u003e\n\u003e I was not aware that this could be changed in the Registry?\n\nIn RMPrepUSB the USB-Stick is always seen as Removable\n\nseen as Fixed \u003d\u003d seen as Removable\n\n[![Fixed_Steve-2019-08-07_192859.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-51781500-1565199068_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-51781500-1565199068.png \"Fixed_Steve-2019-08-07_192859.png - Size: 560.58KB\"){#ipb-attach-url-16785-0-69444800-1676066401} \u003d\u003d [![Removable_Steve-2019-08-07_192004.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-12813900-1565199100_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-12813900-1565199100.png \"Removable_Steve-2019-08-07_192004.png - Size: 581.75KB\"){#ipb-attach-url-16786-0-69452000-1676066401}\n\n"
    },
    {
      "id": "212400",
      "timestamp": "2019-08-07T17:37:39+00:00",
      "author": "Wonko the Sane",
      "content": "Only as a side note.\n\nI thought that Windows 10 (rightly or wrongly, that is up to debate) had changed the main \"feature\" (please note the double quotes), that *was* in earlier versions of windows:\n\n1) removable -\\\u003e only one partition visible/accessible/mounted to a drive letter\n\nor\n\n2) fixed -\\\u003e ALL partitions visible/accessible/mounted to a drive letter\n\nEssentially that was the reason to use (or not use) the dummydisk or reversed dummy disk drivers.\n\nAFAICR/AFAIK Windows 10 mounts all partitions anyway, so - besides your interesting observation - what is the actual problem?\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212401",
      "timestamp": "2019-08-07T17:42:59+00:00",
      "author": "steve6375",
      "content": "I am confused too? What is the difference between the two Disk manager screenshots? They look the same.\n\nWhat do you mean by \u0027seen as Fixed\u0027 and \u0027seen as Removable\u0027?\n\nAre you referring to the Quick Removal policy for USB drives and whether filesystem is cached or not?\n\n"
    },
    {
      "id": "212402",
      "timestamp": "2019-08-07T18:40:01+00:00",
      "author": "wimb",
      "content": "The problem is that when the USB-Stick is seen as Fixed drive , then it is not accepted anymore by [MediaCreationTool](https://www.microsoft.com/en-us/software-download/windows10 \"External link\") used to make USB-Stick for Install of Windows 10.\n\nIn the screenshots you see the difference just below **Schijf 5** - *Standaard* is a Basic Fixed drive and *Verwisselbaar* is Removable drive in your language.\n\nRight click on **Schijf 5** and you get the different Properties of the drive, just given as an illustration (not as a problem :wink: )\n\nI don\u0027t know for the USB-Stick as seen in Windows 10 as Basic Fixed drive, **How to change** it into Removable drive\n\nSo once the registry has decided to make it a Fixed drive, then it becomes useless for MediaCreationTool, that I normally use to **format** such USB-Stick ....\n\nThe only way for me to make the USB-Stick seen as Removable again is to use [RegistryBackup](https://www.tweaking.com/content/page/registry_backup.html \"External link\") and change to earlier registry settings.\n\nLuckily I have such registry backup available, otherwise it would mean a reinstall of Windows 10 .... which is quite easy in case of [VHD WIMBOOT](http://reboot.pro/topic/21977-vhd-wimboot-apply-and-capture-of-wim-files-for-os-in-vhd/ \"\") :smile:\n\nCannot Find USB-Flashstation\n\n[![Fixed_MediaCrea-2019-08-07_211655.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-19435000-1565205485_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-19435000-1565205485.png \"Fixed_MediaCrea-2019-08-07_211655.png - Size: 498.47KB\"){#ipb-attach-url-16787-0-69458200-1676066401}\n\n"
    },
    {
      "id": "212403",
      "timestamp": "2019-08-08T07:46:25+00:00",
      "author": "wimb",
      "content": "It is in the **system** registry file.\n\nRestore of only the**system**registry can make that the Fixed USB-Stick is seen as Removable again.\n\n**How to USB-Stick in Windows 10 seen as Fixed change into seen as Removable ?** ![:frusty:](https://reboot.pro/public/style_emoticons/default/frusty.gif)\n\n"
    },
    {
      "id": "212405",
      "timestamp": "2019-08-08T08:52:56+00:00",
      "author": "steve6375",
      "content": "Microsoft\u0027s Media Creation Tool allows us to make a bootable Windows USB DVD or \u0027Flash drive\u0027 - according their documentation.\n\nI have a Corsair GTX Flash drive which appears as a Fixed Disk and a Corsair Voyager which appears as a Removable drive.\n\nBoth drives have two primary partitions and both drives are seen by the Media Creation Tool.\n\nYou will need to do some work to compare the two Registry snapshots and try to find out what the causative entries are,\n\n"
    },
    {
      "id": "212406",
      "timestamp": "2019-08-08T09:17:08+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e It is in the **system** registry file.\n\n\u003e You will need to do some work to compare the two Registry snapshots and try to find out what the causative entries are,\n\nAnd we are back to post #2.\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212407",
      "timestamp": "2019-08-08T09:26:01+00:00",
      "author": "wimb",
      "content": "\u003e You will need to do some work to compare the two Registry snapshots and try to find out what the causative entries are,\n\nThere are so many changes in the system registry, so that it is difficult to say what the causative entries are ....\n\n"
    },
    {
      "id": "212408",
      "timestamp": "2019-08-08T10:04:25+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e There are so many changes in the system registry, so that it is difficult to say what the causative entries are ....\n\nThere can\u0027t be that many (that make actually sense).\n\nYou want to compare only ControiSet001 vs. Controlset001\n\nAnd within ControlSet001, try filtering only entries that contain USB.\n\nBefore that, check MountedDevices.\n\nOn older NT, a volume on a disk that was fixed was Disk Signature + offset to the volume, whilst Removable media would begin with:\n\n```\n5C 00 3F 00 3F 00 5C 00 53 00 54 00 4F 00 52 00 \n41 00 47 00 45 00 23 00 52 00 65 00 6D 00 6F 00 \n76 00 61 00 62 00 6C 00 65 00 4D 00 65 00 64 00 \n69 00 61 00 \n```\n\ni.e. \\\\??\\\\STORAGE#RemovableMedia\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212409",
      "timestamp": "2019-08-08T10:12:22+00:00",
      "author": "wimb",
      "content": "[![NonRemovable-2019-08-08_120115.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-63095100-1565258536_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-63095100-1565258536.png \"NonRemovable-2019-08-08_120115.png - Size: 523.94KB\"){#ipb-attach-url-16788-0-69464500-1676066401}\n\nI found something\n\nThere is a **NonRemovable** value equal 1 in Control\\\\Class key of the device which normally is not there\n\nComputer\\\\HKEY_LOCAL_MACHINE\\\\SYSTEM\\\\ControlSet001\\\\Control\\\\Class\\\\{36fc9e60-c465-11cf-8056-444553540000}\\\\0009\n\nThis brings back the Save Removal in the taskbar and the Device Properties have now the Policiy for Removal again.\n\nHowever it is only part of the problem, since the Device is seen in Disk Management as *Standaard*(being a Basic Fixed disk)\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "212410",
      "timestamp": "2019-08-08T10:31:59+00:00",
      "author": "wimb",
      "content": "MountedDevices have for drive P: and Q: the DiskSignature and don\u0027t have the code common for Removable\n\n[![MountedDev-2019-08-08_122926.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-22250300-1565260337_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-22250300-1565260337.png \"MountedDev-2019-08-08_122926.png - Size: 512.9KB\"){#ipb-attach-url-16789-0-69470600-1676066401}\n\n"
    },
    {
      "id": "212411",
      "timestamp": "2019-08-08T10:37:03+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e There is a **NonRemovable** value equal 1 in Control\\\\Class key of the device which normally is not there\n\u003e\n\u003e Computer\\\\HKEY_LOCAL_MACHINE\\\\SYSTEM\\\\ControlSet001\\\\Control\\\\Class\\\\{36fc9e60-c465-11cf-8056-444553540000}\\\\0009\n\u003e\n\u003e This brings back the Save Removal in the taskbar and the Device Properties have now the Policiy for Removal again.\n\u003e\n\u003e However it is only part of the problem, since the Device is seen in Disk Management as *Standaard*(being a Basic Fixed disk)\n\nYep, that trick dates back to XP to remove the device from the Safely Remove Hardware \"pop-up\" (to avoid litttering the list with external hard disks that are \"permanently\" connected to the PC and disconnect them by mistake), see (Spanish, you may want to use Google Translate):\n\n[http://www.miguelms.com/usbnorem.htm](http://www.miguelms.com/usbnorem.htm \"External link\")\n\n\u003e MountedDevices have for drive P: and Q: the DiskSignature and don\u0027t have the code common for Removable\n\nWhich is good, but I have no idea if Windows 10 actually behaves like previous versions (since it actually mounts all partitions on \"Removeble Devices\" anyway).\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212412",
      "timestamp": "2019-08-08T10:51:24+00:00",
      "author": "wimb",
      "content": "Thanks for the interesting info on Safely Remove Hardware :smile:\n\nI went back to the the system registry case where the device is seen as Removable (\u003d *Verwisselbaar* in Dutch)\n\nIndeed the MountedDevices key now corresponds to Removable device\n\n[![MountedDev_Remov-2019-08-08_124718.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-33774500-1565261392_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-33774500-1565261392.png \"MountedDev_Remov-2019-08-08_124718.png - Size: 503.63KB\"){#ipb-attach-url-16790-0-69476400-1676066401}\n\n"
    },
    {
      "id": "212413",
      "timestamp": "2019-08-08T12:40:30+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I went back to the the system registry case where the device is seen as Removable (\u003d *Verwisselbaar* in Dutch)\n\u003e\n\u003e Indeed the MountedDevices key now corresponds to Removable device\n\nDoes it/they? ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)\n\n**If** I read correctly the screenshot you posted:\n\n1) BOTH drives P: and Q: belong to the USB stick\n\n2) drive P: entry begins with 5F 00\n\n3) drive Q: entry begins with 7b 00 ![:w00t:](https://reboot.pro/public/style_emoticons/default/w00t.gif)\n\nIf you weren\u0027t such an old and respectable member of the board ![:worship:](https://reboot.pro/public/style_emoticons/default/worship.gif) , besides an old friend :smile:, and had I not been in an exceptionally good mood today ![:ermm:](https://reboot.pro/public/style_emoticons/default/ermm.gif) , I would have probably told you:\n\n1) we DO NOT §@ç#ing care about your desktop ![:ranting2:](https://reboot.pro/public/style_emoticons/default/ranting2.gif)\n\n2) you should post **readable** screenshots (ONLY of the relevant information window(s)) ![:lightbulb:](https://reboot.pro/public/style_emoticons/default/lightbulb.gif)\n\n3) even better save the key to a .reg file and post that INSTEAD ![:realmad:](https://reboot.pro/public/style_emoticons/default/realmad.gif)\n\nMy grumpiness must be softening up with age .... :wink:\n\nSeriously, do export the mounted devices key (both the \"fixed\" and the \"removable\" one) besides possibly understanding what are the actual values (which are seemingly not \"removable media\" and certainly not disk signature) maybe I could be able to put a date to the UUID (or do it yourself):\n\n[http://reboot.pro/to...mounteddevices/](http://reboot.pro/topic/21931-how-does-window-get-guid-of-disk-in-mounteddevices/ \"\")\n\nso at least one would have a timeline on when it happened first time.\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\nP.S. Another form for \"removable media\" could be something beginning with:\n\n```\n5F 00 3F 00 3F 00 5F 00 55 00 53 00 42 00 53 00 \n54 00 4F 00 52 00 23 00 44 00 69 00 73 00 6B 00 \n26 00 56 00 65 00 6E 00 5F \n```\n\ni.e. _??_USBSTOR#Disk\\\u0026Ven_\n\n"
    },
    {
      "id": "212414",
      "timestamp": "2019-08-08T13:22:52+00:00",
      "author": "wimb",
      "content": "Here are some better screenshots for the case that USB-Stick is seen as **Removable**\n\nMountedDevices for Drive Q is beginning with a guid\n\n[![MountedDev_Remov-2019-08-08_151557.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-87465700-1565270378_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-87465700-1565270378.png \"MountedDev_Remov-2019-08-08_151557.png - Size: 495.86KB\"){#ipb-attach-url-16791-0-69482400-1676066401} \u003d\u003d [![DosDevP-2019-08-08_152502.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-66132700-1565270763_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-66132700-1565270763.png \"DosDevP-2019-08-08_152502.png - Size: 8.71KB\"){#ipb-attach-url-16793-0-69493800-1676066401} \u003d\u003d [![DosDevQ-2019-08-08_151702.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-50309300-1565270388_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-50309300-1565270388.png \"DosDevQ-2019-08-08_151702.png - Size: 7.89KB\"){#ipb-attach-url-16792-0-69488100-1676066401}\n\nI am sorry that the previous screenshots were not readable enough.\n\n[![Attached File](http://reboot.pro/public/style_extra/mime_types/txt.gif)](http://reboot.pro/index.php?s\u003d64f2b4a5ac4c7ade4df203e75b612f5f\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16794 \"Download attachment\") [**MountedDevices_Remov.txt**](http://reboot.pro/index.php?s\u003d64f2b4a5ac4c7ade4df203e75b612f5f\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16794 \"Download attachment\") **13.69KB** 324 downloads\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n\nAnd when the USB-Stick is seen as **Fixed Drive** we have:\n\n[![MountedDev_Fixed-2019-08-08_153939.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-26297900-1565271803_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-26297900-1565271803.png \"MountedDev_Fixed-2019-08-08_153939.png - Size: 325.46KB\"){#ipb-attach-url-16795-0-69508600-1676066401}\n\n[![Attached File](http://reboot.pro/public/style_extra/mime_types/txt.gif)](http://reboot.pro/index.php?s\u003d64f2b4a5ac4c7ade4df203e75b612f5f\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16796 \"Download attachment\") [**MountedDevices_Fixed.txt**](http://reboot.pro/index.php?s\u003d64f2b4a5ac4c7ade4df203e75b612f5f\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16796 \"Download attachment\") **9.29KB** 365 downloads\n\n[Download uuid.exe program](http://soft.rubypdf.com/software/guidgen-ossp-uuid \"External link\")\n\n"
    },
    {
      "id": "212416",
      "timestamp": "2019-08-08T16:11:48+00:00",
      "author": "Wonko the Sane",
      "content": "Hmmm. ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)  \n\nThe \"Fixed\" file is perfectly \"normal\".  \nThe \"Remov\" one is \"queer\".  \n\nThe Q: value is actually a UUID: {944d75b4-b74c-11e9-91f0-3252cb53659d} followed by #00000006D6100000  \n\nIt is actually a seemingly valid (generated) UUID:  \nuuid -d 944d75b4-b74c-11e9-91f0-3252cb53659d  \nencode: STR: 944d75b4-b74c-11e9-91f0-3252cb53659d  \nSIV: 197127937593995330478615059618449286557  \ndecode: variant: DCE 1.1, ISO/IEC 11578:1996  \nversion: 1 (time and node based)  \ncontent: time: 2019-08-05 06:45:14.501266.0 UTC  \nclock: 4592 (usually random)  \nnode: 32:52:cb:53:65:9d (local unicast)  \n\n\u003cbr /\u003e\n\nThe P: value is a more normal: _??_USBSTOR#Disk\\\u0026Ven_Kingston\\\u0026Prod_DataTraveler_3.0\\\u0026Rev_#60A44C425294F27039868C15\\\u00260#{53f56307-b6bf-11d0-94f2-00a0c91efb8b}  \n\n(the {53f56307-b6bf-11d0-94f2-00a0c91efb8b} is \"normal\" [https://docs.microso...vinterface-disk](https://docs.microsoft.com/en-us/windows-hardware/drivers/install/guid-devinterface-disk \"External link\") )  \n\nVolume P: UUID decodes to:  \nuuid -d a6760a2a-b90c-11e9-91f7-2c56dc97ff86  \nencode: STR: a6760a2a-b90c-11e9-91f7-2c56dc97ff86  \nSIV: 221264744538551325193628704403545915270  \ndecode: variant: DCE 1.1, ISO/IEC 11578:1996  \nversion: 1 (time and node based)  \ncontent: time: 2019-08-07 12:12:39.501060.2 UTC  \nclock: 4599 (usually random)  \nnode: 2c:56:dc:97:ff:86 (global unicast)  \n\nvolume Q: UUID decodes to:  \n\nuuid -d a6760a23-b90c-11e9-91f7-2c56dc97ff86  \nencode: STR: a6760a23-b90c-11e9-91f7-2c56dc97ff86  \nSIV: 221264743983954187593778341248738262918  \ndecode: variant: DCE 1.1, ISO/IEC 11578:1996  \nversion: 1 (time and node based)  \ncontent: time: 2019-08-07 12:12:39.501059.5 UTC  \nclock: 4599 (usually random)  \nnode: 2c:56:dc:97:ff:86 (global unicast)  \n\nIn theory, the 7th of August (at 12:12) is the first time the device has ben connected to the system.  \nThe node: 2c:56:dc:97:ff:86 should be your machine\u0027s MAC address.  \n\nThen, where does the node: 32:52:cb:53:65:9d come from?  \nAnd how can an UUID be generated a couple days before?\n\nWere you playing with this stick and a VM? ![:unsure:](https://reboot.pro/public/style_emoticons/default/unsure.png)  \n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)  \nWonko\n\n"
    },
    {
      "id": "212417",
      "timestamp": "2019-08-08T16:43:58+00:00",
      "author": "wimb",
      "content": "I have never used VM\n\nCannot explain the values, but most data result from 2019-08-07 and indeed in the morning I did the partitioning.\n\nOn partitioning the USB-Stick then Windows 10 decided to register the device as a Fixed drive.\n\nIt is only occurring sometimes and most of the time it just is registered as a Removable device.\n\nIn my opininion it should not occur that Windows 10 registers the USB-Stick as a Fixed drive.\n\nAs a Fixed drive the USB-Stick cannot be used by MediaCreationTool (fails to recognize the as Fixed registered USB-Stick)\n\n"
    },
    {
      "id": "212418",
      "timestamp": "2019-08-08T18:23:30+00:00",
      "author": "Wonko the Sane",
      "content": "Could it be (I am just guessing) partitioning while in UEFI vs. partittioning while in BIOS mode?\n\nOnly to clear your report, was it before a brand new, never partitioned device or you re-partitioned it?\n\nAnd - even if it was already partitioned - did it already have two partitions or not?\n\nWhat could have happened on the 5th of August?\n\nThought esperiment (that you can carry in practice).\n\nBoot with the \"Remov\" Registry.\n\nDisconnect (if connected) the stick.\n\nManually delete from Mounted devices the two entries (twice, once for each partition) for the drive letter and volume UUID.\n\nReboot (just in case).\n\nConnect the stick.\n\nIs it now Removable or Fixed?\n\nRepair after having booted with the \"Fixed\" Registry.\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212419",
      "timestamp": "2019-08-08T19:48:48+00:00",
      "author": "wimb",
      "content": "The USB-Stick has been used already for half a year, mainly with MediaCreationTool that involves also partitioning of the device.\n\nThis was the first time that I manually created two partitions using Disk Management.\n\nIn all cases booting with the 1903 version of Windows 10 x64 OS in UEFI mode.\n\nThere was nothing special on the 5th of August.\n\nI carried out the procedure using the registry of the \"Removable case\" and with manually removal of MountedDevices entries.\n\nAfter reboot and reconnecting the USB-Stick, it is seen again as Removable drive.\n\n"
    },
    {
      "id": "212420",
      "timestamp": "2019-08-09T08:21:37+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I carried out the procedure using the registry of the \"Removable case\" and with manually removal of MountedDevices entries.\n\u003e\n\u003e After reboot and reconnecting the USB-Stick, it is seen again as Removable drive.\n\nAnd what is the contents of the MountedDevices now?\n\nTheory:\n\nEither \\*something\\* happened on the 5 th of August or for sheer coincidence a UUID was generated which decodeds to the 5 th of August\n\nnow, with the MountedDevices keys cleared and re-connection (and re-sensing it as removable) the FAT32 partition (drive letter Q:\\\\ ) on the stick might:\n\n1) have the same value of UUID as before (which should mean that it is \"stored\" somewhere and re-applied to MountedDevices OR:\n\n2) it has a brand new UUID (which should mean that \\*something\\* recreates it on-the-fly).\n\nBoth of these behaviours (I would prefer, if I could choose, #2) might be logged by procmon or similar.\n\nOn the other hand, doing the test with the \"Fixed\" (and cleared MountedDevices) might give two results:\n\n1) the stick is still fixed (which would confirm that \\*somewhere\\* else in the Registry there is something that forces it to \"fixed\" OR that something that would force it to be removable is missing\n\n2) the stick becomes removable, and then there must have been something that forced it once to be fixed, and if it is removable, which UUID is inside the Q:\\\\ key?\n\nOther tests:\n\n1) what happens (on both \"versions\" of the Registry) if you manually change the disk signature?  \n2) what happens (on both \"versions\" of the Registry) if you reformat it to a single partition?\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212421",
      "timestamp": "2019-08-09T08:40:48+00:00",
      "author": "wimb",
      "content": "\u003e In theory, the 7th of August (at 12:12) is the first time the device has ben connected to the system.  \n\u003e The node: 2c:56:dc:97:ff:86 should be your machine\u0027s MAC address.  \n\u003e\n\u003e Then, where does the node: 32:52:cb:53:65:9d come from?  \n\u003e And how can an UUID be generated a couple days before?\n\u003e\n[![MountedDev_CleanSystem-2019-08-09_122401.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-25394700-1565346380_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-25394700-1565346380.png \"MountedDev_CleanSystem-2019-08-09_122401.png - Size: 330.43KB\"){#ipb-attach-url-16800-0-69522000-1676066401} \u003d\u003d [![DosDev_Q_CleanSystem-2019-08-09_122445.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-14575600-1565346409_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-14575600-1565346409.png \"DosDev_Q_CleanSystem-2019-08-09_122445.png - Size: 8.23KB\"){#ipb-attach-url-16801-0-69527500-1676066401}\n\nI connected the same USB-Stick to a **Clean System**. It is registered as a Removable Device.\n\nIn that case all 3 UUID\u0027s correspond to date and time of connecting the USB-Stick.\n\nAnd all 3 nodes correspond to the MAC adres of my machine.\n\n[![Attached File](http://reboot.pro/public/style_extra/mime_types/txt.gif)](http://reboot.pro/index.php?s\u003d64f2b4a5ac4c7ade4df203e75b612f5f\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16802 \"Download attachment\") [**UUID_MountedDev_CleanSystem.txt**](http://reboot.pro/index.php?s\u003d64f2b4a5ac4c7ade4df203e75b612f5f\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16802 \"Download attachment\") **1.29KB** 315 downloads\n\nConclusion:\n\nRepartitioning an USB-Stick results sometimes in registering it as Fixed disk. I think this is a bug of Windows 10 .\n\nSo the strange node is not on my machine AFAIK and there is no explanation for the UUID of drive Q: related to a few days before the experiments were done .... ![:unsure:](https://reboot.pro/public/style_emoticons/default/unsure.png)\n\n"
    },
    {
      "id": "212422",
      "timestamp": "2019-08-09T09:23:03+00:00",
      "author": "wimb",
      "content": "\u003e And what is the contents of the MountedDevices now?\n\u003e\n[![MountedDev-New-2019-08-09_110927.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-78185500-1565342234_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-78185500-1565342234.png \"MountedDev-New-2019-08-09_110927.png - Size: 362.95KB\"){#ipb-attach-url-16797-0-92212600-1676066401} \u003d\u003d [![MountedDev-New-Q-2019-08-09_111034.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-71288700-1565342243_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-71288700-1565342243.png \"MountedDev-New-Q-2019-08-09_111034.png - Size: 7.89KB\"){#ipb-attach-url-16798-0-92225300-1676066401}\n\n[![Attached File](http://reboot.pro/public/style_extra/mime_types/txt.gif)](http://reboot.pro/index.php?s\u003d06a76f46969f3de9ed946d0f7b958a82\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16799 \"Download attachment\") [**UUID_MountedDev_New.txt**](http://reboot.pro/index.php?s\u003d06a76f46969f3de9ed946d0f7b958a82\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16799 \"Download attachment\") **1.29KB** 210 downloads\n\nI returned from the clean system to the previous system where the experiments were done.\n\nThanks to VHD WIMBOOT I can easily create a Clean System and switch between systems. :smile:\n\nTo answer your question:\n\nThe volume guids are created new, but the guid used to identify drive Q: is still the same with the strange node ....\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n\n**New Experiment on Clean System**\n\nThere is something else that I noticed on **Clean System**:\n\nOn repartitioning other USB-Stick marked U2, when you have removed all partitions,\n\nthen in Disk Management the Drive letter is strangely parked at the box where the Drive number (in my case **Schijf 5**) is presented.\n\nSo in some way the drive letter is preserved. Second partition gets this letter P: and has the Removable ID. First partition gets free letter Q:\n\nThis time the Stick remains registered as Removable\n\n[![DevMan_Letter-2019-08-09_134905.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-88740400-1565351415_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-88740400-1565351415.png \"DevMan_Letter-2019-08-09_134905.png - Size: 47.36KB\"){#ipb-attach-url-16803-0-92246300-1676066401} \u003d\u003d [![DevMan_Letter-2019-08-09_135447.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-61115600-1565351830_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-61115600-1565351830.png \"DevMan_Letter-2019-08-09_135447.png - Size: 49.86KB\"){#ipb-attach-url-16804-0-92254500-1676066401}\n\n[![MountedDev_U2_2019-08-09_135938.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-50214500-1565352727_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-50214500-1565352727.png \"MountedDev_U2_2019-08-09_135938.png - Size: 390.13KB\"){#ipb-attach-url-16805-0-92262600-1676066401} \u003d\u003d [![DosDev_Q_U2-2019-08-09_140042.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-08737900-1565352749_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-08737900-1565352749.png \"DosDev_Q_U2-2019-08-09_140042.png - Size: 7.84KB\"){#ipb-attach-url-16806-0-92270800-1676066401}\n\n[![Attached File](http://reboot.pro/public/style_extra/mime_types/txt.gif)](http://reboot.pro/index.php?s\u003d06a76f46969f3de9ed946d0f7b958a82\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16807 \"Download attachment\") [**UUID_MountedDev_U2.txt**](http://reboot.pro/index.php?s\u003d06a76f46969f3de9ed946d0f7b958a82\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16807 \"Download attachment\") **1.29KB** 228 downloads\n\nAll the UUID\u0027s have now the strange node: 32:52:cb:53:65:9d\n\nThis is almost my WLAN node\n\n"
    },
    {
      "id": "212423",
      "timestamp": "2019-08-09T12:27:31+00:00",
      "author": "Olof Lagerkvist",
      "content": "Semi-unrelated sidenote:\n\nI have seen a few other differences between how Windows handles removable vs fixed, even though all partitions are recognized in latest versions. For example shadow copies seems to be accessible only if the device is detected as fixed. From what I recall now from some experiments with that, the volsnap driver did not even attach to the device stack at all for removable devices.\n\n"
    },
    {
      "id": "212424",
      "timestamp": "2019-08-09T13:54:15+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e To answer your question:\n\u003e\n\u003e The volume guids are created new, but the guid used to identify drive Q: is still the same with the strange node ....\n\nWell this should mean that that UUID is stored somewhere else besides in \"MountedDevices\" (likely some other key in the Registry).\n\nFinding in which key in the Registry it is would probably bring some more insight.\n\nI am thinking of something \\*like\\* (good ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)) ol\u0027 MountPoints2 key:\n\nHKEY_USERS\\\\.DEFAULT\\\\Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Explorer\\\\MountPoints2\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212425",
      "timestamp": "2019-08-09T14:44:54+00:00",
      "author": "wimb",
      "content": "Thanks **Olof** for Interesting Info :smile:\n\n\u003e Well this should mean that that UUID is stored somewhere else besides in \"MountedDevices\" (likely some other key in the Registry).\n\u003e\n\u003e Finding in which key in the Registry it is would probably bring some more insight.\n\u003e\n\u003e I am thinking of something \\*like\\* (good ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)) ol\u0027 MountPoints2 key:\n\u003e\n\u003e HKEY_USERS\\\\.DEFAULT\\\\Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Explorer\\\\MountPoints2\n\u003e\nSuch key is not in the registry.\n\nA search for 944d75b4-b74c-11e9-91f0-3252cb53659d gives a lot of hits, but the most interesting are\n\n```\nComputer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows Portable Devices\\Devices\\SWD#WPDBUSENUM#{944D75B4-B74C-11E9-91F0-3252CB53659D}#00000006D6100000\n\nComputer\\HKEY_LOCAL_MACHINE\\SYSTEM\\ControlSet001\\Control\\DeviceContainers\\{d12328cc-72fc-5a54-ae9b-69940e57e520}\\BaseContainers\\{d12328cc-72fc-5a54-ae9b-69940e57e520}\nSTORAGE\\Volume\\{944d75b4-b74c-11e9-91f0-3252cb53659d}#00000006D6100000\nSWD\\WPDBUSENUM\\{944d75b4-b74c-11e9-91f0-3252cb53659d}#00000006D6100000\n\nComputer\\HKEY_LOCAL_MACHINE\\SYSTEM\\ControlSet001\\Enum\\USBSTOR\\Disk\u0026Ven_Kingston\u0026Prod_DataTraveler_3.0\u0026Rev_\\60A44C425294F27039868C15\u00260\\Device Parameters\\Partmgr\nDiskID value {944d75b4-b74c-11e9-91f0-3252cb53659d}\n```\n\n\u003cbr /\u003e\n\n"
    },
    {
      "id": "212427",
      "timestamp": "2019-08-09T17:34:15+00:00",
      "author": "Wonko the Sane",
      "content": "Very interesting. :smile:\n\nAnd I presume that the same keys are not in the \"fixed\" Registry, right?\n\nProbably it is something connected to this:\n\n[https://docs.microso...vice-capability](https://docs.microsoft.com/en-us/windows-hardware/drivers/install/container-ids-generated-from-the-removable-device-capability \"External link\")\n\n[https://docs.microso...vice-capability](https://docs.microsoft.com/en-us/windows-hardware/drivers/install/how-container-ids-are-generated-from-the-removable-device-capability \"External link\")\n\n[https://docs.microso...bility-override](https://docs.microsoft.com/en-us/windows-hardware/drivers/install/container-ids-generated-from-a-removable-device-capability-override \"External link\")\n\nBut as always whatever the good MS guys decide to document is either vague or not clear and missing meaningful examples/references. ![:(](https://reboot.pro/public/style_emoticons/default/sad.png)\n\nThere is a related (indirect confirmation) that starting from Windows 7 the OS has an occasional difficulty to determine if a device is fixed or removable, but couldn\u0027t find anything actually explaining when/what/why it happens:\n\n[https://hatsoffsecur...he-volume-name/](https://hatsoffsecurity.com/2014/06/07/usb-forensics-pt-3-discover-the-volume-name/ \"External link\")\n\nIn the meantime (not much progress) I realized, that though using different notation, both:\n\n\"\\\\\\\\DosDevices\\\\\\\\Q:\"\u003dhex:11,e3,11,e3,**00,00,10,d6,06,00,00,00** (from the \"fixed Registry\")\n\nand the \"The Q: value is actually a UUID: {944d75b4-b74c-11e9-91f0-3252cb53659d} followed by **#00000006D6100000**\" (from the Remov Registry):\n\n\"\\\\\\\\DosDevices\\\\\\\\Q:\"\u003dhex:7b,00,39,00,34,00,34,00,64,00,37,00,35,00,62,00,34,00,\\\\  \n2d,00,62,00,37,00,34,00,63,00,2d,00,31,00,31,00,65,00,39,00,2d,00,39,00,31,\\\\  \n00,66,00,30,00,2d,00,33,00,32,00,35,00,32,00,63,00,62,00,35,00,33,00,36,00,\\\\  \n35,00,39,00,64,00,7d,00,23,00,**30,00,30,00,30,00,30,00,30,00,30,00,30,00,36,\\\\\n00,44,00,36,00,31,00,30,00,30,00,30,00,30,00,30,00**\n\nAre actually both 0x06D6100000, i.e. 29,361,176,576 i.e. the offset in bytes to the beginning of the partition.\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212430",
      "timestamp": "2019-08-10T06:23:40+00:00",
      "author": "wimb",
      "content": "Thanks for interesting Info.\n\n\u003e And I presume that the same keys are not in the \"fixed\" Registry, right?\n\u003e\nIt is more complicated.\n\nWhen the USB-Stick is seen as **Fixed drive**, then the registry contains also that key\n\nA search for 944d75b4-b74c-11e9-91f0-3252cb53659d in the **Fixed case registry** gives a lot of hits, but the most interesting are\n\n```\nComputer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows Portable Devices\\Devices\\SWD#WPDBUSENUM#{944D75B4-B74C-11E9-91F0-3252CB53659D}#0000000000100000\n\nComputer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows Portable Devices\\Devices\\SWD#WPDBUSENUM#{944D75B4-B74C-11E9-91F0-3252CB53659D}#00000006D6100000\n\nComputer\\HKEY_LOCAL_MACHINE\\SYSTEM\\ControlSet001\\Control\\DeviceContainers\\{00000000-0000-0000-FFFF-FFFFFFFFFFFF}\\BaseContainers\\{00000000-0000-0000-FFFF-FFFFFFFFFFFF}\nSTORAGE\\Volume\\{944d75b4-b74c-11e9-91f0-3252cb53659d}#0000000000100000\nSTORAGE\\Volume\\{944d75b4-b74c-11e9-91f0-3252cb53659d}#00000006D6100000\n\nComputer\\HKEY_LOCAL_MACHINE\\SYSTEM\\ControlSet001\\Enum\\USBSTOR\\Disk\u0026Ven_Kingston\u0026Prod_DataTraveler_3.0\u0026Rev_\\60A44C425294F27039868C15\u00260\\Device Parameters\\Partmgr\nDiskId  value  {944d75b4-b74c-11e9-91f0-3252cb53659d}\n\n```\n\nMountedDevices has Volume with that UUID inside ![:hyper:](https://reboot.pro/public/style_emoticons/default/hyper.gif)\n\n[![MountedDev_Fixed-2019-08-10_075354.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-88940800-1565418150_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-88940800-1565418150.png \"MountedDev_Fixed-2019-08-10_075354.png - Size: 35.41KB\"){#ipb-attach-url-16809-0-92294800-1676066401} \u003d\u003d [![MountedDev_Fixed_Vol_2019-08-10_075222.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-78970700-1565418184_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-78970700-1565418184.png \"MountedDev_Fixed_Vol_2019-08-10_075222.png - Size: 8.88KB\"){#ipb-attach-url-16810-0-92304900-1676066401}\n\n[![Attached File](http://reboot.pro/public/style_extra/mime_types/txt.gif)](http://reboot.pro/index.php?s\u003d06a76f46969f3de9ed946d0f7b958a82\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16808 \"Download attachment\") [**UUID_MountedDev_Fixed.txt**](http://reboot.pro/index.php?s\u003d06a76f46969f3de9ed946d0f7b958a82\u0026app\u003dcore\u0026module\u003dattach\u0026section\u003dattach\u0026attach_id\u003d16808 \"Download attachment\") **1.71KB** 213 downloads\n\nWhen I remove manually the MountedDevices Volume entries and the entries for P: and Q:\n\nThen after reboot and Reconnect the USB-Stick only the P: and Q: entries reappear and the USB-Stick is still seen as Fixed Drive\n\n[![MountedDev_Fixed_Reset-2019-08-10_090026.png](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-42102000-1565420735_thumb.png)](http://reboot.pro/uploads/monthly_08_2019/post-9517-0-42102000-1565420735.png \"MountedDev_Fixed_Reset-2019-08-10_090026.png - Size: 26.96KB\"){#ipb-attach-url-16811-0-92311600-1676066401}\n\n"
    },
    {
      "id": "212431",
      "timestamp": "2019-08-10T08:51:14+00:00",
      "author": "Wonko the Sane",
      "content": "Which should mean that it is \"independent\" from the \"Container\" stuff, but in the \"fixed\" you have BOTH:\n\nSTORAGE\\\\Volume\\\\{944d75b4-b74c-11e9-91f0-3252cb53659d}#0000000000100000 \\\u003c- this is first patrtition aka P: offset 0x0100000  \nSTORAGE\\\\Volume\\\\{944d75b4-b74c-11e9-91f0-3252cb53659d}#00000006D6100000 \\\u003c- this is second partition aka Q: offset 0x06D6100000\n\nBUT NOT:  \nSWD\\\\WPDBUSENUM\\\\{944d75b4-b74c-11e9-91f0-3252cb53659d}#00000006D6100000\n\nIt is \\*like\\* the removable only \"sensed\" the Q: volume (and made \\*some\\* changes that make the P: volume use the \"normal\" _??_USBSTOR#Disk\\\u0026Ven_ ) whilst the fixed \"sensed\" both volumes and set them in such a way that they revert to fixed and Disk Signature+offset (BUT still one of the two volumes has the \"new\" UUID+offset reference).\n\nOr the opposite of the above. ![:w00t:](https://reboot.pro/public/style_emoticons/default/w00t.gif)\n\nIt could be some sort of timing problem, but still no idea on how the mechanism actually works (or completely fail to). ![:(](https://reboot.pro/public/style_emoticons/default/sad.png)\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212432",
      "timestamp": "2019-08-10T09:07:53+00:00",
      "author": "wimb",
      "content": "Indeed still difficult to understand why the registry mounts the USB-Stick as a Fixed drive\n\nBut it is indeed remarkable that in the registry for the Fixed case there is not the entry\n\nSWD\\\\WPDBUSENUM\\\\{944d75b4-b74c-11e9-91f0-3252cb53659d}#00000006D6100000\n\n"
    },
    {
      "id": "212433",
      "timestamp": "2019-08-10T09:25:39+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I am thinking of something \\*like\\* (good ![:dubbio:](https://reboot.pro/public/style_emoticons/default/dubbio.gif)) ol\u0027 MountPoints2 key:\n\u003e\n\u003e HKEY_USERS\\\\.DEFAULT\\\\Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Explorer\\\\MountPoints2\n\u003e\n\u003e Such key is not in the registry.\n\u003e\nOh yes, it is:\n\n[https://pdfs.semanti...3269a5329c2.pdf](https://pdfs.semanticscholar.org/d526/49ba9d281d733c59790e5e57c3269a5329c2.pdf \"External link\")\n\n![:duff:](https://reboot.pro/public/style_emoticons/default/duff.gif)\n\nWonko\n\n"
    },
    {
      "id": "212434",
      "timestamp": "2019-08-10T09:57:32+00:00",
      "author": "wimb",
      "content": "MountPoints2 does Not exist in HKEY_USERS\\\\.DEFAULT\\\\ :wink:\n\nMountPoints2 does exist indeed in:\n\nComputer\\\\HKEY_CURRENT_USER\\\\Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Explorer\\\\MountPoints2\n\nComputer\\\\HKEY_USERS\\\\S-1-5-21-459577182-2476619361-2338099180-1001\\\\Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Explorer\\\\MountPoints2\n\nBut the UUID 944d75b4-b74c-11e9-91f0-3252cb53659d is not found in those keys\n\n"
    }
  ]
}