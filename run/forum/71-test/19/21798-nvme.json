{
  "id": "21798",
  "title": "nvme",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "207102",
      "timestamp": "2018-07-02T17:35:37+00:00",
      "author": "Dietmar",
      "content": "Hi all,  \n\nI find out, why there is no nvme before win7. It is because of a missing function in storport.sys (before win7).  \n\nDebugview gives the message:  \n\nSTORMINI: NVMeEnumNumaCores: Failed to retrieve number of group.  \n\nAnd this belongs to nvmeInit.c from Openfabrics source for nvme.sys, Version1.3:  \n\n/\\* Find out the current group topology in the system \\*/  \nStatus \u003d StorPortGetActiveGroupCount(pAE, \\\u0026pRMT-\\\u003eNumGroup);  \nif (pRMT-\\\u003eNumGroup \u003d\u003d 0 \\|\\| Status !\u003d STOR_STATUS_SUCCESS) {  \nStorPortDebugPrint(INFO, \"NVMeEnumNumaCores: Failed to retrieve number of group.\\\\n\");  \nreturn (FALSE);  \n}  \n\n[https://docs.microso...ctivegroupcount](https://docs.microsoft.com/en-us/windows-hardware/drivers/ddi/content/storport/nf-storport-storportgetactivegroupcount \"External link\")  \n\nStorPortGetActiveGroupCount function  \n\nWindows versionAvailable in Windows 7 and later versions of the Windows operating systems.  \n\n\u003cbr /\u003e\n\nSo,*as long as you make use(\\^\\^) of this function* , always the same error, even when you compile nvme.sys  \n\nfor Win 2003, the crazy\\^\\^ compiler still makes call to this not existing function before win7,  \n\nhave a nice day  \n\nDietmar  \n\nEDIT: I see, that even in version 1.2 for nvme from openfabrics they make use of the function StorPortGetHighestNodeNumber.\n\nAlso this function arrives first time in win7 for storport.sys. This means, the source code for nvme.sys from openfabrics can only be used for operating system from win7 and newer.\n\nEDIT2:\n\nMay be, I dont understand something: Dependency Walker shows between nvme.sys and storport.sys in XP\n\nexakt the same dependencies as in Win7 between nvme.sys but different storport (from win7) there.\n\nThis looks like, that all the functions I told above are not important, because they are only internal used in nvme.sys and storport.sys but not for the connection between nvme.sys and storport. In this case, nvme for xp with the source code from openfabrics seems still possible. The relations between storport and ntoskrnl are very different in xp and win 7.\n\nWhen my thoughts are correct this means, that I found the exact crash point in nvme\n\nin XP(NVMeEnumNumaCores: Failed to retrieve number of group), but still not the reason for that crash.\n\nEDIT3:\n\nI changend the storport.sys in win7 against the storport from win2003.\n\nDependency Walker shows, that all dependencies are also ok.\n\nBut when I reboot the compi, the nvme harddisk is gone.\n\nEven the logfile shows, that nvme.sys and storport.sys are loaded,\n\nis this the same behavior as on XP. It simply means, that ntoskrnl from win7\n\nused more dependencies with original storport(win7) than storport from 2003 can give.\n\nThis is the no go\\^\\^ for the nvme.sys from openfabrics for XP, win2003, vista.\n\nI tested all. Only storport from win7 works, but ONLY for win7.\n\n"
    },
    {
      "id": "207104",
      "timestamp": "2018-07-03T07:53:56+00:00",
      "author": "Dietmar",
      "content": "Oh, not give up too quick:)).\n\nON NEXT BOOT the nvme harddisk is gone..\n\nI think we have: All drivers, that work before in XP using storport.sys from win 2003,\n\nalso work now in win7. But not vice versa.\n\nBut the driver nvme.sys is stored in memory, when you start win7(very first version) with it.\n\nThis can be seen on setup: When nvme.sys is loaded,\n\nyou can go back in setup, then without need again to show this driver nvme.sys to win7 like old f6 method.\n\nHm, via this way a chain boot with grub should be possible,\n\nhave a nice day\n\nDietmar\n\n"
    },
    {
      "id": "207116",
      "timestamp": "2018-07-04T08:49:26+00:00",
      "author": "Dietmar",
      "content": "Hi all,\n\nI just see, that all extended storport functions can be faked with\n\n**STOR_STATUS_NOT_IMPLEMENTED**\n\nAnd even if this is not enough, you can give just the wished number, fetched by hand from win7\\^\\^.\n\nThis can be done in source code of nvme.sys from openfabrics,\n\nbecause there is written Status IF (!\u003d STOR_STATUS_SUCCESS)\n\nwhich gives FALSE, even when the operating system answers **STOR_STATUS_NOT_IMPLEMENTED.**\n\n\"NumGroup\" belongs to the kind of cpu, so it is not important for work of nvme.\n\nIn worst case, there are about 100 places in source code with \"StorPortDebugPrint\".\n\nMay be all can be solved,\n\nhave a nice day\n\nDietmar\n\n"
    },
    {
      "id": "207118",
      "timestamp": "2018-07-04T13:46:22+00:00",
      "author": "Dietmar",
      "content": "Here is the log print from DebugView from the (from me compiled version for win2003), *working* nvme.sys version 1.3 for win7 with its own storport.sys\n\nStep by step you can see, what step you reached until now. Lot of work, but who knows\\^\\^..\n\nThere is a storport.sys with extended functions implemented in Reactos. Because of this, it does NOT work with XP.\n\nBut may be very easy to have a working nvme on Reactos,\n\nhave a nice day\n\nDietmar\n\nEDIT: In win7, the Reactos storport.sys fullfills with its extended functions all dependencies.\n\nBut win7 crashes with this storport.sys from reactos.\n\n00000001 0.00000000 STORMINI: StorPortInitialize returns Status(0x0)   \n00000002 0.02659160 STORMINI: Access Range, VirtualAddr\u003d0x86C3C9488F1C1000.   \n00000003 0.02659611 STORMINI: NVMeFindAdapter: Stride Size set to 0x4   \n00000004 0.02663770 STORMINI: NVMeEnumNumaCores: # of NUMA node(s) \u003d 1.   \n00000005 0.02663951 STORMINI: NVMeEnumNumaCores: Number of groups \u003d 1.   \n00000006 0.02664101 STORMINI: NVMeEnumNumaCores: Group(0) affinity mask(0xff).   \n00000007 0.02664222 STORMINI: NVMeEnumNumaCores: Total 8 logical processors   \n00000008 0.02664313 STORMINI: NVMeEnumNumaCores: NUMA Node#0   \n00000009 0.02664403 STORMINI: Core mask is 0xff in Group(0)   \n00000010 0.02664554 STORMINI: There are 8 cores in Node#0.   \n00000011 0.02664644 STORMINI: The total number of CPU cores 8.   \n00000012 0.02671816 STORMINI: NVMeInitialize: EN already set, wait for RDY...   \n00000013 0.02672117 STORMINI: NVMeInitialize: Clearing EN...   \n00000014 0.53888857 STORMINI: NVMeEnumMsiMessages: Msg granted\u003d8   \n00000015 0.53889430 STORMINI: NVMeAllocateMem: Succeeded!   \n00000016 0.53889734 STORMINI: NVMeAllocateMem: Succeeded!   \n00000017 0.53890365 STORMINI: NVMeInitSubQueue : SQ 0x0 pSubTDBL 0x8f1c2000 at index 0x0   \n00000018 0.53890938 STORMINI: NVMeInitCplQueue : CQ 0x0 pCplHDBL 0x8f1c2004 at index 0x1   \n00000019 0.53891510 STORMINI: NVMeResetAdapter: Clearing EN...   \n00000020 0.53891844 STORMINI: NVMeEnableAdapter: Setting EN...   \n00000021 0.53892112 STORMINI: NVMeAllocateMem: Succeeded!   \n00000022 0.53892773 STORMINI: NVMeAllocateMem: Succeeded!   \n00000023 0.53893226 STORMINI: NVMeRunningWaitOnRDY: Waiting...   \n00000024 0.55448848 STORMINI: NVMeRunningWaitOnRDY: RDY has been set   \n00000025 0.57255852 STORMINI: NVMeGetIdentifyStructures: IDEN_CONTROLLER   \n00000026 0.57390136 STORMINI: NVMeInitCallback: Driver state: 33   \n00000027 0.58568650 STORMINI: NVMeGetIdentifyStructures: IDEN_NAMESPACE   \n00000028 0.58568770 STORMINI: NVMeGetIdentifyStructures: Get NS INFO for NSID 0x1 tgt lun 0x0   \n00000029 0.58709800 STORMINI: NVMeInitCallback: Driver state: 34   \n00000030 0.60229832 STORMINI: NVMeInitCallback: Driver state: 35   \n00000031 0.61789852 STORMINI: NVMeInitCallback: Driver state: 35   \n00000032 0.63399780 STORMINI: NVMeInitCallback: Driver state: 35   \n00000033 0.63399899 STORMINI: pLbaRangeTypeEntry type : 0x0 lun id 1 nsid 0x5a   \n00000034 0.65056050 STORMINI: NVMeAllocateMem: Succeeded!   \n00000035 0.65057164 STORMINI: NVMeAllocateMem: Succeeded!   \n00000036 0.65059030 STORMINI: NVMeAllocIoQueues: Core 0x0 ---\\\u003e QueueID 0x1   \n00000037 0.65059245 STORMINI: NVMeAllocateMem: Succeeded!   \n00000038 0.65060538 STORMINI: NVMeAllocateMem: Succeeded!   \n00000039 0.65063101 STORMINI: NVMeAllocIoQueues: Core 0x1 ---\\\u003e QueueID 0x2   \n00000040 0.65063310 STORMINI: NVMeAllocateMem: Succeeded!   \n00000041 0.65064305 STORMINI: NVMeAllocateMem: Succeeded!   \n00000042 0.65066928 STORMINI: NVMeAllocIoQueues: Core 0x2 ---\\\u003e QueueID 0x3   \n00000043 0.65067136 STORMINI: NVMeAllocateMem: Succeeded!   \n00000044 0.65068465 STORMINI: NVMeAllocateMem: Succeeded!   \n00000045 0.65071058 STORMINI: NVMeAllocIoQueues: Core 0x3 ---\\\u003e QueueID 0x4   \n00000046 0.65071237 STORMINI: NVMeAllocateMem: Succeeded!   \n00000047 0.65072560 STORMINI: NVMeAllocateMem: Succeeded!   \n00000048 0.65075183 STORMINI: NVMeAllocIoQueues: Core 0x4 ---\\\u003e QueueID 0x5   \n00000049 0.65075397 STORMINI: NVMeAllocateMem: Succeeded!   \n00000050 0.65076721 STORMINI: NVMeAllocateMem: Succeeded!   \n00000051 0.65079314 STORMINI: NVMeAllocIoQueues: Core 0x5 ---\\\u003e QueueID 0x6   \n00000052 0.65079522 STORMINI: NVMeAllocateMem: Succeeded!   \n00000053 0.65080822 STORMINI: NVMeAllocateMem: Succeeded!   \n00000054 0.65083444 STORMINI: NVMeAllocIoQueues: Core 0x6 ---\\\u003e QueueID 0x7   \n00000055 0.65083653 STORMINI: NVMeAllocateMem: Succeeded!   \n00000056 0.65084946 STORMINI: NVMeAllocateMem: Succeeded!   \n00000057 0.65087569 STORMINI: NVMeAllocIoQueues: Core 0x7 ---\\\u003e QueueID 0x8   \n00000058 0.65087688 STORMINI: NVMeMsiMapCores: Core(0x0)Msg#(0x0)   \n00000059 0.65087783 STORMINI: NVMeMsiMapCores: Core(0x1)Msg#(0x1)   \n00000060 0.65087873 STORMINI: NVMeMsiMapCores: Core(0x2)Msg#(0x2)   \n00000061 0.65087962 STORMINI: NVMeMsiMapCores: Core(0x3)Msg#(0x3)   \n00000062 0.65088052 STORMINI: NVMeMsiMapCores: Core(0x4)Msg#(0x4)   \n00000063 0.65088141 STORMINI: NVMeMsiMapCores: Core(0x5)Msg#(0x5)   \n00000064 0.65088230 STORMINI: NVMeMsiMapCores: Core(0x6)Msg#(0x6)   \n00000065 0.65088326 STORMINI: NVMeMsiMapCores: Core(0x7)Msg#(0x7)   \n00000066 0.65088654 STORMINI: NVMeInitSubQueue : SQ 0x1 pSubTDBL 0x8f1c2008 at index 0x2   \n00000067 0.65092421 STORMINI: NVMeInitSubQueue : SQ 0x2 pSubTDBL 0x8f1c2010 at index 0x4   \n00000068 0.65096158 STORMINI: NVMeInitSubQueue : SQ 0x3 pSubTDBL 0x8f1c2018 at index 0x6   \n00000069 0.65099895 STORMINI: NVMeInitSubQueue : SQ 0x4 pSubTDBL 0x8f1c2020 at index 0x8   \n00000070 0.65103632 STORMINI: NVMeInitSubQueue : SQ 0x5 pSubTDBL 0x8f1c2028 at index 0xa   \n00000071 0.65107399 STORMINI: NVMeInitSubQueue : SQ 0x6 pSubTDBL 0x8f1c2030 at index 0xc   \n00000072 0.65111136 STORMINI: NVMeInitSubQueue : SQ 0x7 pSubTDBL 0x8f1c2038 at index 0xe   \n00000073 0.65114874 STORMINI: NVMeInitSubQueue : SQ 0x8 pSubTDBL 0x8f1c2040 at index 0x10   \n00000074 0.65118611 STORMINI: NVMeInitCplQueue : CQ 0x1 pCplHDBL 0x8f1c200c at index 0x3   \n00000075 0.65119034 STORMINI: NVMeInitCplQueue : CQ 0x2 pCplHDBL 0x8f1c2014 at index 0x5   \n00000076 0.65119451 STORMINI: NVMeInitCplQueue : CQ 0x3 pCplHDBL 0x8f1c201c at index 0x7   \n00000077 0.65119845 STORMINI: NVMeInitCplQueue : CQ 0x4 pCplHDBL 0x8f1c2024 at index 0x9   \n00000078 0.65120268 STORMINI: NVMeInitCplQueue : CQ 0x5 pCplHDBL 0x8f1c202c at index 0xb   \n00000079 0.65120691 STORMINI: NVMeInitCplQueue : CQ 0x6 pCplHDBL 0x8f1c2034 at index 0xd   \n00000080 0.65121078 STORMINI: NVMeInitCplQueue : CQ 0x7 pCplHDBL 0x8f1c203c at index 0xf   \n00000081 0.65121502 STORMINI: NVMeInitCplQueue : CQ 0x8 pCplHDBL 0x8f1c2044 at index 0x11   \n00000082 0.66374087 STORMINI: NVMeInitCallback: Driver state: 38   \n00000083 0.67933810 STORMINI: NVMeInitCallback: Driver state: 38   \n00000084 0.69493735 STORMINI: NVMeInitCallback: Driver state: 38   \n00000085 0.71053517 STORMINI: NVMeInitCallback: Driver state: 38   \n00000086 0.72860765 STORMINI: NVMeInitCallback: Driver state: 38   \n00000087 0.74173588 STORMINI: NVMeInitCallback: Driver state: 38   \n00000088 0.75733548 STORMINI: NVMeInitCallback: Driver state: 38   \n00000089 0.77293694 STORMINI: NVMeInitCallback: Driver state: 38   \n00000090 0.78854197 STORMINI: NVMeInitCallback: Driver state: 39   \n00000091 0.80661023 STORMINI: NVMeInitCallback: Driver state: 39   \n00000092 0.81973875 STORMINI: NVMeInitCallback: Driver state: 39   \n00000093 0.83533627 STORMINI: NVMeInitCallback: Driver state: 39   \n00000094 0.85093886 STORMINI: NVMeInitCallback: Driver state: 39   \n00000095 0.86653757 STORMINI: NVMeInitCallback: Driver state: 39   \n00000096 0.88461006 STORMINI: NVMeInitCallback: Driver state: 39   \n00000097 0.89773709 STORMINI: NVMeInitCallback: Driver state: 39   \n00000098 0.91335148 STORMINI: Mapped#1: core(0) to MSI ID(0)   \n00000099 0.91335237 STORMINI: NVMeInitCallback: Driver state: 40   \n00000100 0.92895287 STORMINI: Mapped#2: core(1) to MSI ID(1)   \n00000101 0.92895621 STORMINI: NVMeInitCallback: Driver state: 40   \n00000102 0.94455278 STORMINI: Mapped#3: core(2) to MSI ID(2)   \n00000103 0.94455516 STORMINI: NVMeInitCallback: Driver state: 40   \n00000104 0.96262407 STORMINI: Mapped#4: core(3) to MSI ID(3)   \n00000105 0.96262646 STORMINI: NVMeInitCallback: Driver state: 40   \n00000106 0.97575229 STORMINI: Mapped#5: core(4) to MSI ID(4)   \n00000107 0.97575408 STORMINI: NVMeInitCallback: Driver state: 40   \n00000108 0.99135160 STORMINI: Mapped#6: core(5) to MSI ID(5)   \n00000109 0.99135339 STORMINI: NVMeInitCallback: Driver state: 40   \n00000110 1.00695240 STORMINI: Mapped#7: core(6) to MSI ID(6)   \n00000111 1.00695395 STORMINI: NVMeInitCallback: Driver state: 40   \n00000112 1.02254903 STORMINI: Mapped#8: core(7) to MSI ID(7)   \n00000113 1.02255046 STORMINI: NVMeInitCallback: Driver state: 40   \n00000114 1.02255142 STORMINI: Learning Complete. Core Table:   \n00000115 1.02255237 STORMINI: Core(0x0) MSID(0x0) QueuePair(0x1)   \n00000116 1.02255356 STORMINI: Core(0x1) MSID(0x1) QueuePair(0x2)   \n00000117 1.02255440 STORMINI: Core(0x2) MSID(0x2) QueuePair(0x3)   \n00000118 1.02255535 STORMINI: Core(0x3) MSID(0x3) QueuePair(0x4)   \n00000119 1.02255619 STORMINI: Core(0x4) MSID(0x4) QueuePair(0x5)   \n00000120 1.02255714 STORMINI: Core(0x5) MSID(0x5) QueuePair(0x6)   \n00000121 1.02255774 STORMINI: Core(0x6) MSID(0x6) QueuePair(0x7)   \n00000122 1.02255869 STORMINI: Core(0x7) MSID(0x7) QueuePair(0x8)   \n00000123 1.04061902 STORMINI: NVMeInitCallback: Driver state: 41   \n00000124 1.05374491 STORMINI: NVMeInitCallback: Driver state: 41   \n00000125 1.06934452 STORMINI: NVMeInitCallback: Driver state: 41   \n00000126 1.08494568 STORMINI: NVMeInitCallback: Driver state: 41   \n00000127 1.10054314 STORMINI: NVMeInitCallback: Driver state: 41   \n00000128 1.11861408 STORMINI: NVMeInitCallback: Driver state: 41   \n00000129 1.13174260 STORMINI: NVMeInitCallback: Driver state: 41   \n00000130 1.14734280 STORMINI: NVMeInitCallback: Driver state: 41   \n00000131 1.16293609 STORMINI: NVMeInitCallback: Driver state: 41   \n00000132 1.17853332 STORMINI: NVMeInitCallback: Driver state: 41   \n00000133 1.19660306 STORMINI: NVMeInitCallback: Driver state: 41   \n00000134 1.20973134 STORMINI: NVMeInitCallback: Driver state: 41   \n00000135 1.22533000 STORMINI: NVMeInitCallback: Driver state: 41   \n00000136 1.24093139 STORMINI: NVMeInitCallback: Driver state: 41   \n00000137 1.25653017 STORMINI: NVMeInitCallback: Driver state: 41   \n00000138 1.27460206 STORMINI: NVMeInitCallback: Driver state: 41   \n00000139 1.28773510 STORMINI: NVMeInitCallback: Driver state: 38   \n00000140 1.30333257 STORMINI: NVMeInitCallback: Driver state: 38   \n00000141 1.31893313 STORMINI: NVMeInitCallback: Driver state: 38   \n00000142 1.33453155 STORMINI: NVMeInitCallback: Driver state: 38   \n00000143 1.35260332 STORMINI: NVMeInitCallback: Driver state: 38   \n00000144 1.36573136 STORMINI: NVMeInitCallback: Driver state: 38   \n00000145 1.38133156 STORMINI: NVMeInitCallback: Driver state: 38   \n00000146 1.39693356 STORMINI: NVMeInitCallback: Driver state: 38   \n00000147 1.41253650 STORMINI: NVMeInitCallback: Driver state: 39   \n00000148 1.43060708 STORMINI: NVMeInitCallback: Driver state: 39   \n00000149 1.44373298 STORMINI: NVMeInitCallback: Driver state: 39   \n00000150 1.45933342 STORMINI: NVMeInitCallback: Driver state: 39   \n00000151 1.47493434 STORMINI: NVMeInitCallback: Driver state: 39   \n00000152 1.49053180 STORMINI: NVMeInitCallback: Driver state: 39   \n00000153 1.50860572 STORMINI: NVMeInitCallback: Driver state: 39   \n00000154 1.52173245 STORMINI: NVMeInitCallback: Driver state: 39   \n00000155 1.52352488 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000156 1.52352738 STORMINI: SNTI: Translating opcode - 0xa0 BTL (0 0 0)   \n00000157 1.52354598 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000158 1.52354753 STORMINI: SNTI: Translating opcode - 0x12 BTL (0 0 0)   \n00000159 1.52355027 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000160 1.52355146 STORMINI: SNTI: Translating opcode - 0x12 BTL (0 0 0)   \n00000161 1.52355349 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000162 1.52355480 STORMINI: SNTI: Translating opcode - 0x12 BTL (0 0 0)   \n00000163 1.52355683 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000164 1.52355802 STORMINI: SNTI: Translating opcode - 0x12 BTL (0 0 0)   \n00000165 1.52359545 STORMINI: BuildIo: SRB_FUNCTION_PNP   \n00000166 1.53729773 STORMINI: NVMeRunning: StorPortReady...   \n00000167 2.06088352 STORMINI: NVMeProcessIoctl: Code \u003d 0x80000001, Signature \u003d 0xIntelRdp   \n00000168 2.06088686 STORMINI: FYI: SRB status 0x6 scsi 0x0 for CDB 0x0 BTL 0 0 0   \n00000169 2.06099296 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000170 2.06099510 STORMINI: SNTI: Translating opcode - 0x25 BTL (0 0 0)   \n00000171 2.06100225 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000172 2.06100368 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000173 2.06112456 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000174 2.06112766 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000175 2.06119990 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000176 2.06120157 STORMINI: SNTI: Translating opcode - 0x25 BTL (0 0 0)   \n00000177 2.06129146 STORMINI: NVMeProcessIoctl: Code \u003d 0x1b0501, Signature \u003d 0xSCSIDISK\\\u003c   \n00000178 2.06129313 STORMINI: NVMeProcessIoctl: IOCTL SCSI MINIPORT IDENTIFY   \n00000179 2.06129789 STORMINI: NVMeProcessIoctl: Code \u003d 0x1b0504, Signature \u003d 0xSCSIDISK\\\u003c   \n00000180 2.06130052 STORMINI: NVMeProcessIoctl: Code \u003d 0x1b0506, Signature \u003d 0xSCSIDISK\\\u003c   \n00000181 2.06130171 STORMINI: NVMeProcessMsftPublicIoctl: UNSUPPORTED Ctrl Code (0x1b0506)   \n00000182 2.06130314 STORMINI: FYI: SRB status 0x6 scsi 0x0 for CDB 0x0 BTL 0 0 0   \n00000183 2.06134963 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000184 2.06135130 STORMINI: SNTI: Translating opcode - 0x1a BTL (0 0 0)   \n00000185 2.06246853 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000186 2.06247020 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000187 2.06254220 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000188 2.06254339 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000189 2.06261516 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000190 2.06261635 STORMINI: SNTI: Translating opcode - 0x25 BTL (0 0 0)   \n00000191 2.06261992 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000192 2.06262112 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000193 2.06269145 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000194 2.06269264 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000195 2.06276345 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000196 2.06276464 STORMINI: SNTI: Translating opcode - 0x25 BTL (0 0 0)   \n00000197 2.06276751 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000198 2.06276870 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000199 2.06287265 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000200 2.06287432 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000201 2.06302834 STORMINI: BuildIo: SRB_FUNCTION_PNP   \n00000202 2.06306958 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000203 2.06307125 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000204 2.06332445 STORMINI: NVMeProcessIoctl: Code \u003d 0x80000001, Signature \u003d 0xIntelRdp   \n00000205 2.06332660 STORMINI: FYI: SRB status 0x6 scsi 0x0 for CDB 0x0 BTL 0 0 0   \n00000206 2.34515762 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000207 2.34515977 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000208 2.34559178 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000209 2.34559298 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000210 3.88733625 +++++\\\u003eWskKnrInit.   \n00000211 3.90420699 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000212 3.90420985 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000213 3.90433955 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000214 3.90434122 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000215 3.90442181 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000216 3.90442348 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000217 3.90454245 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000218 3.90454507 STORMINI: SNTI: Translating opcode - 0x1a BTL (0 0 0)   \n00000219 3.90850329 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000220 3.90850496 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000221 3.90861392 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000222 3.90861535 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000223 3.90870166 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000224 3.90870285 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000225 3.90884638 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000226 3.90884781 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000227 3.90891719 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000228 3.90891838 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000229 3.90900326 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000230 3.90900469 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000231 3.90906906 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000232 3.90907025 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000233 3.90915465 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000234 3.90915585 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000235 3.90923905 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000236 3.90924025 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000237 3.90932989 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000238 3.90933156 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000239 3.91167283 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000240 3.91167474 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000241 3.91175365 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000242 3.91175532 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000243 3.91189075 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000244 3.91189241 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000245 3.91201138 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000246 3.91201305 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000247 3.91398239 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000248 3.91398406 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000249 3.91608882 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000250 3.91609049 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000251 3.91822577 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000252 3.91822815 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000253 3.92059779 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000254 3.92059946 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000255 3.92276073 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000256 3.92276192 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000257 3.92491746 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000258 3.92491913 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000259 3.92707300 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000260 3.92707467 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000261 3.92718840 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000262 3.92719007 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000263 3.92749858 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000264 3.92750001 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000265 3.92759228 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000266 3.92759371 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000267 3.92777300 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000268 3.92777491 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000269 3.92777848 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000270 3.92777967 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000271 3.92778277 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000272 3.92778420 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000273 3.92778707 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000274 3.92778826 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000275 3.92779136 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000276 3.92779303 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000277 3.92779541 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000278 3.92779660 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000279 3.92779899 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000280 3.92780018 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000281 3.93213034 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000282 3.93213177 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000283 3.93222070 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000284 3.93222189 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000285 3.93232775 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000286 3.93232918 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000287 3.93241215 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000288 3.93241334 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000289 3.93252349 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000290 3.93252516 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000291 3.93262100 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000292 3.93262219 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000293 3.93272805 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000294 3.93272972 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000295 3.93282080 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000296 3.93282223 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000297 3.93292093 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000298 3.93292260 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000299 3.93299127 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000300 3.93299246 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000301 3.93307924 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000302 3.93308043 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000303 3.93326116 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000304 3.93326330 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000305 3.93342757 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000306 3.93342948 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000307 3.93352771 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000308 3.93352985 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000309 3.93572927 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000310 3.93573070 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000311 3.93579578 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000312 3.93579745 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000313 3.93586469 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000314 3.93586588 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000315 3.93604112 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000316 3.93604231 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000317 3.93624878 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000318 3.93625069 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000319 3.93633461 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000320 3.93633628 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000321 3.93857002 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000322 3.93857169 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000323 3.93864703 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000324 3.93864918 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000325 3.93871260 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000326 3.93871450 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000327 3.93877053 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000328 3.93877196 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000329 3.93883944 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000330 3.93884110 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000331 3.93894219 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000332 3.93894410 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000333 3.93912578 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000334 3.93912721 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000335 3.93930531 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000336 3.93930697 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000337 3.93948841 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000338 3.93948960 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000339 3.93999076 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000340 3.93999338 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000341 3.94031215 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000342 3.94031453 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000343 3.94252157 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000344 3.94252443 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000345 3.94476986 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000346 3.94477224 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000347 4.04437256 STORMINI: NVMeProcessIoctl: Code \u003d 0x80000001, Signature \u003d 0xIntelRdp   \n00000348 4.04437590 STORMINI: FYI: SRB status 0x6 scsi 0x0 for CDB 0x0 BTL 0 0 0   \n00000349 5.26512671 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000350 5.26512957 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000351 5.26544619 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000352 5.26544857 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000353 5.26557827 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000354 5.26558065 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000355 5.26572037 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000356 5.26572275 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000357 5.26582623 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000358 5.26582813 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000359 5.26594782 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000360 5.26594925 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000361 5.26610708 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000362 5.26610994 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000363 5.26621342 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000364 5.26621437 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000365 5.26634455 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000366 5.26634598 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000367 5.26649284 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000368 5.26649475 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000369 5.26667976 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000370 5.26668167 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000371 5.26681709 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000372 5.26681948 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000373 5.26690769 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000374 5.26690912 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000375 5.26700163 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000376 5.26700306 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000377 7.03616095 STORMINI: NVMeProcessIoctl: Code \u003d 0x80000001, Signature \u003d 0xIntelRdp   \n00000378 7.03616333 STORMINI: FYI: SRB status 0x6 scsi 0x0 for CDB 0x0 BTL 0 0 0   \n00000379 7.81125593 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000380 7.81125879 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000381 7.81342602 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000382 7.81342793 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000383 7.81563377 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000384 7.81563616 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000385 10.52362251 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000386 10.52362633 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000387 10.52384663 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000388 10.52384949 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000389 10.52395535 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000390 10.52395725 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000391 10.52401352 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000392 10.52401543 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000393 12.86690998 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000394 12.86691380 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000395 13.01454258 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000396 13.01454639 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000397 13.01609898 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000398 13.01609993 STORMINI: SNTI: Translating opcode - 0x00 BTL (0 0 0)   \n00000399 13.01610470 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000400 13.01610756 STORMINI: SNTI: Translating opcode - 0x1a BTL (0 0 0)   \n00000401 15.21685314 KTM: TmRollbackTransaction for tx 8aa60c18   \n00000402 15.21685696 KTM: TmRollbackTransaction for tx 8aa60c18   \n00000403 15.21836090 KTM: TmRollbackTransaction for tx 8aa60c18   \n00000404 15.21836472 KTM: TmRollbackTransaction for tx 8aa60c18   \n00000405 18.19204712 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000406 18.19205093 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000407 18.19430351 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000408 18.19430351 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000409 18.72045326 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000410 18.72045708 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000411 18.72062683 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000412 18.72063065 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000413 20.28969193 KTM: TmRollbackTransaction for tx 8ae42ab8   \n00000414 20.28969383 KTM: TmRollbackTransaction for tx 8ae42ab8   \n00000415 20.29044151 KTM: TmRollbackTransaction for tx 8ae4a600   \n00000416 20.29044342 KTM: TmRollbackTransaction for tx 8ae4a600   \n00000417 23.31291771 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000418 23.31292343 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000419 28.36047173 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000420 28.36047745 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000421 28.36237907 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000422 28.36238098 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000423 28.36457253 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000424 28.36457443 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000425 33.56600952 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000426 33.56601334 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000427 38.66809845 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000428 38.66810226 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000429 38.67034531 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000430 38.67035294 STORMINI: SNTI: Translating opcode - 0x2a BTL (0 0 0)   \n00000431 136.15068054 KTM: TmRollbackTransaction for tx 8a8b87c0   \n00000432 136.15069580 KTM: TmRollbackTransaction for tx 8a8b87c0   \n00000433 250.18644714 KTM: TmRollbackTransaction for tx 863eee20   \n00000434 250.18647766 KTM: TmRollbackTransaction for tx 863eee20   \n00000435 354.19375610 STORMINI: BuildIo: SRB_FUNCTION_EXECUTE_SCSI   \n00000436 354.19378662 STORMINI: SNTI: Translating opcode - 0x28 BTL (0 0 0)   \n00000437 435.22909546 KTM: TmCommitTransaction for tx 863b3030   \n00000438 435.22909546 KTM: Notifying RM of 1 for tx 863b3030   \n00000439 435.22909546 KTM: TmPrepareTransaction for en 863bb030   \n00000440 435.22909546 KTM: Notifying RM of 16 for tx 8641e030   \n00000441 435.22909546 KTM: Notifying RM of 2 for tx 863b3030   \n00000442 435.22909546 KTM: TmPrepareTransaction for en 863bb030   \n00000443 435.22912598 KTM: Notifying RM of 2 for tx 8641e030   \n00000444 435.22994995 KTM: Notifying RM of 32 for tx 8641e030   \n00000445 435.22998047 KTM: Notifying RM of 2 for tx 863b3030   \n00000446 435.64718628 KTM: Notifying RM of 4 for tx 863b3030   \n00000447 435.64718628 KTM: TmCommitTransaction for tx 8641e030   \n00000448 435.66201782 KTM: Notifying RM of 4 for tx 8641e030   \n00000449 435.66284180 KTM: Notifying RM of 64 for tx 8641e030   \n00000450 435.66284180 KTM: TmRollbackEnlistment for tx 8641e030   \n00000451 435.66284180 KTM: TmRollbackEnlistment for tx 863b3030   \n00000452 435.66287231 KTM: TmRollbackTransaction for tx 8641e030   \n00000453 435.66287231 KTM: TmRollbackEnlistment for tx 8641e030   \n00000454 435.66287231 KTM: Notifying RM of 4 for tx 863b3030   \n00000455 435.79745483 KTM: TmRollbackEnlistment for tx 863b3030   \n00000456 435.79788208 KTM: TmRollbackTransaction for tx 863b3030   \n00000457 438.18807983 KTM: TmCommitTransaction for tx 863b3030   \n00000458 438.18811035 KTM: Notifying RM of 1 for tx 863b3030   \n00000459 438.18811035 KTM: TmPrepareTransaction for en 863f7e98   \n00000460 438.18811035 KTM: Notifying RM of 16 for tx 863b4558   \n00000461 438.18811035 KTM: Notifying RM of 2 for tx 863b3030   \n00000462 438.18811035 KTM: TmPrepareTransaction for en 863f7e98   \n00000463 438.18811035 KTM: Notifying RM of 2 for tx 863b4558   \n00000464 438.19085693 KTM: Notifying RM of 32 for tx 863b4558   \n00000465 438.19088745 KTM: Notifying RM of 2 for tx 863b3030   \n00000466 438.19207764 KTM: Notifying RM of 4 for tx 863b3030   \n00000467 438.19207764 KTM: TmCommitTransaction for tx 863b4558   \n00000468 438.19250488 KTM: Notifying RM of 4 for tx 863b4558   \n00000469 438.19305420 KTM: Notifying RM of 64 for tx 863b4558   \n00000470 438.19308472 KTM: TmRollbackEnlistment for tx 863b4558   \n00000471 438.19308472 KTM: TmRollbackEnlistment for tx 863b3030   \n00000472 438.19308472 KTM: TmRollbackTransaction for tx 863b4558   \n00000473 438.19311523 KTM: TmRollbackEnlistment for tx 863b4558   \n00000474 438.19311523 KTM: Notifying RM of 4 for tx 863b3030   \n00000475 438.37945557 KTM: TmRollbackEnlistment for tx 863b3030   \n00000476 438.37994385 KTM: TmRollbackTransaction for tx 863b3030   \n00000477 438.38931274 KTM: TmCommitTransaction for tx 863b4558   \n00000478 438.38931274 KTM: Notifying RM of 1 for tx 863b4558   \n00000479 438.38934326 KTM: TmPrepareTransaction for en 86422398   \n00000480 438.38934326 KTM: Notifying RM of 16 for tx 863b3030   \n00000481 438.38934326 KTM: Notifying RM of 2 for tx 863b4558   \n00000482 438.38934326 KTM: TmPrepareTransaction for en 86422398   \n00000483 438.38934326 KTM: Notifying RM of 2 for tx 863b3030   \n00000484 438.39483643 KTM: Notifying RM of 32 for tx 863b3030   \n00000485 438.39483643 KTM: Notifying RM of 2 for tx 863b4558   \n00000486 438.40319824 KTM: Notifying RM of 4 for tx 863b4558   \n00000487 438.40319824 KTM: TmCommitTransaction for tx 863b3030   \n00000488 438.40362549 KTM: Notifying RM of 4 for tx 863b3030   \n00000489 438.59963989 KTM: Notifying RM of 64 for tx 863b3030   \n00000490 438.59963989 KTM: TmRollbackEnlistment for tx 863b3030   \n00000491 438.59967041 KTM: TmRollbackEnlistment for tx 863b4558   \n00000492 438.59967041 KTM: TmRollbackTransaction for tx 863b3030   \n00000493 438.59967041 KTM: TmRollbackEnlistment for tx 863b3030   \n00000494 438.59973145 KTM: Notifying RM of 4 for tx 863b4558   \n00000495 438.61413574 KTM: TmRollbackEnlistment for tx 863b4558   \n00000496 438.61669922 KTM: TmRollbackTransaction for tx 863b4558   \n00000497 554.74426270 \\[89B609C8\\] WskProIRPGetAddrInfo is called.   \n00000498 554.74456787 \\[bind\u003d8A495248\\] Binding reference count++ \u003d 2 (status \u003d 00000000, impersonation\u003d 2).   \n00000499 554.74456787 \\[8A116A60\\] Request reference count++ \u003d 3.   \n00000500 554.74462891 \\[8A116A60\\] RPC method type \u003d 1: rpc-method succeeded, queue to rpc-pending-list.   \n00000501 554.74462891 \\[8A116A60\\] Request reference count-- \u003d 2.   \n00000502 554.79235840 \\[8A116A60\\] WskKnrRpcComplete: rpc calls back for completion.   \n00000503 554.79235840 \\[8A116A60\\] WskKnrCompletePending: complete pending request (rpc\u003d1).   \n00000504 554.79235840 \\[8A116A60\\] Request reference count-- \u003d 1.   \n00000505 554.79235840 \\[8A116A60\\] Request reference count-- \u003d 0.   \n00000506 554.79235840 \\[8A116A60\\] WskKnrCompleteRequest: rpc completion return status \u003d 00000000 (reply\u003d00000000).   \n00000507 554.79235840 \\[8A116A60\\] WskProAPIGetAddressInfo returned addrinfo: \\[addr\u003dAEA7C678\\].   \n00000508 554.79235840 \\[bind\u003d8A495248\\] Binding reference count-- \u003d 1.   \n00000509 554.79235840 \\[8A116A60\\] WskKnrCompleteRequest: complete irp with IO status \u003d 00000000.   \n00000510 554.89904785 \\[addr\u003dAEA7C678\\] WskProAPIFreeAddressInfo freed addrinfo.   \n\n"
    },
    {
      "id": "207119",
      "timestamp": "2018-07-04T16:41:27+00:00",
      "author": "Dietmar",
      "content": "In win7, storport from win2003 and nvme.sys ver. 1.3 from openfabrics gives\n\nvia DebugView\n\nSTORMINI: StorPortInitialize returns Status(0x0)  \nSTORMINI: Access Range, VirtualAddr\u003d0x108DFA5000.  \nSTORMINI: NVMeFindAdapter: Stride Size set to 0x4  \nSTORMINI: NVMeEnumNumaCores: # of NUMA node(s) \u003d 1.  \nSTORMINI: **NVMeAllocatePool:\\\u003cError\\\u003e Failure, sts\u003d0** xc1000002  \nSTORMINI: FYI: SRB status 0x6 scsi 0x0 for CDB 0x0 BTL 0 0 0  \n+++++\\\u003eWskKnrInit.  \nTrying to enable physical device already in use.\n\nThis error can also be found in nvmeInit.c\n\n/\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*  \n\\* NVMeAllocatePool  \n\\*  \n\\* @brief Helper routoine for non-contiguous buffer allocation.  \n\\* StorPortAllocatePool is called to allocate memory from non-paged pool.  \n\\* If succeeded, zero out the memory before returning to the caller.  \n\\*  \n\\* @param pAE - Pointer to hardware device extension  \n\\* @param Size - In bytes  \n\\*  \n\\* @return PVOID  \n\\* Buffer Addr - If all resources are allocated and initialized properly  \n\\* NULL - If anything goes wrong  \n\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*/  \nPVOID NVMeAllocatePool(  \nPNVME_DEVICE_EXTENSION pAE,  \nULONG Size  \n)  \n{  \nULONG Tag \u003d \u0027eMVN\u0027;  \nPVOID pBuf \u003d NULL;  \nULONG Status \u003d STOR_STATUS_SUCCESS;  \nULONG NewBytesAllocated;  \n\nif (pAE-\\\u003entldrDump \u003d\u003d FALSE) {  \n/\\* Call StorPortAllocatePool to allocate the buffer \\*/  \nStatus \u003d StorPortAllocatePool(pAE, Size, Tag, (PVOID)\\\u0026pBuf);  \n} else {   \nNewBytesAllocated \u003d pAE-\\\u003eDumpBufferBytesAllocated + Size;  \nif (NewBytesAllocated \\\u003c\u003d DUMP_BUFFER_SIZE) {  \npBuf \u003d pAE-\\\u003eDumpBuffer + pAE-\\\u003eDumpBufferBytesAllocated;   \npAE-\\\u003eDumpBufferBytesAllocated \u003d NewBytesAllocated;  \n} else {  \nStorPortDebugPrint(ERROR,  \n\"Unable to allocate %d bytes at DumpBuffer offset %d.\\\\n\",  \nSize,  \npAE-\\\u003eDumpBufferBytesAllocated);  \n}  \n}   \n\n/\\* It fails, log the error and return NULL \\*/  \nif ((Status !\u003d STOR_STATUS_SUCCESS) \\|\\| (pBuf \u003d\u003d NULL)) {  \nStorPortDebugPrint(ERROR,  \n\"**NVMeAllocatePool:\\\u003cError\\\u003e Failure, sts\u003d0x** %x\\\\n\",  \nStatus );  \nreturn NULL;  \n}  \n\n/\\* Zero out the buffer before return \\*/  \nmemset(pBuf, 0, Size);  \n\nreturn pBuf;  \n} /\\* NVMeAllocatePool \\*/\n\n"
    },
    {
      "id": "207124",
      "timestamp": "2018-07-05T10:47:10+00:00",
      "author": "Dietmar",
      "content": "Hi all,\n\nafter hard work, I succeed to install Reactos 0.48, Fat32, IDE.\n\nFirst I get the crazy \"hdaudbus.sys\" blue screen crash on 4 computers (all I tested, brrr..).\n\nOk, I disconnected the install harddrive and renamed hdaudbus.sys to hdaudbussi.sys in reactos\\\\system32\\\\drivers .\n\nAfter this, install continues, but then hangs (Asus z97-k motherboard).\n\nI disabled all USB, sound, network in Bios and set processor to 1 processor.\n\nDoes not help. I installed new, with only PS2 keyboard connected.\n\nI always use standard, language and so on.\n\nThen it works\\^\\^.\n\nNow I put the nvme.sys and nvme.inf on the harddisk and Toshiba RD 400 in PCI-e slot.\n\nThe new device is recogniced by reactos, but dependency walker shows the unfullfilled dependency\n\nfor extended functions in storport.sys from reactos to nvme.sys from openfabrics.\n\nSo, on reactos the nvme.sys vers 1.3 driver from openfabrics does not work.\n\nWhen I changed the reactos storport.sys against storport.sys from win2003,\n\nreactos crashes during boot with 0xE message,\n\nhave a nice day\n\nDietmar\n\n"
    },
    {
      "id": "207233",
      "timestamp": "2018-07-13T07:36:51+00:00",
      "author": "schtrom",
      "content": "Hi Dietmar,\n\nWhy does the Windows 7 OFA NVMe driver not work on Windows Server 2003?  \n\nNew funtions that get added to storport.sys by Microsoft are called extended  \nstorport functions. These new extended functions are also the reason why some  \nminiport drivers build for Windows 7 can not run on Windows Server 2003. If an  \nextended function e.g. \"StorPortGetSystemAddress\" is called, storport.h has an  \ninline declaration like the following for this function:  \n\nULONG FORCEINLINE StorPortGetSystemAddress(_In_ PVOID HwDeviceExtension,_In_ PSCSI_REQUEST_BLOCK Srb,_Outptr_ PVOID \\*SystemAddress)  \n{  \nreturn StorPortExtendedFunction(ExtFunctionGetSystemAddress,HwDeviceExtension,Srb,SystemAddress);  \n}  \n\nBased on this declaration an extended function with the storport function code  \n\"ExtFunctionGetSystemAddress\" is called. If we disassemble a Windows Server 2003  \nstorport.sys file with IDA, we can see exactly which extended storport functions  \nare supported by the binary. We search for \"StorPortExtendedFunction\", go to the  \nfunction body, search for the switch table and the cases. The extended function  \ncases start at zero and go to a predefined value. The cases correspond to the  \nenumeration _STORPORT_FUNCTION_CODE definition in storport.h of the Windows Driver  \nDevelopment Kit. In case 0 we have the extended function \"ExtFunctionAllocatePool\",  \nin case 10 we have the extended function \"ExtFunctionPutScatterGatherList\". Even  \nthe newest Windows 2003 Server storport.sys with file version 5.2.3790.4173 does  \nonly support cases 0 to 10 and nothing more. So all the following functions in the  \nenumeration _STORPORT_FUNCTION_CODE had to be implemented by ourself if they are  \nused in the source code of the NVMe or any other storport miniport driver. If an  \nextended function code is not present in the used storport.sys we get the return  \ncode 0xC1000002 (STOR_STATUS_NOT_IMPLEMENTED).\n\nTake a look here: [http://reboot.pro/to...er-2003-r2-sp2/](http://reboot.pro/topic/21812-community-ofa-nvme-15-storport-miniport-for-windows-server-2003-r2-sp2/ \"\")\n\nHave fun!\n\nKai Schtrom\n\n"
    }
  ]
}