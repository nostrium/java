{
  "id": "7052",
  "title": "Multi Boot Disks, going crazy",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "58852",
      "timestamp": "2009-02-11T02:04:25+00:00",
      "author": "thewhitrbbit",
      "content": "I am trying to produce a multi boot hard drive for work, and it\u0027s driving me crazy.   \n\nI need to have two partitions. Partition A has DOS for Norton Ghost and the second partition has to have Dell Image Direct. (It\u0027s a flavor of Windows PE).   \n\nThe boot manager is BootIt NG.   \n\nI have had no success with this. I\u0027ve created the dos partition, and copied all the dos files, but I don\u0027t have any way to make the partition bootable.   \n\nI\u0027ve tried to use PE2USB to set up the second partition and swap out the cd image (I\u0027ve found this works and I\u0027ve swapped bart pe out and erd commander im, just renaming the file).   \n\nI would love to be able to get this to work, but I\u0027m not sure where to go from here. PE2USB doesn\u0027t seem to work, it always says it can\u0027t read the boot sector.  \n\nThank you for any help, this site has already helped me produce a great USB drive.   \n"
    },
    {
      "id": "58868",
      "timestamp": "2009-02-11T07:57:04+00:00",
      "author": "was_jaclaz",
      "content": "The good news is that you don\u0027t need BootIt NG, and that you do not need two partitions. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nPE***to*** USB.***exe*** is designed for a single partitioned drive/stick.  \n\nPE***2*** USB.***CMD*** is a batch file, it can be modified/fixed eaisly or it\u0027s steps can be reproduced manually easily.  \n\n* Ten little questions....  \n* Which one are you using?\n* How did you setup the disk (meaning what you used to partition/format the disk?\n* Is it a USB external hard disk?\n* How big is the hd?\n* How big is the PE build?\n* How big is the DOS image with GHOST?\n* Can you produce with ANY ways you use a working PE?\n* If yes, which files you have in ROOT of the partition(s)?\n* Are you using \"normal\" /minint or CD-like /I386 structure?\n* Can you use SERVER 2003 SP1 files?\n\n\u003cbr /\u003e\n\nPlease also explain HOW you did partition the HD (two primaries, one primary + one logical volume inside extended) and the reasons why you need (or think you need) two separate partitions.   \n\n\u003cbr /\u003e\n\njaclaz   \n"
    },
    {
      "id": "58911",
      "timestamp": "2009-02-11T16:47:55+00:00",
      "author": "thewhitrbbit",
      "content": "Which one are you using?  \n\nI am using PE2USB.CMD because I run it in a CMD prompt.   \n\nHow did you setup the disk (meaning what you used to partition/format the disk?  \n\nThe drive is set up the following: BootIt NG partition, then 1 40gig FAT32 partition for ghost (it also stores the ghost files themselves) then a 70 gig FAT32 partition that stores the Dell Image Direct and the .WIM images  \n\nIs it a USB external hard disk?  \n\nYes  \n\nHow big is the hd?  \n\n110GB  \n\nHow big is the PE build?  \n\n150MB  \n\nHow big is the DOS image with GHOST?  \n\n3MB  \n\nCan you produce with ANY ways you use a working PE?  \n\nOnly on a flash drive can I do a working PE  \n\nIf yes, which files you have in ROOT of the partition(s)?  \n\nI use PE2USB so it\u0027s a bart pe image, but if I switch the image, I can load anything using the ramdisk.   \n\nAre you using \"normal\" /minint or CD-like /I386 structure?  \n\nSee above  \n\nCan you use SERVER 2003 SP1 files?  \n\nI have access to everything from Windows 95 to Windows 7 Beta.  \n\n\u003cbr /\u003e\n\nI partitioned as two primary hard drives. I think I need 2 because I need one that boots into DOS since GHost runs in DOS, and I need a second one that will boot the ISO image of the Dell Image Direct tool.   \n\nOur University is now using .WIM for re-imaging instead of ghost but some of the older computers still need images that are in ghost format.   \n"
    },
    {
      "id": "58931",
      "timestamp": "2009-02-11T20:26:27+00:00",
      "author": "was_jaclaz",
      "content": "OK, let\u0027s try making it \"simple\", OK?  \n\nUnder a 2K/XP/Server 2003, clear the the partitions with Disk Management.  \n\nMake sure you install the \"normal\" 2K/XP/2003 MBR, if needed use MBRFIX or MBRWIz or a similar utility:  \n[http://www.sysint.no...ting/mbrfix.htm](http://www.sysint.no/nedlasting/mbrfix.htm \"External link\")  \n[http://mbrwizard.com/](http://mbrwizard.com/ \"External link\")  \n\n\u003cbr /\u003e\n\nMake a new, primary partition, 40 Gb, if that\u0027s a suitable size for you.  \nMake a new Extended Partition for the rest of the disk  \nMake one (or more as needed) Logical Volume(s) inside extended.  \nFormat primary as FAT32.  \nFormat Logical Volume(s) as you wish.  \nMake sure the Primary is active.  \nBeeblebrox is a nice tool to verify it:  \n[http://students.cs.byu.edu/\\~codyb/](http://students.cs.byu.edu/~codyb/ \"External link\")  \n\nCopy to the Primary:  \n- NTLDR  \n- NTDETECT.COM  \n- BOOT.INI \\\u003c-make sure you have at least two entries in it, it doesn\u0027t matter at the moment that they are valid ones, make one invoking grub4dos, the one here:  \n[http://diddy.boot-la...all.htm#method3](http://diddy.boot-land.net/grub4dos/files/install.htm#method3 \"External link\")  \nwill be allright  \n-grldr  \n-menu.lst \\\u003c-for the moment the standard one from the downloade package will be allright:  \n[http://nufans.net/grub4dos/](http://nufans.net/grub4dos/ \"External link\")  \n-IO.SYS  \n-MSDOS.SYS  \n-COMMAND.COM  \n-grub.exe  \n\nTry booting from external HD, you should be able to get to the BOOT.INI choices (choose grub4dos).  \nGrub4dos should load it\u0027s menu, by choosing entry \"find and load IO.SYS of Windows 9x/Me\" you should be able to boot to the dos prompt.  \nrun grub.exe, you should be back to it\u0027s menu, this time choose entry \"find and load NTLDR of Windows NT/2K/XP\", you should be back to the BOOT.NI choices.  \n\nAdd the GHOST files, autoexec, etc. and verify that it works.  \n\nPlay a bit with the choices, then read the Guide:  \n[http://diddy.boot-la...os/Grub4dos.htm](http://diddy.boot-land.net/grub4dos/Grub4dos.htm \"External link\")  \n\nAFTER having read the guide:  \n\nIf the PE image is already (or is \"convertible\" in) a Ramdisk loadable one, it is up to you if it\u0027s the case of using the (hd32) mapping:  \n[http://www.boot-land...?showtopic\u003d5041](http://www.boot-land.net/forums/index.php?showtopic\u003d5041 \"External link\")  \nor to expand it\u0027s contents in a /minint structure, either on the first partition or on the logical volume in Extended.  \n\nAdd to menu.lst an entry finding and loading SETUPLDR.BIN and you should be OK.  \n\nYou will later want to remove from menu.lst unused entries, leave just the grub4dos entry in BOOT.INI, etc. and/or use another of the methods to load grdr, including that of rewriting the bootsector of the primary partition from DOS using Bootpart:  \n[http://www.winimage.com/bootpart.htm](http://www.winimage.com/bootpart.htm \"External link\")  \nthen booting normally to DOS and later call grub.exe  \n\nIf you need help, post your doubts. ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\njaclaz   \n"
    },
    {
      "id": "58954",
      "timestamp": "2009-02-11T23:51:55+00:00",
      "author": "thewhitrbbit",
      "content": "Hey  \n\nThank you. So far I\u0027ve had 90% success.   \n\nWindows XP refused to format the 40GB partition as fat32, so I reduced it down to 500MB (since it\u0027s just dos files) and made a huge extended partition to store the ghost files and wims on.  \n\nI was able to install Grub4dos and I was able to get the boot menu, and go back and 4th between boot.ini and grub\u0027s list.  \n\nHowever, if I tried to do IO.SYS, it would go crazy and the floppy drive would spin and it would fail. Was I supposed to use an IO.SYS from Windows 98?   \n\nI\u0027m off work, so I\u0027ll resume work tomorrow.   \n"
    },
    {
      "id": "58979",
      "timestamp": "2009-02-12T08:14:23+00:00",
      "author": "was_jaclaz",
      "content": "Sorry, I forgot about the \"stupid\" 32 Gb limit of standard 2K/XP ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif) .  \nJust in case:  \n[http://tokiwa.qee.jp...tter/index.html](http://tokiwa.qee.jp/EN/Fat32Formatter/index.html \"External link\")  \n\n\u003e However, if I tried to do IO.SYS, it would go crazy and the floppy drive would spin and it would fail. Was I supposed to use an IO.SYS from Windows 98?\n\nYep ![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif), guess why the menu entry is named:  \n\u003e Grub4dos should load it\u0027s menu, by choosing entry *\"find and load **IO.SYS of Windows 9x/Me\"*** you should be able to boot to the dos prompt.\n![:poke:](http://reboot.pro/public/style_emoticons/default/poke.gif)  \n\nIf you need to use another DOS, like 6.22 or PC-DOS/DR-DOS/ROMDOS, etc., you should use a floppy or superfloppy image.  \n\nInfo/details/examples here:  \n[http://www.boot-land...?showtopic\u003d3963](http://www.boot-land.net/forums/index.php?showtopic\u003d3963 \"External link\")  \n\nAlso, you might be interested in this one:  \n[http://www.boot-land...?showtopic\u003d4260](http://www.boot-land.net/forums/index.php?showtopic\u003d4260 \"External link\")  \n\njaclaz   \n"
    },
    {
      "id": "59064",
      "timestamp": "2009-02-13T05:11:19+00:00",
      "author": "thewhitrbbit",
      "content": "I never figured out how to put the 9x/me files onto a drive so that it would work, but I was able to boot into a floppy image that had the files in it, so i\u0027m good there.  \n\nNow to work on the CD. When I tried to boot, it gave me an error 11, saying I didn\u0027t name the device right. I\u0027ll try some work arounds tomorrow.   \n"
    },
    {
      "id": "59081",
      "timestamp": "2009-02-13T08:34:00+00:00",
      "author": "was_jaclaz",
      "content": "In the proposed setup, you just copy them to root of the device, grldr or grub.exe will do the rest.  \n\nDOS 6.22 IO.SYS had the limit that it needed to be the FIRST file in the (FAT16) filesystem.  \n\nDOS 7.x/8.00 do not have this limit, though of course they need to be copied to a drive \"early enough\".  \n\njaclaz   \n"
    },
    {
      "id": "59678",
      "timestamp": "2009-02-18T02:44:22+00:00",
      "author": "thewhitrbbit",
      "content": "Just wanted to thank everyone for their help.   \n\nI was able to create the described project, including being able to auto boot ghost by using autoexec.bat   \n"
    }
  ]
}