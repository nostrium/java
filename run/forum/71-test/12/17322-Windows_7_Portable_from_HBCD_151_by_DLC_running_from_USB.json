{
  "id": "17322",
  "title": "Windows 7 Portable from HBCD 15.1 by DLC - running from USB",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "158746",
      "timestamp": "2012-08-02T11:59:32+00:00",
      "author": "graffitikomp",
      "content": "I\u0027ve got problem with booting Win portable from HBCD 15.1 rebuild DLC - it works only from CD but not from USB.  \nI\u0027ve found that it is booted by isolinux so it must be cd to run. My question is: how to emulate cd with grub/syslinux to run Win7 portable?   \n"
    },
    {
      "id": "158747",
      "timestamp": "2012-08-02T12:16:34+00:00",
      "author": "steve6375",
      "content": "Does the CD have any folders like boot or source in it? Maybe these need to be copied over?  \nIn what way does it \u0027not work\u0027?  \nWhat is the isolinux menu entry for it in the ISO?   \n"
    },
    {
      "id": "158748",
      "timestamp": "2012-08-02T12:21:42+00:00",
      "author": "graffitikomp",
      "content": "The main problem is that it\u0027s not iso.  \n\nlabel win7pe  \nmenu label Mini Windows 7 Portable  \nCOM32 /DLC1/chain.c32 ntldr\u003d/DLC1/bootw7p  \n\nThere\u0027s boot loader and folder WIM with windows7pe.wim file in it. So I think that bootw7p is loading the wim file but it can do it only if is started from cd. Am I right?   \n"
    },
    {
      "id": "158749",
      "timestamp": "2012-08-02T13:37:44+00:00",
      "author": "steve6375",
      "content": "OK, just downloaded a version. The file structure seems to be completely different!  \nCopy the entire contents of the ISO (including all top level files) to the USB.  \nRun RMPrepUSB and press F3 - run an admin command prompt from the Syslinux_3.86 folder and type the command as follows (where h: is your USB drive letter)  \n\n```\nC:Program Files (x86)RMPrepUSBSYSLINUXSyslinux_3.86\u003esyslinux.exe -f   h:  h:syslinux.bin\n```\n\n\u003cbr /\u003e\n\n**Rename** the USB isolinux.cfg file to syslinux.cfg  \n\nNow use this grub4dos menu entry...  \n\n\u003cbr /\u003e\n\n```\ntitle Hirens 15.1 DLC\n\nchainloader /syslinux.bin\n```\n\n\u003cbr /\u003e\n\nYou may also need to change the livecd filename to liveusb for some linux images to work...???   \n"
    },
    {
      "id": "158750",
      "timestamp": "2012-08-02T13:51:17+00:00",
      "author": "graffitikomp",
      "content": "Try to copy whole disk to USB and start from grub (there\u0027s menu.lst file in DLC1). Then you\u0027ll see what I\u0027m talking about.  \nI mean Windows 7 Portable only. The rest of cd works.   \n\n**Edited by graffitikomp, 02 August 2012 - 01:55 PM.**\n"
    },
    {
      "id": "158751",
      "timestamp": "2012-08-02T14:06:54+00:00",
      "author": "steve6375",
      "content": "OK - using configfile /dlc1/menu.lst and copying all files to USB from inside the ISO...  \nWin 7 portable boots and loads desktop and shows the HBCD Program Launcher app - it all looks OK to me?   \n"
    },
    {
      "id": "158752",
      "timestamp": "2012-08-02T14:11:56+00:00",
      "author": "steve6375",
      "content": "Do the **Old DOS** menu entries work for you?   \n"
    },
    {
      "id": "158758",
      "timestamp": "2012-08-02T15:11:18+00:00",
      "author": "steve6375",
      "content": "Fix for Old Dos on my site now - see end Tutorial #36.   \n"
    },
    {
      "id": "158763",
      "timestamp": "2012-08-02T16:10:45+00:00",
      "author": "graffitikomp",
      "content": "You may add tutorial for fix hbcd on usb pendrives formatted as NTFS. Dos programs don\u0027t work there, I\u0027ve added ntfsdos.exe to startup.bat and extract ntfsdos.exe to main folder of bootdisk (dos.gz).   \n\n**Edited by graffitikomp, 02 August 2012 - 04:16 PM.**\n"
    },
    {
      "id": "158766",
      "timestamp": "2012-08-02T16:44:05+00:00",
      "author": "steve6375",
      "content": "So is it all working now? What was wrong?   \n"
    },
    {
      "id": "158767",
      "timestamp": "2012-08-02T16:48:25+00:00",
      "author": "graffitikomp",
      "content": "It works now, problem was there is no ntfs drivers during load dos.gz - no ntfs \u003d no access to pendrive.   \n"
    },
    {
      "id": "158769",
      "timestamp": "2012-08-02T16:53:01+00:00",
      "author": "steve6375",
      "content": "But what was Mini Win 7 issue?   \n"
    },
    {
      "id": "158771",
      "timestamp": "2012-08-02T17:03:54+00:00",
      "author": "graffitikomp",
      "content": "Mini Win 7 still doesn\u0027t work for me/   \n"
    },
    {
      "id": "158773",
      "timestamp": "2012-08-02T17:15:00+00:00",
      "author": "steve6375",
      "content": "What is your partition arrangement and USB drive, etc. It works for me on an 8GB FAT32 Verbatim USB drive... (but not under QEMU - only from a boot on real h/w and using a USB 2 port). What problem are you seeing exactly and does mini XP work?   \n"
    },
    {
      "id": "158775",
      "timestamp": "2012-08-02T17:59:23+00:00",
      "author": "graffitikomp",
      "content": "One big partition made by RMPREPUSB, FAT32. I\u0027m trying on real h/w.  \nMini XP works perfectly, Mini Win7 gives me message:  \nWindows failed to start. A recent hardware or software change might be the cause. To fix the problem:  \n1. Insert your Windows installation disc and restart your computer  \n2. Choose your language settings and then press Next  \n3. Click Repair your computer  \n\nIf you don\u0027t have this disc, contact your system administrator or computer manufacturer for assistance.  \n\nFile: BootBC5  \n\nStatus: 0xc000000f  \n\nInfo: an error occured while attempting to read the boot configuration data   \n"
    },
    {
      "id": "158776",
      "timestamp": "2012-08-02T18:28:27+00:00",
      "author": "steve6375",
      "content": "And presumably BootBC5 exists on your USB drive (what size/type) and is not corrupted? Can you try different h/w?   \n"
    },
    {
      "id": "158777",
      "timestamp": "2012-08-02T19:10:48+00:00",
      "author": "graffitikomp",
      "content": "OK, I found. BC5 was corrupted, it\u0027s working now. Many thanks.   \n"
    },
    {
      "id": "158778",
      "timestamp": "2012-08-02T19:34:16+00:00",
      "author": "steve6375",
      "content": "![:good:](http://reboot.pro/public/style_emoticons/default/good.gif)   \n"
    },
    {
      "id": "162769",
      "timestamp": "2012-11-06T07:32:20+00:00",
      "author": "soyomofo",
      "content": "I also am having an issue with Win7 from USB. I updated to a newer and more complete version of 15.1 v2.0 and now windows 7 will not load. It gives a BlInitializeLibrary failed 0xc0000017 error. Spent the last few hours trying to find a resolution. Any help would be appreciated.   \n"
    },
    {
      "id": "166974",
      "timestamp": "2013-02-02T11:44:24+00:00",
      "author": "PcId10t",
      "content": "\u003e I also am having an issue with Win7 from USB. I updated to a newer and more complete version of 15.1 v2.0 and now windows 7 will not load. It gives a BlInitializeLibrary failed 0xc0000017 error. Spent the last few hours trying to find a resolution. Any help would be appreciated.\n\nThat is the exact same error I am having, yet to have found a resolution to it either.\n\n*++Side note:++*\n\n[steve6375](http://reboot.pro/user/17818-steve6375/ \"\") \u003d on your\n\n```\ntutorial:Â 85 - Add the O\u0026O DiskImage Professional ISO to your USB multiboot drive\n```\n\nyou may want to update that the OOLIC folder has to be @ the main directory of the USB drive or you will still get the licensing error. I only know this because before your tutorial I talked to there support team to manually put it on the USB by its self and they specified to me that ever folder and file had to be on the top directory. Thanks for that tutorial cause now I have it added to my multiboot USB drive which is what I have been trying to do for some time!\n\nHoping you can assist in the correction with this error with win7. :smile:\n\n"
    }
  ]
}