{
  "id": "13056",
  "title": "Disk Read Error on laptop startup",
  "isPinned": false,
  "isFirstTopic": false,
  "isLocked": false,
  "tags": [],
  "forumNotes": [
    {
      "id": "114000",
      "timestamp": "2010-11-16T21:45:52+00:00",
      "author": "HattersFC",
      "content": "When I started up my work laptop yesterday morning, I had about 4 BSOD\u0027s in a row and then I got the   \nmessage \"A disk read error occurred, press Ctrl-Alt-Del to restart\".  \n\nThe hardware guys drew a blank when trying to recover the data on there as the boot partition is currently unreadable, so another colleague suggested I try these forums in an effort to recover my data and he\u0027s had help from here previously to recover data from a lost partition.  \n\nSo far I\u0027ve attempted to create an image of the partition using TestDisk so I can attemopt recovery from there, but the size of the partition doesn\u0027t seem right for the size of the drive.. (90 Gb image from a 100Gb drive..)  \n\nDoes anyone have any suggestions on what I can do next? Any help would be much appreciated!  \n\nThanks...   \n"
    },
    {
      "id": "114021",
      "timestamp": "2010-11-17T03:09:21+00:00",
      "author": "skyide",
      "content": "Hello HattersPC  \n\n\u003e The hardware guys drew a blank when trying to recover the data on there as the boot partition is currently unreadable\n\nUnreadable does not mean the partition isn\u0027t there. I would try running a PE environment and see if you can access the partition from there. If you can see the drive letter but can\u0027t access it, try running checkdsk on it or right click the drive, select Tools and select Check Now under Error Checking. Make sure both check boxes are selected. It will take hours....If the partition has been formatted or badlly formatted, you can try Easus Data Recovery Wizard. I successfully recovered files from a formated USB partition. [http://www.easeus.co...ry-software.htm](http://www.easeus.com/datarecoverywizard/free-data-recovery-software.htm \"External link\").  \n\nI did not have any luck with \\*any\\* of the mini free tools mentioned on the penadriveapps web site. Absolutely useless. I did not try TestDisks though...But you might have better luck...  \n\n\u003cbr /\u003e\n\nYou can also try [http://www.easeus.co...ition-recovery/](http://www.easeus.com/partition-recovery/ \"External link\").  \n\n\u003e but the size of the partition doesn\u0027t seem right for the size of the drive.. (90 Gb image from a 100Gb drive..)\n\nAgain, many of the mini free disk imagers I tried, failed right here. However, Paragon\u0027s Hard Disk Manager has an option to automatically resize the partitions to match the new partition size. This means, you can restore an image of a partition with size 100GB on a new 90GB partition if only 50GB are occupied for instance.   \n\n**Edited by skyide, 17 November 2010 - 03:13 AM.**\n"
    },
    {
      "id": "114025",
      "timestamp": "2010-11-17T04:58:31+00:00",
      "author": "skyide",
      "content": "\u003e but the size of the partition doesn\u0027t seem right for the size of the drive.. (90 Gb image from a 100Gb drive..)\n\nOk I misunderstood what you said, 90 Gb image from a 100Gb drive. Are the whole 90GB filled with files? If not and it is just free space then to me it looks like your imaging software has done a terribly bad job at ignoring free space and doing a bad job at compression. Paragon Hard Disk Manager created an 8GB image out of a 30GB flash drive. About 15GB of it is unallocated space and the rest is mixed, allocated/partitioned with files and plenty of free space. Perhaps those 90GB are in fact used, filled with files?   \n\n**Edited by skyide, 17 November 2010 - 04:59 AM.**\n"
    },
    {
      "id": "114031",
      "timestamp": "2010-11-17T08:27:31+00:00",
      "author": "HattersFC",
      "content": "\u003e Ok I misunderstood what you said, 90 Gb image from a 100Gb drive. Are the whole 90GB filled with files? If not and it is just free space then to me it looks like your imaging software has done a terribly bad job at ignoring free space and doing a bad job at compression. Paragon Hard Disk Manager created an 8GB image out of a 30GB flash drive. About 15GB of it is unallocated space and the rest is mixed, allocated/partitioned with files and plenty of free space. Perhaps those 90GB are in fact used, filled with files?\n\nHi Skyide,  \n\nThanks for the pointers, I\u0027ll give them a go and see what I come up with.   \n"
    },
    {
      "id": "114035",
      "timestamp": "2010-11-17T09:57:55+00:00",
      "author": "skyide",
      "content": "\u003e Hi Skyide,  \n\u003e\n\u003e Thanks for the pointers, I\u0027ll give them a go and see what I come up with.\n\nI gave Easus Partition Wizard a very good review on C\\|Net. It saved my menu.lst ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif) However I am a bit disappointed with their Backup/Restore Imaging software. It produced errors when restoring an image created of a 29.8GB Flash Drive to a 29.X (slightly lower in size). Again, Paragon Hard Disk Manager had no problems with this as it resized the free unallocated space equally. I have been using HDM for years to restore XP on my old system. It never failed. I am tempted to buy the whole suite as it comes with a Win PE version too. The free one comes with Linux Live version which is what I used to restore my XP partition. It always worked. I cannot praise enough this product. I am so very happy with it (so far).   \n\n**Edited by skyide, 17 November 2010 - 09:58 AM.**\n"
    },
    {
      "id": "114042",
      "timestamp": "2010-11-17T11:04:24+00:00",
      "author": "Wonko the Sane",
      "content": "Use this app (and nothing else) to image the drive:  \nDatarescue DD  \n[http://www.boot-land...?showtopic\u003d7783](http://www.boot-land.net/forums/index.php?showtopic\u003d7783 \"External link\")  \n[http://www.datarescu...cue/v3/drdd.htm](http://www.datarescue.com/photorescue/v3/drdd.htm \"External link\")  \n\nWhen recovering data, use data recovery oriented apps and NOT \"generic\" apps, expecially Commercial ones that \"expect\" a sound drive/filesystem source AND may behave strangely (and in undocumented ways) when and if errors are found.  \n\nOnce you have the image, extract from it the MBR (first sector), compress it in a .zip or .7z file, upload it somewhere and post a link to it.  \n\nRight now the approach is aimed to \"filesystem recovery\" (please read as TESTDISK) and NOT (yet :wink:) to \"file recovery\" (please read as PHOTOREC).  \n\nThen, run TESTDISK on the Image, make sure you use a LOG.  \n\nDO NOT write any change to the image, but post the LOG also.  \n\n![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nWonko   \n"
    },
    {
      "id": "114044",
      "timestamp": "2010-11-17T11:31:12+00:00",
      "author": "HattersFC",
      "content": "Hi Wonko,  \n\nThanks for the advice ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)   \n\nI had already created an image using TestDisk, but will try with the tool suggested.  \nCould the fact I\u0027ve already imaged the drive before cause any problems?   \n(I haven\u0027t tried to write to the drive at all since it went bad)   \n"
    },
    {
      "id": "114045",
      "timestamp": "2010-11-17T11:36:35+00:00",
      "author": "skyide",
      "content": "\u003e Use this app (and nothing else) to image the drive:  \n\u003e Datarescue DD  \n\u003e [http://www.boot-land...?showtopic\u003d7783](http://www.boot-land.net/forums/index.php?showtopic\u003d7783 \"External link\")  \n\u003e [http://www.datarescu...cue/v3/drdd.htm](http://www.datarescue.com/photorescue/v3/drdd.htm \"External link\")  \n\u003e\n\u003e When recovering data, use data recovery oriented apps and NOT \"generic\" apps, expecially Commercial ones that \"expect\" a sound drive/filesystem source AND may behave strangely (and in undocumented ways) when and if errors are found.  \n\u003e\n\u003e Once you have the image, extract from it the MBR (first sector), compress it in a .zip or .7z file, upload it somewhere and post a link to it.  \n\u003e\n\u003e Right now the approach is aimed to \"filesystem recovery\" (please read as TESTDISK) and NOT (yet :wink:) to \"file recovery\" (please read as PHOTOREC).  \n\u003e\n\u003e Then, run TESTDISK on the Image, make sure you use a LOG.  \n\u003e\n\u003e DO NOT write any change to the image, but post the LOG also.  \n\u003e\n\u003e ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \n\u003e Wonko\n\nHmm I haven\u0027t heard of this tool before. Looks/sounds interesting.... I am wondering if there is any way to compare the contents of the two USB drives I have in a sector by sector fashion so I can see whether there are any variations in the used areas.....   \n"
    },
    {
      "id": "114046",
      "timestamp": "2010-11-17T11:50:21+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I am wondering if there is any way to compare the contents of the two USB drives I have in a sector by sector fashion so I can see whether there are any variations in the used areas.....\nThe whole idea of \"dd like\" or \"forensic sound\" imaging is to have a sector by sector copy of the original.  \n\nTo determine whether two images (or the image and the source) are identical, you can hash them (it will be quicker).  \n\nOr use a hex/disk editor and compare them.  \n\nResults with USB pendrives with wear leveling ***may*** be inconsistent.  \n\nPlease DO not quote WHOLE posts when replying.  \n\nPlease, this thread was started by **HattersFC** and is aimed to help him resolve ***his*** problem.  \n\nIf you need help or wish to talk about imaging programs, how to use them, what are correct procedures, etc, or for any problem ***you*** have, start a new thread aptly titled.  \n\n@HAttersFC  \nNo, unless the drive is dying mechanically, no harm is done.  \nFrom what I can gather from the scarce details you posted you only have a partition/filesystem corruption of some kind and the disk drive is fully operational.  \n\n\u003cbr /\u003e\n\n![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nWonko   \n"
    },
    {
      "id": "114053",
      "timestamp": "2010-11-17T13:22:24+00:00",
      "author": "HattersFC",
      "content": "\u003e The whole idea of \"dd like\" or \"forensic sound\" imaging is to have a sector by sector copy of the original.  \n\u003e\n\u003e @HAttersFC  \n\u003e No, unless the drive is dying mechanically, no harm is done.  \n\u003e From what I can gather from the scarce details you posted you only have a partition/filesystem corruption of some kind and the disk drive is fully operational.  \n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003e ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \n\u003e Wonko\n\nWonko,  \n\nWhat further details do you require - is the below sufficient?  \n\nAs far as I remember, there was only one (NTFS) partition on the disk, set up through Vista. I\u0027m not sure the exact size of the partition, but as previously stated the advertised disk capacity is 100Gb.  \n\nIf it helps, it\u0027s a Hitachi HTS722010K9SA00, the spec on the drive lists 16383cyl,16 heads,63secs/t...  \n\nThe previous image created through TestDisk is 91.1Gb in size.. Though there were a LOT of read errors in the log file...  \n\nThe DrDD is currently underway, and is encountering numerous errors stating:  \nRead Error at nnnnnnnnn : The semaphore timeout period has expired   \n\nWhere nnnnnnnnn looks to be a drive location of some kind, e.g. 1b7b40000.  \nThe image job is still running.  \n\n\u003cbr /\u003e\n\nI\u0027ve posted the log from the initial TestDisk image I created [here](http://rapidshare.com/files/431393650/testdisk-image.rar \"External link\")  \n\nIf there\u0027s any other information that might be useful, let me know.   \n"
    },
    {
      "id": "114066",
      "timestamp": "2010-11-17T17:26:12+00:00",
      "author": "HattersFC",
      "content": "OK, so the DrDD image job is still running; looks like it will be running over night too..   \nWhen it\u0027s finished I\u0027ll run the image through TD.  \n\nIn the mean time, I ran TestDisk on the image I had previously created with TestDisk itself, and have attached the results, if these might help to find out how badly messed up the disk is :-s  \n\n[TestDisk Image Analysis](http://rapidshare.com/files/431435714/testdisk-image-analysis.log \"External link\")   \n"
    },
    {
      "id": "114078",
      "timestamp": "2010-11-17T20:34:35+00:00",
      "author": "Wonko the Sane",
      "content": "Be very careful with partition alignment. (drive partitioned under Vista, and probably a non-patched to the old standard one)  \n\nPlease review this thread:  \n[http://www.msfn.org/...howtopic\u003d145574](http://www.msfn.org/board/index.php?showtopic\u003d145574 \"External link\")  \nparticularly:  \n[http://www.msfn.org/...o...45574\\\u0026st\u003d28](http://www.msfn.org/board/index.php?showtopic\u003d145574\u0026st\u003d28 \"External link\")  \n\n\u003cbr /\u003e\n\nThe TESTDISK log is enough to show that some problems do exist, like this:  \n\u003e Drive F: - 93 GB / 86 GiB - CHS 24100 120 63, sector size\u003d512\nusual CHS geometry under any 2K and later NT based OS is 255/63 and not 120/63.  \nThe 16/63 is the actual hard disk geometry, that may (or may not) have been used by the Vista (I have never seen it used, but there is always a first time)..  \n\nAll the rest seems to imply that there is mostly junk in the MBR, but as said, I would like to have a look at it.  \n\nThe idea of datarescue DD is to check if a given area gives errors, then do a partial image just up to that area where the errors begin, then try to read from past that area backwards.  \nThis maximize the probabilities of recovering more sectors.  \n\nLetting it run all night long unattended won\u0027t probably give you any better results than any normal dd-like imaging app.  \n\n![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nWonko   \n"
    },
    {
      "id": "114110",
      "timestamp": "2010-11-18T09:46:52+00:00",
      "author": "HattersFC",
      "content": "\u003e Be very careful with partition alignment. (drive partitioned under Vista, and probably a non-patched to the old standard one)  \n\u003e\n\u003e Please review this thread:  \n\u003e [http://www.msfn.org/...howtopic\u003d145574](http://www.msfn.org/board/index.php?showtopic\u003d145574 \"External link\")  \n\u003e particularly:  \n\u003e [http://www.msfn.org/...o...45574\\\u0026st\u003d28](http://www.msfn.org/board/index.php?showtopic\u003d145574\u0026st\u003d28 \"External link\")\n\nThanks Wonko, I\u0027m reading through this thread now.  \n\n\u003e All the rest seems to imply that there is mostly junk in the MBR, but as said, I would like to have a look at it.\n\nHere\u0027s a link to what I hope is an extract of the MBR from the first image I created using TestDisk ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)   \n[http://rapidshare.co...mbr-sectors.zip](http://rapidshare.com/files/431571796/mbr-sectors.zip \"External link\")  \n\nIf you need anything else, please let me know and again, thank you for your help! ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)   \n"
    },
    {
      "id": "114120",
      "timestamp": "2010-11-18T13:27:48+00:00",
      "author": "Wonko the Sane",
      "content": "That is 120000 bytes starting from first sector of the partition. (i.e. starting from first sector of \\\\\\\\Logicaldrive) or in other words the first sector of the file is the PBR or bootsector.  \n\nI can already see problems in it.  \n\nThe $MFTMirr is in a position that is - to say the least - \"queer\", on 2nd cluster.  \n\nAnd the disk \"label\" seems like garbage.  \n\nNothing too bad, from the little I have seen, though. :wink:  \n\nBut what I asked is first sector of the \\\\\\\\.\\\\Physicaldrive, i.e. the MBR.  \n\nThe data in the bootsector at first sight, is that of a partition starting at sector 13169520 (doubtly first partition).  \nIt shows that before it there is a partitionaround 6 Gb in size.  \nThe sectors in the partition are 182195999, i.e. 93,284,351,488.  \n\nMost probably you imaged with Testdisk the \\\\\\\\.\\\\LogicalDrive AND NOT the \"\\\\\\\\.\\\\PhysicalDrive (or \"WHOLE\" disk).  \n\n\u003cbr /\u003e\n\nIf and when dd datarescue ends, just run hdhacker on the actual drive:  \n[http://dimio.altervi.../eng/index.html](http://dimio.altervista.org/eng/index.html \"External link\")  \n\nI want the first sector of \\\\\\\\.\\\\Physicaldrive and, while you are at it, first 16 sectors of all (if any) \\\\\\\\.\\\\LogicalDrive\u0027s  \n\n![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nWonko   \n"
    },
    {
      "id": "114122",
      "timestamp": "2010-11-18T14:31:17+00:00",
      "author": "HattersFC",
      "content": "OK... I\u0027ve run HDHacker on the original drive as instructed.  \nThe is located here: [http://rapidshare.co...R_HardDisk2.dat](http://rapidshare.com/files/431622349/MBR_HardDisk2.dat \"External link\")  \n\nI\u0027m working on the logical drives, however the drive keeps disappearing from Windows and then can\u0027t be accessed in TestDisk etc.. ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)   \nOnce I have them, I\u0027ll post them here too.  \n\nGoing back to the CHS geometry from earlier, and if this helps at all, I opened TestDisk this morning and it reported the drive with CHS of 12162 255 63, but with a warning that the number of heads was incorrect..   \n"
    },
    {
      "id": "114143",
      "timestamp": "2010-11-18T22:05:48+00:00",
      "author": "Wonko the Sane",
      "content": "That hard disk must have some stories to tell.  \nAs expected there is a first, hidden (0x27) partition.  \nThe MBR CODE is an Altiris one.  \n\nHow did the ddrescue image come out?  \n\nFrom what you say that hard disk has some intermittent problem (heat related?), another reason to image it in \"sections\" (if the \"whole image\" you attempted overnight failed).  \n\nFrom the bits I have seen there is no particular \"logical\" failure in the partitioning or the filesystem (though as said the choice for the $MFTmirr location is \"queer\".  \n\nThe problem you experienced is due more to the dying hard disk than anything in the structure.  \n\nThe more sectors you can get through ddrescue, the more we can get back as data.  \n\n![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nWonko   \n"
    },
    {
      "id": "114154",
      "timestamp": "2010-11-18T23:08:28+00:00",
      "author": "HattersFC",
      "content": "\u003e How did the ddrescue image come out?\nAnnoyingly, the laptop I am using at work for recovery went into Hibernate, so the image failed..  \nStupid, I should\u0027ve checked that.. But, I did get another image today through TestDisk..  \n\n\u003e From what you say that hard disk has some intermittent problem (heat related?), another reason to image it in \"sections\" (if the \"whole image\" you attempted overnight failed).  \n\u003e The more sectors you can get through ddrescue, the more we can get back as data.\n\nIt\u0027s a weird problem, when I first connect the drive, it appears in Explorer with a drive letter, though \"unformatted\".. Then after analysing it in TestDisk or attempting an image, in *x* program, the drive disappears!  \n\nFrom what I\u0027ve seen I\u0027m assuming DrDD is the best for section-by-section recovery of the drive..  \nThis may seem elementary, but does this mean splitting the drive into sections and recovering section, by section? I just want to make sure I am not barking up the wrong tree. :-s   \n"
    },
    {
      "id": "114155",
      "timestamp": "2010-11-18T23:31:49+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e It\u0027s a weird problem, when I first connect the drive, it appears in Explorer with a drive letter, though \"unformatted\".. Then after analysing it in TestDisk or attempting an image, in *x* program, the drive disappears!\nExactly.  \n\n\u003e From what I\u0027ve seen I\u0027m assuming DrDD is the best for section-by-section recovery of the drive..  \n\u003e This may seem elementary, but does this mean splitting the drive into sections and recovering section, by section? I just want to make sure I am not barking up the wrong tree. :-s\nOw, come on, it\u0027s not brain surgery, after all.  \nSay you have a very small disk, containing 100 sectors.  \nAn image of it is an EXACT copy of it.  \nThis means that the image MUST contain ALL sectors from LBA 0 to 99.  \nNow imagine that a mad hatter has made so that the disk will disconnect after you have imaged a random number of sectors **n** where 30\\\u003c***n*** \\\u003c100  \nNow what would be your approach.  \nInsist on using an imaging app that ALWAYS starts from 0 and hope to be lucky and get, before or later ***n*** \u003d100 or you are more towards attempting imaging:  \n\n* sectors 0-29\n* sectors 30-59\n* sectors 60-99\n\nand then join these segments together?  \n:wink:  \n\nIf one or more sectors simply cannot be read, you replace it/them with a blank one.  \n\nSee here for a possibly easier but more exhaustive explanation:  \n[http://www.boot-land...showtopic\u003d11434](http://www.boot-land.net/forums/index.php?showtopic\u003d11434 \"External link\")  \n\n![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nWonko   \n"
    },
    {
      "id": "114217",
      "timestamp": "2010-11-19T17:26:41+00:00",
      "author": "HattersFC",
      "content": "I see now, sorry for the slow uptake... ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nThanks for your patience.  \n\nI am running a full \"back-to-front\" image of the drive at the moment..  \nIt has, as expected slowed down to a crawl, around 97% complete.   \n\nWhen the image is finished, what are the next steps I need to perform?   \n"
    },
    {
      "id": "114255",
      "timestamp": "2010-11-19T23:12:51+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I am running a **full** \"back-to-front\" image of the drive at the moment..\n\nPerfect, **EXACTLY** what I tried every which way I could to explain that it was NOT advised. ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \n\nSometimes I think that my English has become sub-standard when it comes to make myself clear on these kind of things.  \n\nThe original message sent was (in case of failing/defective hard disks):  \n\n* DO NOT make A FULL image unattended \"forward\"\n* DO NOT make a FULL image unattended \"backwards\"\n* DO NOT make a FULL image unattended\n* DO NOT make a FULL image\n* **BUT INSTEAD**   \n* do an ATTENDED attempt \"forward\" and, as soon as you hit a \"bad area\" STOP the imaging, check where the imaging stopped, if needed re-do a partial image until the first bad sector found (if not a single one), \"skip\" a \"reasonable amount of sectors and do another partial image until you hit next \"bad area\".\n* Once you have finished the above and reached the end of the disk, try \"filling the gaps\" going backwards.\n* Finally re-assemble the full image by joining the partial images you made adding if needed blank sectors to replace the unreadable/missing parts.\n\n\u003cbr /\u003e\n\n\u003cbr /\u003e\n\n\u003e It has, as expected slowed down to a crawl, around 97% complete.   \n\u003e\n\u003e When the image is finished, what are the next steps I need to perform?\nLet\u0027s wait 100%.  \nFrom what I have seen most probably a simple chkdsk may be able to fix the filesystem, but there is NO way to know the result of an experiment until we have something to experiment with...![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \n\n:wink:  \nWonko   \n"
    },
    {
      "id": "114521",
      "timestamp": "2010-11-22T17:19:35+00:00",
      "author": "HattersFC",
      "content": "\u003e Perfect, **EXACTLY** what I tried every which way I could to explain that it was NOT advised. ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)\n\nOops... ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png) Not much I can say about that, I should\u0027ve being paying more attention to what I was reading.  \n\n\u003e The original message sent was (in case of failing/defective hard disks):  \n\u003e\n\u003e * DO NOT make A FULL image unattended \"forward\"\n\u003e * DO NOT make a FULL image unattended \"backwards\"\n\u003e * DO NOT make a FULL image unattended\n\u003e * DO NOT make a FULL image\n\u003e * **BUT INSTEAD**   \n\u003e * do an ATTENDED attempt \"forward\" and, as soon as you hit a \"bad area\" STOP the imaging, check where the imaging stopped, if needed re-do a partial image until the first bad sector found (if not a single one), \"skip\" a \"reasonable amount of sectors and do another partial image until you hit next \"bad area\".\n\u003e * Once you have finished the above and reached the end of the disk, try \"filling the gaps\" going backwards.\n\u003e * Finally re-assemble the full image by joining the partial images you made adding if needed blank sectors to replace the unreadable/missing parts.\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003cbr /\u003e\n\nI am currently following the above steps and will report back once complete, or if I have any questions.  \n\nOnce again, thank you for your help.   \n"
    },
    {
      "id": "114524",
      "timestamp": "2010-11-22T17:25:48+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I am currently following the above steps and will report back once complete, or if I have any questions.\nThat should mean that the \"full backwards\" image failed also? ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png) ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \n\n![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \nWonko   \n"
    },
    {
      "id": "114526",
      "timestamp": "2010-11-22T17:36:27+00:00",
      "author": "HattersFC",
      "content": "\u003e That should mean that the \"full backwards\" image failed also? ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png) ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)\n\nAh, the backwards image, (I should\u0027ve mentioned that in my previous post), it  \nactually completed, with a lot of read errors, the resulting image is 97Gb in size.   \n"
    },
    {
      "id": "114531",
      "timestamp": "2010-11-22T18:19:11+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Ah, the backwards image, (I should\u0027ve mentioned that in my previous post), it  \n\u003e actually completed, with a lot of read errors, the resulting image is 97Gb in size.\n\n97 Gb is not a \"number\" ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png) (I mean not an accurate enough one ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)).   \n\"a lot\" is also not a number. (knowing how many read errors you have and in which areas - LBA addresses - would help)  \n\nA suitable image to work on needs to be AT LEAST:  \n\n* 2,048 (hidden sectors, including the MBR)\n* 13,167,472 (sectors in the first, hidden 0x27 type partition)\n* 182,196,000 (sectors in the second, 0x07 type partition)\n\n\u003cbr /\u003e\n\ni.e. 2,048+13,167,472+182,196,000\u003d 195,365,520 sectors  \n195,365,520 x 512\u003d 100,027,146,240 bytes  \n\nNow, if the image is the above size (or bigger) we can try working on it, if it is smaller than that it cannot be possibly of use.  \n\n![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \nWonko   \n"
    },
    {
      "id": "114587",
      "timestamp": "2010-11-23T10:12:27+00:00",
      "author": "HattersFC",
      "content": "\u003e 97 Gb is not a \"number\" :smile: (I mean not an accurate enough one :smile:).\n\nGood point, so to be more accurate...  \n\nWhen the image is viewed in Explorer (which is less than accurate :smile: ) the size is reported as 97,683,233Kb.  \n\nWhen viewing the file properties:  \n\nSize: 93.1 GB (100,027,630,080 bytes)  \nSize on Disk: 93.1 GB (100,027,633,664 bytes)  \n\nNow, assuming that the number of sectors reported for the physical drive in DrDD is correct, 195,366,465, then following your calculation of :  \n\nsectors\\*512 bytes  \n\n195,366,465 \\* 512 \u003d 100,027,630,080 bytes.  \n\nWhich I\u0027m hoping... means we\u0027re a little closer to being able to recovery.  \n:smile:   \n\n\u003e \"a lot\" is also not a number. (knowing how many read errors you have and in which areas - LBA addresses - would help)\n\nI will work on this today.   \n"
    },
    {
      "id": "114000",
      "timestamp": "2010-11-16T21:45:52+00:00",
      "author": "HattersFC",
      "content": "When I started up my work laptop yesterday morning, I had about 4 BSOD\u0027s in a row and then I got the   \nmessage \"A disk read error occurred, press Ctrl-Alt-Del to restart\".  \n\nThe hardware guys drew a blank when trying to recover the data on there as the boot partition is currently unreadable, so another colleague suggested I try these forums in an effort to recover my data and he\u0027s had help from here previously to recover data from a lost partition.  \n\nSo far I\u0027ve attempted to create an image of the partition using TestDisk so I can attemopt recovery from there, but the size of the partition doesn\u0027t seem right for the size of the drive.. (90 Gb image from a 100Gb drive..)  \n\nDoes anyone have any suggestions on what I can do next? Any help would be much appreciated!  \n\nThanks...   \n"
    },
    {
      "id": "114021",
      "timestamp": "2010-11-17T03:09:21+00:00",
      "author": "skyide",
      "content": "Hello HattersPC  \n\n\u003e The hardware guys drew a blank when trying to recover the data on there as the boot partition is currently unreadable\n\nUnreadable does not mean the partition isn\u0027t there. I would try running a PE environment and see if you can access the partition from there. If you can see the drive letter but can\u0027t access it, try running checkdsk on it or right click the drive, select Tools and select Check Now under Error Checking. Make sure both check boxes are selected. It will take hours....If the partition has been formatted or badlly formatted, you can try Easus Data Recovery Wizard. I successfully recovered files from a formated USB partition. [http://www.easeus.co...ry-software.htm](http://www.easeus.com/datarecoverywizard/free-data-recovery-software.htm \"External link\").  \n\nI did not have any luck with \\*any\\* of the mini free tools mentioned on the penadriveapps web site. Absolutely useless. I did not try TestDisks though...But you might have better luck...  \n\n\u003cbr /\u003e\n\nYou can also try [http://www.easeus.co...ition-recovery/](http://www.easeus.com/partition-recovery/ \"External link\").  \n\n\u003e but the size of the partition doesn\u0027t seem right for the size of the drive.. (90 Gb image from a 100Gb drive..)\n\nAgain, many of the mini free disk imagers I tried, failed right here. However, Paragon\u0027s Hard Disk Manager has an option to automatically resize the partitions to match the new partition size. This means, you can restore an image of a partition with size 100GB on a new 90GB partition if only 50GB are occupied for instance.   \n\n**Edited by skyide, 17 November 2010 - 03:13 AM.**\n"
    },
    {
      "id": "114025",
      "timestamp": "2010-11-17T04:58:31+00:00",
      "author": "skyide",
      "content": "\u003e but the size of the partition doesn\u0027t seem right for the size of the drive.. (90 Gb image from a 100Gb drive..)\n\nOk I misunderstood what you said, 90 Gb image from a 100Gb drive. Are the whole 90GB filled with files? If not and it is just free space then to me it looks like your imaging software has done a terribly bad job at ignoring free space and doing a bad job at compression. Paragon Hard Disk Manager created an 8GB image out of a 30GB flash drive. About 15GB of it is unallocated space and the rest is mixed, allocated/partitioned with files and plenty of free space. Perhaps those 90GB are in fact used, filled with files?   \n\n**Edited by skyide, 17 November 2010 - 04:59 AM.**\n"
    },
    {
      "id": "114031",
      "timestamp": "2010-11-17T08:27:31+00:00",
      "author": "HattersFC",
      "content": "\u003e Ok I misunderstood what you said, 90 Gb image from a 100Gb drive. Are the whole 90GB filled with files? If not and it is just free space then to me it looks like your imaging software has done a terribly bad job at ignoring free space and doing a bad job at compression. Paragon Hard Disk Manager created an 8GB image out of a 30GB flash drive. About 15GB of it is unallocated space and the rest is mixed, allocated/partitioned with files and plenty of free space. Perhaps those 90GB are in fact used, filled with files?\n\nHi Skyide,  \n\nThanks for the pointers, I\u0027ll give them a go and see what I come up with.   \n"
    },
    {
      "id": "114035",
      "timestamp": "2010-11-17T09:57:55+00:00",
      "author": "skyide",
      "content": "\u003e Hi Skyide,  \n\u003e\n\u003e Thanks for the pointers, I\u0027ll give them a go and see what I come up with.\n\nI gave Easus Partition Wizard a very good review on C\\|Net. It saved my menu.lst ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif) However I am a bit disappointed with their Backup/Restore Imaging software. It produced errors when restoring an image created of a 29.8GB Flash Drive to a 29.X (slightly lower in size). Again, Paragon Hard Disk Manager had no problems with this as it resized the free unallocated space equally. I have been using HDM for years to restore XP on my old system. It never failed. I am tempted to buy the whole suite as it comes with a Win PE version too. The free one comes with Linux Live version which is what I used to restore my XP partition. It always worked. I cannot praise enough this product. I am so very happy with it (so far).   \n\n**Edited by skyide, 17 November 2010 - 09:58 AM.**\n"
    },
    {
      "id": "114042",
      "timestamp": "2010-11-17T11:04:24+00:00",
      "author": "Wonko the Sane",
      "content": "Use this app (and nothing else) to image the drive:  \nDatarescue DD  \n[http://www.boot-land...?showtopic\u003d7783](http://www.boot-land.net/forums/index.php?showtopic\u003d7783 \"External link\")  \n[http://www.datarescu...cue/v3/drdd.htm](http://www.datarescue.com/photorescue/v3/drdd.htm \"External link\")  \n\nWhen recovering data, use data recovery oriented apps and NOT \"generic\" apps, expecially Commercial ones that \"expect\" a sound drive/filesystem source AND may behave strangely (and in undocumented ways) when and if errors are found.  \n\nOnce you have the image, extract from it the MBR (first sector), compress it in a .zip or .7z file, upload it somewhere and post a link to it.  \n\nRight now the approach is aimed to \"filesystem recovery\" (please read as TESTDISK) and NOT (yet :wink:) to \"file recovery\" (please read as PHOTOREC).  \n\nThen, run TESTDISK on the Image, make sure you use a LOG.  \n\nDO NOT write any change to the image, but post the LOG also.  \n\n![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nWonko   \n"
    },
    {
      "id": "114044",
      "timestamp": "2010-11-17T11:31:12+00:00",
      "author": "HattersFC",
      "content": "Hi Wonko,  \n\nThanks for the advice ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)   \n\nI had already created an image using TestDisk, but will try with the tool suggested.  \nCould the fact I\u0027ve already imaged the drive before cause any problems?   \n(I haven\u0027t tried to write to the drive at all since it went bad)   \n"
    },
    {
      "id": "114045",
      "timestamp": "2010-11-17T11:36:35+00:00",
      "author": "skyide",
      "content": "\u003e Use this app (and nothing else) to image the drive:  \n\u003e Datarescue DD  \n\u003e [http://www.boot-land...?showtopic\u003d7783](http://www.boot-land.net/forums/index.php?showtopic\u003d7783 \"External link\")  \n\u003e [http://www.datarescu...cue/v3/drdd.htm](http://www.datarescue.com/photorescue/v3/drdd.htm \"External link\")  \n\u003e\n\u003e When recovering data, use data recovery oriented apps and NOT \"generic\" apps, expecially Commercial ones that \"expect\" a sound drive/filesystem source AND may behave strangely (and in undocumented ways) when and if errors are found.  \n\u003e\n\u003e Once you have the image, extract from it the MBR (first sector), compress it in a .zip or .7z file, upload it somewhere and post a link to it.  \n\u003e\n\u003e Right now the approach is aimed to \"filesystem recovery\" (please read as TESTDISK) and NOT (yet :wink:) to \"file recovery\" (please read as PHOTOREC).  \n\u003e\n\u003e Then, run TESTDISK on the Image, make sure you use a LOG.  \n\u003e\n\u003e DO NOT write any change to the image, but post the LOG also.  \n\u003e\n\u003e ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \n\u003e Wonko\n\nHmm I haven\u0027t heard of this tool before. Looks/sounds interesting.... I am wondering if there is any way to compare the contents of the two USB drives I have in a sector by sector fashion so I can see whether there are any variations in the used areas.....   \n"
    },
    {
      "id": "114046",
      "timestamp": "2010-11-17T11:50:21+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I am wondering if there is any way to compare the contents of the two USB drives I have in a sector by sector fashion so I can see whether there are any variations in the used areas.....\nThe whole idea of \"dd like\" or \"forensic sound\" imaging is to have a sector by sector copy of the original.  \n\nTo determine whether two images (or the image and the source) are identical, you can hash them (it will be quicker).  \n\nOr use a hex/disk editor and compare them.  \n\nResults with USB pendrives with wear leveling ***may*** be inconsistent.  \n\nPlease DO not quote WHOLE posts when replying.  \n\nPlease, this thread was started by **HattersFC** and is aimed to help him resolve ***his*** problem.  \n\nIf you need help or wish to talk about imaging programs, how to use them, what are correct procedures, etc, or for any problem ***you*** have, start a new thread aptly titled.  \n\n@HAttersFC  \nNo, unless the drive is dying mechanically, no harm is done.  \nFrom what I can gather from the scarce details you posted you only have a partition/filesystem corruption of some kind and the disk drive is fully operational.  \n\n\u003cbr /\u003e\n\n![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nWonko   \n"
    },
    {
      "id": "114053",
      "timestamp": "2010-11-17T13:22:24+00:00",
      "author": "HattersFC",
      "content": "\u003e The whole idea of \"dd like\" or \"forensic sound\" imaging is to have a sector by sector copy of the original.  \n\u003e\n\u003e @HAttersFC  \n\u003e No, unless the drive is dying mechanically, no harm is done.  \n\u003e From what I can gather from the scarce details you posted you only have a partition/filesystem corruption of some kind and the disk drive is fully operational.  \n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003e ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \n\u003e Wonko\n\nWonko,  \n\nWhat further details do you require - is the below sufficient?  \n\nAs far as I remember, there was only one (NTFS) partition on the disk, set up through Vista. I\u0027m not sure the exact size of the partition, but as previously stated the advertised disk capacity is 100Gb.  \n\nIf it helps, it\u0027s a Hitachi HTS722010K9SA00, the spec on the drive lists 16383cyl,16 heads,63secs/t...  \n\nThe previous image created through TestDisk is 91.1Gb in size.. Though there were a LOT of read errors in the log file...  \n\nThe DrDD is currently underway, and is encountering numerous errors stating:  \nRead Error at nnnnnnnnn : The semaphore timeout period has expired   \n\nWhere nnnnnnnnn looks to be a drive location of some kind, e.g. 1b7b40000.  \nThe image job is still running.  \n\n\u003cbr /\u003e\n\nI\u0027ve posted the log from the initial TestDisk image I created [here](http://rapidshare.com/files/431393650/testdisk-image.rar \"External link\")  \n\nIf there\u0027s any other information that might be useful, let me know.   \n"
    },
    {
      "id": "114066",
      "timestamp": "2010-11-17T17:26:12+00:00",
      "author": "HattersFC",
      "content": "OK, so the DrDD image job is still running; looks like it will be running over night too..   \nWhen it\u0027s finished I\u0027ll run the image through TD.  \n\nIn the mean time, I ran TestDisk on the image I had previously created with TestDisk itself, and have attached the results, if these might help to find out how badly messed up the disk is :-s  \n\n[TestDisk Image Analysis](http://rapidshare.com/files/431435714/testdisk-image-analysis.log \"External link\")   \n"
    },
    {
      "id": "114078",
      "timestamp": "2010-11-17T20:34:35+00:00",
      "author": "Wonko the Sane",
      "content": "Be very careful with partition alignment. (drive partitioned under Vista, and probably a non-patched to the old standard one)  \n\nPlease review this thread:  \n[http://www.msfn.org/...howtopic\u003d145574](http://www.msfn.org/board/index.php?showtopic\u003d145574 \"External link\")  \nparticularly:  \n[http://www.msfn.org/...o...45574\\\u0026st\u003d28](http://www.msfn.org/board/index.php?showtopic\u003d145574\u0026st\u003d28 \"External link\")  \n\n\u003cbr /\u003e\n\nThe TESTDISK log is enough to show that some problems do exist, like this:  \n\u003e Drive F: - 93 GB / 86 GiB - CHS 24100 120 63, sector size\u003d512\nusual CHS geometry under any 2K and later NT based OS is 255/63 and not 120/63.  \nThe 16/63 is the actual hard disk geometry, that may (or may not) have been used by the Vista (I have never seen it used, but there is always a first time)..  \n\nAll the rest seems to imply that there is mostly junk in the MBR, but as said, I would like to have a look at it.  \n\nThe idea of datarescue DD is to check if a given area gives errors, then do a partial image just up to that area where the errors begin, then try to read from past that area backwards.  \nThis maximize the probabilities of recovering more sectors.  \n\nLetting it run all night long unattended won\u0027t probably give you any better results than any normal dd-like imaging app.  \n\n![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nWonko   \n"
    },
    {
      "id": "114110",
      "timestamp": "2010-11-18T09:46:52+00:00",
      "author": "HattersFC",
      "content": "\u003e Be very careful with partition alignment. (drive partitioned under Vista, and probably a non-patched to the old standard one)  \n\u003e\n\u003e Please review this thread:  \n\u003e [http://www.msfn.org/...howtopic\u003d145574](http://www.msfn.org/board/index.php?showtopic\u003d145574 \"External link\")  \n\u003e particularly:  \n\u003e [http://www.msfn.org/...o...45574\\\u0026st\u003d28](http://www.msfn.org/board/index.php?showtopic\u003d145574\u0026st\u003d28 \"External link\")\n\nThanks Wonko, I\u0027m reading through this thread now.  \n\n\u003e All the rest seems to imply that there is mostly junk in the MBR, but as said, I would like to have a look at it.\n\nHere\u0027s a link to what I hope is an extract of the MBR from the first image I created using TestDisk ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)   \n[http://rapidshare.co...mbr-sectors.zip](http://rapidshare.com/files/431571796/mbr-sectors.zip \"External link\")  \n\nIf you need anything else, please let me know and again, thank you for your help! ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)   \n"
    },
    {
      "id": "114120",
      "timestamp": "2010-11-18T13:27:48+00:00",
      "author": "Wonko the Sane",
      "content": "That is 120000 bytes starting from first sector of the partition. (i.e. starting from first sector of \\\\\\\\Logicaldrive) or in other words the first sector of the file is the PBR or bootsector.  \n\nI can already see problems in it.  \n\nThe $MFTMirr is in a position that is - to say the least - \"queer\", on 2nd cluster.  \n\nAnd the disk \"label\" seems like garbage.  \n\nNothing too bad, from the little I have seen, though. :wink:  \n\nBut what I asked is first sector of the \\\\\\\\.\\\\Physicaldrive, i.e. the MBR.  \n\nThe data in the bootsector at first sight, is that of a partition starting at sector 13169520 (doubtly first partition).  \nIt shows that before it there is a partitionaround 6 Gb in size.  \nThe sectors in the partition are 182195999, i.e. 93,284,351,488.  \n\nMost probably you imaged with Testdisk the \\\\\\\\.\\\\LogicalDrive AND NOT the \"\\\\\\\\.\\\\PhysicalDrive (or \"WHOLE\" disk).  \n\n\u003cbr /\u003e\n\nIf and when dd datarescue ends, just run hdhacker on the actual drive:  \n[http://dimio.altervi.../eng/index.html](http://dimio.altervista.org/eng/index.html \"External link\")  \n\nI want the first sector of \\\\\\\\.\\\\Physicaldrive and, while you are at it, first 16 sectors of all (if any) \\\\\\\\.\\\\LogicalDrive\u0027s  \n\n![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nWonko   \n"
    },
    {
      "id": "114122",
      "timestamp": "2010-11-18T14:31:17+00:00",
      "author": "HattersFC",
      "content": "OK... I\u0027ve run HDHacker on the original drive as instructed.  \nThe is located here: [http://rapidshare.co...R_HardDisk2.dat](http://rapidshare.com/files/431622349/MBR_HardDisk2.dat \"External link\")  \n\nI\u0027m working on the logical drives, however the drive keeps disappearing from Windows and then can\u0027t be accessed in TestDisk etc.. ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)   \nOnce I have them, I\u0027ll post them here too.  \n\nGoing back to the CHS geometry from earlier, and if this helps at all, I opened TestDisk this morning and it reported the drive with CHS of 12162 255 63, but with a warning that the number of heads was incorrect..   \n"
    },
    {
      "id": "114143",
      "timestamp": "2010-11-18T22:05:48+00:00",
      "author": "Wonko the Sane",
      "content": "That hard disk must have some stories to tell.  \nAs expected there is a first, hidden (0x27) partition.  \nThe MBR CODE is an Altiris one.  \n\nHow did the ddrescue image come out?  \n\nFrom what you say that hard disk has some intermittent problem (heat related?), another reason to image it in \"sections\" (if the \"whole image\" you attempted overnight failed).  \n\nFrom the bits I have seen there is no particular \"logical\" failure in the partitioning or the filesystem (though as said the choice for the $MFTmirr location is \"queer\".  \n\nThe problem you experienced is due more to the dying hard disk than anything in the structure.  \n\nThe more sectors you can get through ddrescue, the more we can get back as data.  \n\n![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nWonko   \n"
    },
    {
      "id": "114154",
      "timestamp": "2010-11-18T23:08:28+00:00",
      "author": "HattersFC",
      "content": "\u003e How did the ddrescue image come out?\nAnnoyingly, the laptop I am using at work for recovery went into Hibernate, so the image failed..  \nStupid, I should\u0027ve checked that.. But, I did get another image today through TestDisk..  \n\n\u003e From what you say that hard disk has some intermittent problem (heat related?), another reason to image it in \"sections\" (if the \"whole image\" you attempted overnight failed).  \n\u003e The more sectors you can get through ddrescue, the more we can get back as data.\n\nIt\u0027s a weird problem, when I first connect the drive, it appears in Explorer with a drive letter, though \"unformatted\".. Then after analysing it in TestDisk or attempting an image, in *x* program, the drive disappears!  \n\nFrom what I\u0027ve seen I\u0027m assuming DrDD is the best for section-by-section recovery of the drive..  \nThis may seem elementary, but does this mean splitting the drive into sections and recovering section, by section? I just want to make sure I am not barking up the wrong tree. :-s   \n"
    },
    {
      "id": "114155",
      "timestamp": "2010-11-18T23:31:49+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e It\u0027s a weird problem, when I first connect the drive, it appears in Explorer with a drive letter, though \"unformatted\".. Then after analysing it in TestDisk or attempting an image, in *x* program, the drive disappears!\nExactly.  \n\n\u003e From what I\u0027ve seen I\u0027m assuming DrDD is the best for section-by-section recovery of the drive..  \n\u003e This may seem elementary, but does this mean splitting the drive into sections and recovering section, by section? I just want to make sure I am not barking up the wrong tree. :-s\nOw, come on, it\u0027s not brain surgery, after all.  \nSay you have a very small disk, containing 100 sectors.  \nAn image of it is an EXACT copy of it.  \nThis means that the image MUST contain ALL sectors from LBA 0 to 99.  \nNow imagine that a mad hatter has made so that the disk will disconnect after you have imaged a random number of sectors **n** where 30\\\u003c***n*** \\\u003c100  \nNow what would be your approach.  \nInsist on using an imaging app that ALWAYS starts from 0 and hope to be lucky and get, before or later ***n*** \u003d100 or you are more towards attempting imaging:  \n\n* sectors 0-29\n* sectors 30-59\n* sectors 60-99\n\nand then join these segments together?  \n:wink:  \n\nIf one or more sectors simply cannot be read, you replace it/them with a blank one.  \n\nSee here for a possibly easier but more exhaustive explanation:  \n[http://www.boot-land...showtopic\u003d11434](http://www.boot-land.net/forums/index.php?showtopic\u003d11434 \"External link\")  \n\n![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nWonko   \n"
    },
    {
      "id": "114217",
      "timestamp": "2010-11-19T17:26:41+00:00",
      "author": "HattersFC",
      "content": "I see now, sorry for the slow uptake... ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \nThanks for your patience.  \n\nI am running a full \"back-to-front\" image of the drive at the moment..  \nIt has, as expected slowed down to a crawl, around 97% complete.   \n\nWhen the image is finished, what are the next steps I need to perform?   \n"
    },
    {
      "id": "114255",
      "timestamp": "2010-11-19T23:12:51+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I am running a **full** \"back-to-front\" image of the drive at the moment..\n\nPerfect, **EXACTLY** what I tried every which way I could to explain that it was NOT advised. ![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \n\nSometimes I think that my English has become sub-standard when it comes to make myself clear on these kind of things.  \n\nThe original message sent was (in case of failing/defective hard disks):  \n\n* DO NOT make A FULL image unattended \"forward\"\n* DO NOT make a FULL image unattended \"backwards\"\n* DO NOT make a FULL image unattended\n* DO NOT make a FULL image\n* **BUT INSTEAD**   \n* do an ATTENDED attempt \"forward\" and, as soon as you hit a \"bad area\" STOP the imaging, check where the imaging stopped, if needed re-do a partial image until the first bad sector found (if not a single one), \"skip\" a \"reasonable amount of sectors and do another partial image until you hit next \"bad area\".\n* Once you have finished the above and reached the end of the disk, try \"filling the gaps\" going backwards.\n* Finally re-assemble the full image by joining the partial images you made adding if needed blank sectors to replace the unreadable/missing parts.\n\n\u003cbr /\u003e\n\n\u003cbr /\u003e\n\n\u003e It has, as expected slowed down to a crawl, around 97% complete.   \n\u003e\n\u003e When the image is finished, what are the next steps I need to perform?\nLet\u0027s wait 100%.  \nFrom what I have seen most probably a simple chkdsk may be able to fix the filesystem, but there is NO way to know the result of an experiment until we have something to experiment with...![:hi:](http://reboot.pro/public/style_emoticons/default/hi.gif)  \n\n:wink:  \nWonko   \n"
    },
    {
      "id": "114521",
      "timestamp": "2010-11-22T17:19:35+00:00",
      "author": "HattersFC",
      "content": "\u003e Perfect, **EXACTLY** what I tried every which way I could to explain that it was NOT advised. ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)\n\nOops... ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png) Not much I can say about that, I should\u0027ve being paying more attention to what I was reading.  \n\n\u003e The original message sent was (in case of failing/defective hard disks):  \n\u003e\n\u003e * DO NOT make A FULL image unattended \"forward\"\n\u003e * DO NOT make a FULL image unattended \"backwards\"\n\u003e * DO NOT make a FULL image unattended\n\u003e * DO NOT make a FULL image\n\u003e * **BUT INSTEAD**   \n\u003e * do an ATTENDED attempt \"forward\" and, as soon as you hit a \"bad area\" STOP the imaging, check where the imaging stopped, if needed re-do a partial image until the first bad sector found (if not a single one), \"skip\" a \"reasonable amount of sectors and do another partial image until you hit next \"bad area\".\n\u003e * Once you have finished the above and reached the end of the disk, try \"filling the gaps\" going backwards.\n\u003e * Finally re-assemble the full image by joining the partial images you made adding if needed blank sectors to replace the unreadable/missing parts.\n\u003e\n\u003e \u003cbr /\u003e\n\u003e\n\u003cbr /\u003e\n\nI am currently following the above steps and will report back once complete, or if I have any questions.  \n\nOnce again, thank you for your help.   \n"
    },
    {
      "id": "114524",
      "timestamp": "2010-11-22T17:25:48+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e I am currently following the above steps and will report back once complete, or if I have any questions.\nThat should mean that the \"full backwards\" image failed also? ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png) ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \n\n![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \nWonko   \n"
    },
    {
      "id": "114526",
      "timestamp": "2010-11-22T17:36:27+00:00",
      "author": "HattersFC",
      "content": "\u003e That should mean that the \"full backwards\" image failed also? ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png) ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)\n\nAh, the backwards image, (I should\u0027ve mentioned that in my previous post), it  \nactually completed, with a lot of read errors, the resulting image is 97Gb in size.   \n"
    },
    {
      "id": "114531",
      "timestamp": "2010-11-22T18:19:11+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Ah, the backwards image, (I should\u0027ve mentioned that in my previous post), it  \n\u003e actually completed, with a lot of read errors, the resulting image is 97Gb in size.\n\n97 Gb is not a \"number\" ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png) (I mean not an accurate enough one ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)).   \n\"a lot\" is also not a number. (knowing how many read errors you have and in which areas - LBA addresses - would help)  \n\nA suitable image to work on needs to be AT LEAST:  \n\n* 2,048 (hidden sectors, including the MBR)\n* 13,167,472 (sectors in the first, hidden 0x27 type partition)\n* 182,196,000 (sectors in the second, 0x07 type partition)\n\n\u003cbr /\u003e\n\ni.e. 2,048+13,167,472+182,196,000\u003d 195,365,520 sectors  \n195,365,520 x 512\u003d 100,027,146,240 bytes  \n\nNow, if the image is the above size (or bigger) we can try working on it, if it is smaller than that it cannot be possibly of use.  \n\n![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \nWonko   \n"
    },
    {
      "id": "114587",
      "timestamp": "2010-11-23T10:12:27+00:00",
      "author": "HattersFC",
      "content": "\u003e 97 Gb is not a \"number\" :smile: (I mean not an accurate enough one :smile:).\n\nGood point, so to be more accurate...  \n\nWhen the image is viewed in Explorer (which is less than accurate :smile: ) the size is reported as 97,683,233Kb.  \n\nWhen viewing the file properties:  \n\nSize: 93.1 GB (100,027,630,080 bytes)  \nSize on Disk: 93.1 GB (100,027,633,664 bytes)  \n\nNow, assuming that the number of sectors reported for the physical drive in DrDD is correct, 195,366,465, then following your calculation of :  \n\nsectors\\*512 bytes  \n\n195,366,465 \\* 512 \u003d 100,027,630,080 bytes.  \n\nWhich I\u0027m hoping... means we\u0027re a little closer to being able to recovery.  \n:smile:   \n\n\u003e \"a lot\" is also not a number. (knowing how many read errors you have and in which areas - LBA addresses - would help)\n\nI will work on this today.   \n"
    },
    {
      "id": "114623",
      "timestamp": "2010-11-23T18:26:04+00:00",
      "author": "Wonko the Sane",
      "content": "Actually:  \n97,683,233\\*1,024\u003d100,027,630,592  \n\nThe actual number 100,027,630,080/1,024\u003d97,683,232**.5**   \n\nSince the requirement is 100,027,146,240 and BOTH:  \n100,027,630,592  \nand   \n100,027,630,080  \nare bigger than that, we are ready to go. :smile:   \n100,027,630,080/512\u003d195,366,465 sectors  \nwhich with the standard CHS geometry of ***n*** /255/63 makes a nice, round :smile: :  \n195,366,465/255/63\u003d12,161 cylinders  \n\nSo the image is seemingly complete. :smile:  \n\nNow, what is the \"aim\" of the recovery?  \n\nGetting the files or trying to rebuild the NTFS filesystem (if problematic)? ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \n\nWhat I would do is anyway make a copy of the image (provided that you have some more space for it), and work on this latter copy.  \n\nWhat happens if you load the image in TESTDISK?  \n\nRemember to go to \"Options\" and REMOVE the check for \"aligned on cylinder boundary\":  \n[http://www.cgsecurit...ki/Menu_Options](http://www.cgsecurity.org/wiki/Menu_Options \"External link\")  \n\nFrom the snippets of the MBR and bootsector you posted earlier, TESTDISK should find no problems with the partition, and it is likely it will allow you to access most files without need of any intervention.  \n\nThe fact that your \"full backwards image\" started choking around 97% should mean that most if not all of the problems are in the first (currently hidden) partition.  \n\nAlternatively, you can try loading the image in DMDE:  \n[http://softdm.com/](http://softdm.com/ \"External link\")  \n\n![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \nWonko   \n"
    },
    {
      "id": "114642",
      "timestamp": "2010-11-23T20:39:45+00:00",
      "author": "HattersFC",
      "content": "\u003e Actually:  \n\u003e 97,683,233\\*1,024\u003d100,027,630,592  \n\u003e\n\u003e The actual number 100,027,630,080/1,024\u003d97,683,232**.5**\nI stand corrected once again :-)  \n\n\u003e So the image is seemingly complete. ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \n\u003e Now, what is the \"aim\" of the recovery?  \n\u003e Getting the files or trying to rebuild the NTFS filesystem (if problematic)? :smile:\n:smile:   \n\nI have a copy of the image, though I haven\u0027t tried to load it in TestDisk yet, I will try this tomorrow.  \n\nHopefully, I\u0027ll be able to recover the files I need from it, and if the partition can be re-built, great!   \n"
    },
    {
      "id": "114666",
      "timestamp": "2010-11-24T09:05:33+00:00",
      "author": "Wonko the Sane",
      "content": "Good, let\u0027s see what happens.  \nUnless there is a $MFT corruption, everything should be accessible from either of the two programs.  \n\nIf you have problems just say so.  \n\nOnce you have recovered the files, we\u0027ll see how to mount the image and hopefully check it\u0027s filesystem.  \n\nWhat are the contents of the hidden partition?  \n\nAre they to be recovered too?  \n\n:smile:  \nWonko   \n"
    },
    {
      "id": "114669",
      "timestamp": "2010-11-24T10:24:03+00:00",
      "author": "HattersFC",
      "content": "\u003e Good, let\u0027s see what happens.  \n\u003e Unless there is a $MFT corruption, everything should be accessible from either of the two programs.\n\nI\u0027ve loaded the image in TestDisk, set the Cylinder Boundary option to \"No\",  \nand after selecting Analyse had the following error:  \n\n**Partition sector doesn\u0027t have the endmark 0xAA55**   \n\nAfter running a Quick Search and Deeper Search, no partitions were found and there were no further errors.  \n\nI\u0027ve also loaded the image in DMDE, and the image is mostly F\u0027s until LBA 191407216.  \nThen from LBA 195365520, everything is 0\u0027s....  \n\n:smile:   \n"
    },
    {
      "id": "114670",
      "timestamp": "2010-11-24T10:42:29+00:00",
      "author": "HattersFC",
      "content": "\u003e I\u0027ve also loaded the image in DMDE, and the image is mostly F\u0027s until LBA 191407216.  \n\u003e Then from LBA 195365520, everything is 0\u0027s....\n\nJust to follow up on this, I opened up the first partial image I had taken from the start of the disk in DMDE, and was shown the following:   \n\n[http://rapidshare.co...E-1st_image.png](http://rapidshare.com/files/432810280/DMDE-1st_image.png \"External link\")  \n\nSo.... I will go back to creating partial images and then look to join them together etc, as previously explained.   \n"
    },
    {
      "id": "114671",
      "timestamp": "2010-11-24T10:48:13+00:00",
      "author": "Wonko the Sane",
      "content": "Yep, there must be something \"wrong\" in the image. :smile:  \n\nThe MBR and PBR+sectors you posted earlier were allright.  \n\n```\nEntry Type Boot   bCyl  bHead  bSect eCyl\teHead   eSec\tStartSector\tNumSectors\t\n\n#0\t27\t00\t0\t  32\t33\t  870\t239\t63\t\t2048\t\t13167472\t\n\n#1\t07\t80\t871\t0\t  1\t 1023\t239\t63\t\t13169520\t182196000\n```\n\n\u003cbr /\u003e\n\nThe snippet you posted first time with the PBR has right value of Sectors before: 13169520.  \n\nSo that partial data are allright.  \n\nA problem with Datarescue? :smile:  \n\n![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \nWonko   \n"
    },
    {
      "id": "114672",
      "timestamp": "2010-11-24T11:02:34+00:00",
      "author": "HattersFC",
      "content": "\u003e Yep, there must be something \"wrong\" in the image. :smile:  \n\u003e\n\u003e A problem with Datarescue? :smile:\n\nI think the problem is with the disk \"dropping\" out after the first read error, so it is then un-readable.. When I started the partial images, and I stopped the imaging after hitting the read error/semaphore timeout message, if the drive list is refreshed, the dodgy drive vanishes...  \n\nWonko, would be any problem with joining a \"forward\" read image to a \"backwards\" read image? ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png) I\u0027m assuming not, but would like to check before I waste any time with another backwards read imaging of the drive.   \n"
    },
    {
      "id": "114675",
      "timestamp": "2010-11-24T12:50:39+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e Wonko, would be any problem with joining a \"forward\" read image to a \"backwards\" read image? :smile: I\u0027m assuming not, but would like to check before I waste any time with another backwards read imaging of the drive.\nNot at all.  \nThe \"nice\" feature of the program is that it names the files with the actual sector numbers it contains, you only have to be careful not to leave any \"gap\".  \n\nExample (simplified):  \n\n* your first 100 sectors \"chunk\" (sector 0 to 99) is named **image\\[0-50688\\].dd** (as 50688/512\u003d99) and is made \"forward\"\n* then you hit a bad sector and you do next chunk of 100 sectors from 101 to 201 (backwards), filename is **image\\[51712-102912\\].dd**\n* there is a gap (of 2 sectors) between the files as in 51712-50688\u003d1,024/512\u003d2\n* so you need to create a file 00 filled, 1024 bytes in size and name it manually **image\\[50688-51712\\].dd**\n\n\u003cbr /\u003e\n\nYou just need to be a bit careful when creating (if needed) the gap filling files, possibly naming them accurately and check twice when joining them together.  \n\nAs always when using LBA notation the \"Start\" actually means \"sectors before\" and \"End\" actually means \"last sector included\".  \n\nTo create the empty files you can use fsz (part of the DSFOK kit):  \n[http://members.ozema...eezip/freeware/](http://members.ozemail.com.au/~nulifetv/freezip/freeware/ \"External link\")  \n\n```\nfsz image\u0026#91;50688-51712\u0026#93;.dd 1024\n```\n\n\u003cbr /\u003e\n\nYou can also use rsz to resize the \"previous\" file, and then rename it correctly, but as I see it it is more error prone.  \n\nto join the chunks.:  \n\n```\ndsfi file1 e 0 file2\n```\n\n\u003cbr /\u003e\n\n(you can also use)  \n\u003e COPY /B file1 + file2 file3\nthe difference is that with dsfi the \"file1\" will be modified to have the \"file2\" one added to it, whilst with the COPY the \"file3\" will be a new file containing \"file1+file2\", i.e. the original files are left untouched, but you will need double the disk space at each step, unless you delete the originating files.  \n\n![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \nWonko   \n"
    },
    {
      "id": "114682",
      "timestamp": "2010-11-24T14:27:12+00:00",
      "author": "HattersFC",
      "content": "Great, thanks for the explanation ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \n\nI\u0027ll get cracking on this, and let you know how I get on :smile:   \n"
    },
    {
      "id": "114927",
      "timestamp": "2010-11-28T12:12:51+00:00",
      "author": "HattersFC",
      "content": "OK, I have my full image now, made from lots of individual images joined together..  \nI also have a copy of it.  \n\nHowever, when I ran TestDisk on the copy this morning, with the Cylinder Boundary option off it seemed to suggest there were two partitions, as I expect, but after running Analyse it showed several, all deleted.  \n\nI have attached the log below:  \n[TestDisk First Run](http://rapidshare.com/files/433633891/testdisk-FirstRun.log \"External link\")  \n\nI then re-ran the analysis on the image copy, changing the geometry as indicated in a previous post.  \n\u003e 97,683,233\\*1,024\u003d100,027,630,592  \n\u003e\n\u003e The actual number 100,027,630,080/1,024\u003d97,683,232**.5**   \n\u003e\n\u003e Since the requirement is 100,027,146,240 and BOTH:  \n\u003e 100,027,630,592  \n\u003e and   \n\u003e 100,027,630,080  \n\u003e are bigger than that, we are ready to go. ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)   \n\u003e 100,027,630,080/512\u003d195,366,465 sectors  \n\u003e which with the standard CHS geometry of ***n*/255/63** makes a nice, round ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png) :  \n\u003e 195,366,465/255/63\u003d**12,161 cylinders**\n\nThe log file is here:  \n[TestDisk Second Run](http://rapidshare.com/files/433633891/testdisk-2ndRun.log \"External link\")  \n\nHowever, for the geometry changes to stick, I had to select No when asked if partition was created under Vista.  \n\nWhen the run had completed, there were no files found in the larger partition...  \n\nWhat can I try next, have I missed anything?   \n"
    },
    {
      "id": "114933",
      "timestamp": "2010-11-28T13:17:28+00:00",
      "author": "Wonko the Sane",
      "content": "\u003e What can I try next, have I missed anything?\n\nIf the MBR of the \"final\" image is the one you already posted, it is seemingly valid.  \nYou don\u0027t need TESTDISK to change ANYTHING to it.   \n\nThe 255/63 is the \"standard\" for the Hard disk Manufacturers, for windows drivers and for practically EVERY BIOS manufacturer in the world.  \n\n**BUT** yours is probably an IBM/Lenovo that uses the \"stupid\" geometry of 240/63, at least this is the data in your MBR.  \n\nThe bootsector you posted has however a 255/63 geometry, which, summed up to the Altiris MBR made me think that HD had seen a lot of things in it\u0027s life.  \n\nRevert to the UNTOUCHED copy.  \n\nDO NOT write modifications to the image.  \n\nDO change the setting about \"respecting cylinder boundary\" as in post #25, your current partition entries DO NOT respect them, if you fail to do that TESTDISK will probably create havoc (EXACTLY what happened to **SkylineRB26DETT** in the initially mentioned thread: [http://www.msfn.org/...howtopic\u003d145574](http://www.msfn.org/board/index.php?showtopic\u003d145574 \"External link\") )  \n\n\u003cbr /\u003e\n\nCan you open the image in DMDE?  \nDoes it find the filesystem and it\u0027s $MFT?  \n\nThe testdisk first run looks a lot like lots of things are missing. ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \nLink to second run is invalid, but that\u0027s allright, since the problem can only be worsened after you wrote the new partition table.  \n\n![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)  \nWonko   \n"
    },
    {
      "id": "114935",
      "timestamp": "2010-11-28T13:23:51+00:00",
      "author": "HattersFC",
      "content": "\u003e **BUT** yours is probably an IBM/Lenovo that uses the \"stupid\" geometry of 240/63, at least this is the data in your MBR.\n\nSpot on, the hard drive was indeed from a Lenovo laptop.  \n\n\u003e DO NOT write modifications to the image.\nI haven\u0027t (knowingly) written anything to the images I have taken,  \nuntil I know exactly what is required for recovery.  \n\n\u003e Can you open the image in DMDE?  \n\u003e Does it find the filesystem and it\u0027s $MFT?\nAfter TestDisk didn\u0027t seem to find anything, I started to look at the image in DMDE,  \nin read-only mode. It\u0027s currently performing an NTFS scan and has found several volumes..  \nI am waiting for it to finish before I try anything further.   \n"
    },
    {
      "id": "114942",
      "timestamp": "2010-11-28T16:58:40+00:00",
      "author": "HattersFC",
      "content": "Well, the NTFS scan in DMDE seems to be complete, though the progress bar stopped for about an hour at 99%..  \n\nHowever, I am currently recovering files from the image!! ![:D](http://reboot.pro/public/style_emoticons/default/biggrin.png)   \nI\u0027m not too sure if everything is there, but so far it\u0027s looking good.   \n"
    }
  ]
}